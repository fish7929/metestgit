function Swipe(t,e){"use strict";function i(){m=v.children,f=new Array(m.length),g=t.getBoundingClientRect().width||t.offsetWidth,g=t.offsetWidth,v.style.width=m.length*g+"px";for(var e=m.length;e--;){var i=m[e];i.style.width=g+"px",i.setAttribute("data-index",e),p.transitions&&(i.style.left=e*-g+"px",a(e,_>e?-g:e>_?g:0,0))}p.transitions||(v.style.left=_*-g+"px"),t.style.visibility="visible"}function n(){_?r(_-1):e.continuous&&r(m.length-1)}function s(){_<m.length-1?r(_+1):e.continuous&&r(0)}function r(t,i){if(_!=t){if(p.transitions){for(var n=Math.abs(_-t)-1,s=Math.abs(_-t)/(_-t);n--;)a((t>_?t:_)-n-1,g*s,0);a(_,g*s,i||A),a(t,0,i||A)}else l(_*-g,t*-g,i||A);_=t,u(e.callback&&e.callback(_,m[_]))}}function a(t,e,i){o(t,e,i),f[t]=e}function o(t,e,i){var n=m[t],s=n&&n.style;s&&(s.webkitTransitionDuration=s.MozTransitionDuration=s.msTransitionDuration=s.OTransitionDuration=s.transitionDuration=i+"ms",s.webkitTransform="translate("+e+"px,0)translateZ(0)",s.msTransform=s.MozTransform=s.OTransform="translateX("+e+"px)")}function l(t,i,n){if(!n)return void(v.style.left=i+"px");var s=+new Date,r=setInterval(function(){var a=+new Date-s;return a>n?(v.style.left=i+"px",w&&c(),e.transitionEnd&&e.transitionEnd.call(event,_,m[_]),void clearInterval(r)):void(v.style.left=(i-t)*(Math.floor(a/n*100)/100)+t+"px")},4)}function c(){y=setTimeout(s,w)}function h(){w=e.auto>0?e.auto:0,clearTimeout(y)}var d=function(){},u=function(t){setTimeout(t||d,0)},p={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var e=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var i in e)if(void 0!==t.style[e[i]])return!0;return!1}(document.createElement("swipe"))};if(t){var m,f,g,v=t.children[0];e=e||{};var y,b,_=parseInt(e.startSlide,10)||0,A=e.speed||300,w=e.auto||0,x={},T={},S={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":u(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":u(this.transitionEnd(t));break;case"resize":u(i.call())}e.stopPropagation&&t.stopPropagation()},start:function(t){var e=t.touches[0];x={x:e.pageX,y:e.pageY,time:+new Date},b=void 0,T={},v.addEventListener("touchmove",this,!1),v.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){e.disableScroll&&t.preventDefault();var i=t.touches[0];T={x:i.pageX-x.x,y:i.pageY-x.y},"undefined"==typeof b&&(b=!!(b||Math.abs(T.x)<Math.abs(T.y))),b||(t.preventDefault(),h(),T.x=T.x/(!_&&T.x>0||_==m.length-1&&T.x<0?Math.abs(T.x)/g+1:1),o(_-1,T.x+f[_-1],0),o(_,T.x+f[_],0),o(_+1,T.x+f[_+1],0))}},end:function(){var t=+new Date-x.time,i=Number(t)<250&&Math.abs(T.x)>20||Math.abs(T.x)>g/2,n=!_&&T.x>0||_==m.length-1&&T.x<0,s=T.x<0;b||(i&&!n?(s?(a(_-1,-g,0),a(_,f[_]-g,A),a(_+1,f[_+1]-g,A),_+=1):(a(_+1,g,0),a(_,f[_]+g,A),a(_-1,f[_-1]+g,A),_+=-1),e.callback&&e.callback(_,m[_])):(a(_-1,-g,A),a(_,0,A),a(_+1,g,A))),v.removeEventListener("touchmove",S,!1),v.removeEventListener("touchend",S,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==_&&(w&&c(),e.transitionEnd&&e.transitionEnd.call(t,_,m[_]))}};return i(),w&&c(),p.addEventListener?(p.touch&&v.addEventListener("touchstart",S,!1),p.transitions&&(v.addEventListener("webkitTransitionEnd",S,!1),v.addEventListener("msTransitionEnd",S,!1),v.addEventListener("oTransitionEnd",S,!1),v.addEventListener("otransitionend",S,!1),v.addEventListener("transitionend",S,!1)),window.addEventListener("resize",S,!1)):window.onresize=function(){i()},{setup:function(){i()},slide:function(t,e){r(t,e)},stop:function(){h()},prev:function(){h(),n()},next:function(){h(),s()},getPos:function(){return _},kill:function(){h(),v.style.width="auto",v.style.left=0;for(var t=m.length;t--;){var e=m[t];e.style.width="100%",e.style.left=0,p.transitions&&o(t,0,0)}p.addEventListener?(v.removeEventListener("touchstart",S,!1),v.removeEventListener("webkitTransitionEnd",S,!1),v.removeEventListener("msTransitionEnd",S,!1),v.removeEventListener("oTransitionEnd",S,!1),v.removeEventListener("otransitionend",S,!1),v.removeEventListener("transitionend",S,!1),window.removeEventListener("resize",S,!1)):window.onresize=null}}}}function checkTextLength(t,e){t.value.length>e&&(t.value=t.value.substr(0,e))}window.Cyan={},window.Cyan.destroyAll=function(){var t,e=Cyan.compositionOpts;for(t in e)e[t]=null,delete e[t];var i=Cyan.compositionFonts;for(t in i)i[t]=null,delete i[t];var n,s,r,a,o=Cyan.compositions;for(t in o){var l=o[t];for(n=l.symbolInstances,s=0;s<n.length;s++)r=n[s],r.stopAllTimeline(),r.element=null;a=l.symbolDefns;var c=a.stage;if(c){c.bindings.length=0;for(t in c.actions)c.actions[t]=null,delete c.actions[t];for(t in c.timelines)c.timelines[t]=null,delete c.timelines[t]}o[t]=null,delete o[t]}a=Cyan.compositionDefns;for(t in a)a[t]=null,delete a[t]},window.AdobeEdge=window.Cyan,function(){var t=window.AdobeEdge.framework,e=window.AdobeEdge;if(t)if("zepto"===t)e.$_=window.Zepto;else if("jqmobi"===t){var i=window.jq;if(e.$_=i,!function(){var t=document.createElement("div");return t.style["background-color"]="rgb(255, 255, 255)","rgb(255, 255, 255)"===t.style.backgroundColor}()){var n=function(t){return t.replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/gi,function(t,e){return String(e).toUpperCase()})};i.fn._css_=i.fn.css,i.fn.css=function(t,e,i){var s=t;if($.isObject(t)){var r,s={};for(r in t)t.hasOwnProperty(r)&&(s[n(r)]=t[r])}else s=n(t);return this._css_(s,e,i)}}}else e.$_=jQuery;!t||"zepto"!==t&&"jqmobi"!==t||($.data=$.data||function(t,e,i){return e="data-"+e,"undefined"==typeof i?t[e]:void(t[e]=i)})}(),function(t){function e(t){for(var e,i=s.style,n=0;n<t.length;n++)if(e=t[n],void 0!==i[e])return!0;return!1}window.AdobeEdge.jQuery=t,t.easing=t.easing||{linear:function(t,e,i,n){return i+n*t},swing:function(t,e,i,n){return(-Math.cos(t*Math.PI)/2+.5)*n+i}},t.easing.jswing=t.easing.swing,t.extend(t.easing,{def:"easeOutQuad",swing:function(e,i,n,s,r){return t.easing[t.easing.def](e,i,n,s,r)},easeInQuad:function(t,e,i,n,s){return n*(e/=s)*e+i},easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i},easeInOutQuad:function(t,e,i,n,s){return 1>(e/=s/2)?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,s){return n*(e/=s)*e*e+i},easeOutCubic:function(t,e,i,n,s){return n*((e=e/s-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,s){return 1>(e/=s/2)?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,s){return n*(e/=s)*e*e*e+i},easeOutQuart:function(t,e,i,n,s){return-n*((e=e/s-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,s){return 1>(e/=s/2)?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,s){return n*(e/=s)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,s){return n*((e=e/s-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,s){return 1>(e/=s/2)?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,s){return-n*Math.cos(e/s*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,s){return n*Math.sin(e/s*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,s){return-n/2*(Math.cos(Math.PI*e/s)-1)+i},easeInExpo:function(t,e,i,n,s){return 0==e?i:n*Math.pow(2,10*(e/s-1))+i},easeOutExpo:function(t,e,i,n,s){return e==s?i+n:n*(-Math.pow(2,-10*e/s)+1)+i},easeInOutExpo:function(t,e,i,n,s){return 0==e?i:e==s?i+n:1>(e/=s/2)?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,s){return-n*(Math.sqrt(1-(e/=s)*e)-1)+i},easeOutCirc:function(t,e,i,n,s){return n*Math.sqrt(1-(e=e/s-1)*e)+i},easeInOutCirc:function(t,e,i,n,s){return 1>(e/=s/2)?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,s){t=1.70158;var r=0,a=n;return 0==e?i:1==(e/=s)?i+n:(r||(r=.3*s),a<Math.abs(n)?(a=n,t=r/4):t=r/(2*Math.PI)*Math.asin(n/a),-(a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*s-t)*Math.PI/r))+i)},easeOutElastic:function(t,e,i,n,s){t=1.70158;var r=0,a=n;return 0==e?i:1==(e/=s)?i+n:(r||(r=.3*s),a<Math.abs(n)?(a=n,t=r/4):t=r/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*e)*Math.sin(2*(e*s-t)*Math.PI/r)+n+i)},easeInOutElastic:function(t,e,i,n,s){t=1.70158;var r=0,a=n;return 0==e?i:2==(e/=s/2)?i+n:(r||(r=.3*s*1.5),a<Math.abs(n)?(a=n,t=r/4):t=r/(2*Math.PI)*Math.asin(n/a),1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*s-t)*Math.PI/r)+i:a*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*s-t)*Math.PI/r)*.5+n+i)},easeInBack:function(t,e,i,n,s,r){return void 0==r&&(r=1.70158),n*(e/=s)*e*((r+1)*e-r)+i},easeOutBack:function(t,e,i,n,s,r){return void 0==r&&(r=1.70158),n*((e=e/s-1)*e*((r+1)*e+r)+1)+i},easeInOutBack:function(t,e,i,n,s,r){return void 0==r&&(r=1.70158),1>(e/=s/2)?n/2*e*e*(((r*=1.525)+1)*e-r)+i:n/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+i},easeInBounce:function(e,i,n,s,r){return s-t.easing.easeOutBounce(e,r-i,0,s,r)+n},easeOutBounce:function(t,e,i,n,s){return(e/=s)<1/2.75?7.5625*n*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(e,i,n,s,r){return r/2>i?.5*t.easing.easeInBounce(e,2*i,0,s,r)+n:.5*t.easing.easeOutBounce(e,2*i-r,0,s,r)+.5*s+n}}),window.AdobeEdge=window.AdobeEdge||{},"undefined"==typeof t.Edge&&(t.Edge=window.AdobeEdge);var i=t.Edge;i.version="4.0.0",i.cloneJSONObject=function(e){var n,s;if(t.isArray(e)){n=[];var r,a=e.length;for(r=0;a>r;r++)s=e[r],n[r]="object"==typeof s?i.cloneJSONObject(s):s}else for(r in n={},e)"prototype"!=r&&(s=e[r],n[r]="object"==typeof s?i.cloneJSONObject(s):s);return n},i.Notifier=function(){this.observers=[],this.notificationLevel=this.suppressNotifications=0},t.extend(i.Notifier.prototype,{addObserver:function(t){if(t){for(var e=this.observers.length,i=0;e>i;i++)if(this.observers[i].observer==t)return;this.observers[e]={observer:t}}},removeObserver:function(t){if(t)for(var e=0;e<this.observers.length;e++)if(this.observers[e].observer==t){if(0===this.notificationLevel){this.observers.splice(e,1);break}this.observers[e].deleted=!0}},notifyObservers:function(t,e){if(t&&!this.suppressNotifications){e||(e={}),e.methodName=t,this.notificationLevel++;var i;for(i=0;i<this.observers.length;i++){var n=this.observers[i];(n=n&&!n.deleted?n.observer:void 0)&&("function"==typeof n?n(t,this,e):n[t]&&n[t](this,e))}if(this.notificationLevel--,0===this.notificationLevel)for(i=this.observers.length-1;i>=0;i--)this.observers[i].deleted&&this.observers.splice(i,1)}},enableNotifications:function(){0>--this.suppressNotifications&&(this.suppressNotifications=0,i.Debug.reportError("Unbalanced enableNotifications() call!\n"))},disableNotifications:function(){++this.suppressNotifications}}),i.trimString=function(t){return t.replace(/^\s+|\s+$/g,"")};var n={log:function(){},trace:function(){}};"undefined"==typeof window.console&&(window.console=n);var s=document.createElement("div"),n=i.supported=i.supported||{};n.cssTransform=e(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),n.cssTransform3d=e(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),n.originIncludesBorders=function(){var e=document.createElement("div");null!=document.body&&document.body.appendChild(e);var i=t(e);i.css("left","-9999px").css("width","100px"),i.css("transform-origin","50% 50%").css("-webkit-transform-origin","50% 50%").css("-moz-transform-origin","50% 50%").css("-ms-transform-origin","50% 50%").css("-o-transform-origin","50% 50%");var n=i.css("transform-origin")||i.css("-webkit-transform-origin")||i.css("-moz-transform-origin")||i.css("-ms-transform-origin")||i.css("-o-transform-origin");return i.css("border-width","10px").css("border-style","solid"),i=i.css("transform-origin")||i.css("-webkit-transform-origin")||i.css("-moz-transform-origin")||i.css("-ms-transform-origin")||i.css("-o-transform-origin"),null!=e.parentNode&&e.parentNode.removeChild(e),n!=i}(),n.audio=function(){var t=document.createElement("audio"),e={};return t.canPlayType&&(e.m4a=!!t.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,""),e.aac=e.m4a,e.mp3=!!t.canPlayType("audio/mpeg;").replace(/no/,""),e.wav=!!t.canPlayType('audio/wav; codecs="1"').replace(/no/,""),e.ogg=!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""),e.oga=e.ogg),e}(),n.video=function(){var t=document.createElement("video"),e={};return t.canPlayType&&(e.webm=!!t.canPlayType("video/webm").replace(/no/,""),e.mp4=!!t.canPlayType("video/mp4;").replace(/no/,""),e.ogv=!!t.canPlayType('video/ogg; codecs="theora, vorbis"').replace(/no/,""),e.ogg=!!t.canPlayType('video/ogg; codecs="theora, vorbis"').replace(/no/,"")),e}(),i.isSupported=e}(jQuery),function(t,e){function i(){e.Notifier.call(this),this.animationID="animID-"+i.nextID++}function n(t,i,n){e.Animation.call(this),"function"==typeof t?this.handler=t:"string"==typeof t&&(this.eventType=t),this.handlerContext=n,this.data=i,this.isTrigger=!0}function s(i,n,r,a,o){e.Notifier.call(this),this.animation=i,this.position=0,this.duration=-1,this.opts={},t.extend(this.opts,o),this.easing="function"==typeof a?a:a&&t.easing[a]?a:s.defaultEasing,void 0!==n&&(this.position=n),void 0!==r&&(this.duration=r),this.timeline=null,this.dScale=1,this.dDuration=0,this.done=!1}function r(e){this.variables={},e&&t.extend(this,e)}function a(i){e.Animation.call(this),t.extend(this,e.Timeline.config),t.extend(this,i),this.startPosition=this.timerStart=this.timer=0,this.currentPosition=-1,this.playing=!1,this.duration=0,this.interval=1e3/this.fps,this.objects=[]}var o={};i.nextID=1,t.extend(i.prototype,e.Notifier.prototype,{constructor:i,_setup:function(){},_update:function(){},getDuration:function(){return 0}}),t.extend(n.prototype,i.prototype,{constructor:n,_update:function(t){this.fired||(this.fired=!0,this.handler?this.handler.call(this.handlerContext,t,this.data):this.eventType&&this.timeline&&this.timeline.notifyObservers(this.eventType,{elapsed:t,data:this.data}))},setup:function(t,e,i){var n="undefined"==typeof e.executeTriggers||null===e.executeTriggers;this.fired=e.startingFromCurrent&&n||!n&&!e.executeTriggers?"reverse"!==e.playDirection?t.currentPosition>=i:t.currentPosition<=i:"reverse"!==e.playDirection?t.currentPosition>i:t.currentPosition<i,this.timeline=t}}),s.defaultEasing="linear",t.extend(s.prototype,e.Notifier.prototype,{constructor:s,_setup:function(t,e){this.timeline=t;var i=this.duration,n=null;this.animation&&this.animation.getDuration&&(n=this.animation.getDuration()),this.dScale=-1!==i&&0!==i?n/i:1,this.dDuration=-1!==i?i:n,this.done=!1,this.animation&&this.animation.setup&&this.animation.setup(t,e,this.position)},_update:function(e,i){if(!this.done){var n=e,s=this.dDuration;if(this.animation){var r;0===s?r=n>=0?1:0:(n>=s&&(n=s),0>=n&&(n=0),r=t.easing[this.easing](n/s,n,0,1,s)),this.animation.update(n*this.dScale,r,i)}("reverse"===i.playDirection?0>=n:n>=s)&&this.complete()}},complete:function(){this.done=!0,this.timeline&&this.timeline._updateComplete(this)},getPosition:function(){return this.position},setPosition:function(t){this.position=t},getDuration:function(){return-1!==this.duration?this.duration:this.animation&&this.animation.getDuration?this.animation.getDuration():0},setDuration:function(t){this.duration=t>=0?t:-1}}),a.config={dropFrames:!0,fps:60,pauseThreshold:250};var l=[],c=0;a.tick=function(){var t=l.slice(0);l=[];var e=t.length,i=(new Date).getTime();c=i;for(var n=0;e>n;n++){var s=t[n];"undefined"!=typeof s&&s.call(null,i)}c=0},t.extend(a.prototype,i.prototype,{constructor:a,play:function(t){this.notifyObservers("play"),this.stop(),this.sort(),this.playing=!0,this.context&&(this.context.playDirection=void 0,this.context.executeTriggers=void 0);var e=this.getContext(t);e.timeline=this,void 0!==t&&"number"==typeof t.startPos&&this.currentPosition!==t.startPos?(e.startingFromCurrent=!1,this.currentPosition=t.startPos):e.startingFromCurrent=!0,this._setup(this,e),this.timerStart=c||(new Date).getTime(),this.startPosition=this.currentPosition;var i,n=this;this.lastUpdateTime=this.timerStart,this.timerFunc=i=e.externalClock?function(t){n._handleTimer(e,i,t)}:function(){n._handleTimer(e,i)},e.firstUpdate=!0,this._handleTimer(e,i),e.firstUpdate=!1},stop:function(t){if(t&&t.dontNotify||this.notifyObservers("stop"),this.timer&&clearTimeout(this.timer),this.timerStart=this.timer=0,this.playing=!1,this.timerFunc)for(t=0;t<l.length;t++)l[t]===this.timerFunc&&(l[t]=void 0)},seek:function(t,e){this.notifyObservers("seek"),this.sort(),this.stop();var i=this.currentPosition;"number"==typeof t&&(this.currentPosition=t);var n=this.getContext(e);n.timeline=this,n.startingFromCurrent=i===this.currentPosition?!0:!1,this._setup(this,n),n.firstUpdate=!0,this._updateSeek(this.currentPosition,1,n,i),n.firstUpdate=!1},add:function(t,e,i,n,r){t=new s(t,e,i,n,r),this.objects.push(t),this.sorted=!1},sort:function(){if(!this.sorted){var t,e,i,n={width:1,height:2,"-webkit-transform-origin":3,"transform-origin":4,"-moz-transform-origin":5,"-ms-transform-origin":6,left:7,top:8,bottom:9,right:10,motion:11};for(this.objects.sort(function(t,e){var i=t.animation,s=e.animation;if(!i&&!s)return t.position-e.position;if(!i)return-1;if(!s)return 1;if(!i.property&&!s.property)return t.position-e.position;if(!i.property)return-1;if(!s.property)return 1;var r=n[i.property],a=n[s.property];return i.sourceElements!==s.sourceElements?i.sourceElements>s.sourceElements?1:-1:r&&(!a||r>a)?1:a&&(!r||a>r)?-1:t.position-e.position}),t=1;t<this.objects.length;t++)i=this.objects[t-1],e=this.objects[t],i.animation&&e.animation&&i.animation.property===e.animation.property&&i.animation.sourceElements===e.animation.sourceElements?(i.animation._nextObj=e.animation,e.animation._prevObj=i.animation):(i.animation&&(i.animation._nextObj=null),e.animation&&(e.animation._prevObj=null));this.sorted=!0}},getDuration:function(){for(var t=0,e=this.objects,i=this.objects.length,n=Math.max,s=0;i>s;s++)var r=e[s],t=n(t,r.position+r.getDuration());return t},getCurrentPosition:function(){return this.currentPosition},getContext:function(e){return this.context?t.extend(this.context,e):this.context=new r(e),this.context},_update:function(t,e,i){this.sort(),this.currentContext=i,this.notifyObservers("preUpdate",{elapsed:t,easingConst:e});var n=this.objects,s=this.triggers,r=n.length,a=s.length,o="reverse"!==i.playDirection;this.currentDirection=o?"forward":"reverse";for(var l,c,h=!1,d=!0,u=i.executeTriggers,p="undefined"==typeof u||"null"==typeof u,m=0;a>m;m++){var f=s[o?m:a-m-1],g=f.animation.isTrigger&&!(i.startingFromCurrent&&i.firstUpdate);if((p&&g||u||!i.firstUpdate)&&!f.animation.fired&&(o?t>=f.position:t<=f.position+f.duration)){for(var g=this.currentPosition=f.position,v=this._getState(),h=0;r>h;h++)l=n[o?h:r-h-1],(c=o&&!l.opts.reverseOnly||!o&&!l.opts.forwardOnly)&&!l.animation.isTrigger&&(o?g>=l.position:g<=l.position+l.duration)&&((c=g-l.position)||l.duration||o||c--,l._update(c,i));if(h=!0,f.animation._update(g,i),!this._equalState(v)){d=!1;break}}}if(!h)for(h=0;r>h;h++)l=n[o?h:r-h-1],(c=o&&!l.opts.reverseOnly||!o&&!l.opts.forwardOnly)&&!l.animation.isTrigger&&(o?t>=l.position:t<=l.position+l.duration)&&((c=t-l.position)||l.duration||o||c--,l._update(c,i));return this.notifyObservers("postUpdate",{elapsed:t,easingConst:e,context:i}),this.notifyObservers("update",{elapsed:t,easingConst:e}),this.currentContext=null,d},_getState:function(){return{pos:this.currentPosition,dir:this.context.playDirection,playing:this.playing}},_equalState:function(t){var e=!!t.playing,i=!!this.playing;return t.pos===this.currentPosition&&t.dir===this.context.playDirection&&e===i},_handleTimer:function(t,e,i){i=i||(new Date).getTime();var n=i-this.timerStart;i-this.lastUpdateTime>this.pauseThreshold&&(this.timerStart+=i-this.lastUpdateTime+this.interval,n=i-this.timerStart);var s="reverse"===t.playDirection,s=this.startPosition+(s?-n:n);if(this.playing){this.currentPosition=s=Math.max(0,Math.min(s,this.duration));var r=this._update(s,1,t);this.lastUpdateTime=i||(new Date).getTime(),((s="reverse"===t.playDirection)?0<this.currentPosition:this.currentPosition<this.duration)?r&&this.playing&&(t.externalClock?l.push(e):this.timer=setTimeout(e,this.interval)):(this.stop(),this.notifyObservers("complete",{elapsed:n}))}},_setup:function(t,i){e.Animation.prototype._setup.call(this,t),this.triggers=[];for(var n=this.objects,s=this.objects.length,r=0;s>r;r++){var a=n[r];a._done=!1,a._setup(this,i),a.animation.isTrigger&&this.triggers.push(a)}this.duration=this.getDuration()},_updateComplete:function(t){t._done=!0}}),a.prototype._updateSeek=a.prototype._update,e.Animation=i,e.TimelineObject=s,e.Timeline=a,e.Timeline.createTimeline=function(t){return new e.Timeline(t)},e.Timeline.createTween=function(t){var e=o[t];return e?e.func.apply(e.context,Array.prototype.slice.call(arguments,1)):null},e.Timeline.addTweenType=function(t,e,i){o[t]={func:e,context:i}},e.Timeline.createTrigger=function(t,e){return new n(t,e,arguments[arguments.length-1])},e.Timeline.createTriggerFromData=function(t,i){var n=i.trigger.slice(0,2);return n.push(t),e.Timeline.createTrigger.apply(null,n)},e.Timeline.createTimelineFromData=function(t){for(var i=jQuery.Edge.Timeline.createTimeline(),n=t.length,s=0;n>s;s++){var r=t[s],a=null;r.timeline?a=e.Timeline.createTimelineFromData(r.timeline):r.tween?a=e.Timeline.createTween.apply(null,r.tween):r.trigger&&(a=e.Timeline.createTriggerFromData(this,r)),a&&i.add(a,r.position,r.duration,r.easing,r.opts)}return i}}(jQuery,window.AdobeEdge),function(t,e){function i(i,s,r,a,o){for(e.Animation.call(this),this.name="prop tween",this.sourceElements=this.elements=s,this.deferElementResolution=!0,this.tweenType=n[i],this.updateTriggered=!1,this.property=r,this.fromValue=void 0,this.toValue=a,this.duration=1e3,this.fromValues=this.tokens=this.valueTemplate=null,o&&t.extend(this,o),this.deferElementResolution=this.deferElementResolution||"string"==typeof s&&-1!=s.search(/\$\{[^\{\}]+\}/),this.deferElementResolution||(this.elements=this.resolveElementSelector(s)),s=this.toValues=[],r=this.parseValue(a),t.isArray(a)||(a=[a]),r&&0!==r.length||(r=a),i=r.length,a=0;i>a;a++){o=r[a];var l={};"string"==typeof o?(l.value=parseFloat(o.replace(/[a-zA-Z%]+$/,"")),l.unit=o.replace(/^-?[0-9]*(\.[0-9]+)?/,""),isNaN(l.value)&&(l.value=o,l.unit="")):("number"==typeof o&&(o=parseFloat(o)),l.value=o,l.unit=""),s.push(l)}if(this.fromValue)for(s=this.fromValues=[],(a=this.parseValue(this.fromValue))&&0<a.length?this.fromValue=a:t.isArray(this.fromValue)||(this.fromValue=[this.fromValue]),i=this.fromValue.length,a=0;i>a;a++)o=this.fromValue[a],"string"==typeof o?(s[a]=parseFloat(o.replace(/[a-zA-Z%]+$/,"")),isNaN(s[a])&&(s[a]=o)):("number"==typeof o&&(o=parseFloat(o)),s[a]=o);if(this.filter)for(t.isArray(this.filter)||(this.filter=[this.filter]),s=this.filter,i=s.length,a=0;i>a;a++)"string"==typeof s[a]&&(s[a]=Math[s[a]]),"function"!=typeof s[a]&&(s[a]=null);this.valueTemplate&&(this.tokens=this.parseTemplate(this.valueTemplate))}var n={style:0,attribute:1,property:2},s="webkitAppearance"in document.documentElement.style;i.Token=function(t,e){this.value=t,this.isPlaceholder=e},i.parseVariableName=function(t){var i=t;if("string"==typeof t&&-1!=t.search(/\$\{/)){var i=t.search(/\$\{/),n=t.search(/\}/),i=t.slice(i+2,n);"string"==typeof i&&(i=e.trimString(i),i=i.replace(/[\"\']/g,""))}return i},i.substituteVariables=function(t,e){for(var n=t;e&&"string"==typeof n&&-1!=n.search(/\$\{/);)var s=i.parseVariableName(n),n="undefined"==typeof e[s]?void 0:n.replace(/\$\{[^\}]*\}/,e[s]);return n},t.extend(i.prototype,e.Animation.prototype,{constructor:i,setup:function(){this.updateTriggered=!1},update:function(t,e,i){var n=this.getElementSet(i);this.updateTriggered||(this.updateTriggered=!0,this.setupForAnimation(i));var s,r=this,a=this.tweenType,o=this.property;n.each(function(){var n=r.getPropertyTweenData(this,a,o);if(n.animationID==r.animationID){var l=n.fromValues,c=n.toValues,n=n.tokens,h=r.filter,d=l.length,u=[];for(s=0;d>s;s++){var p=l[s],m=c[s],p="string"==typeof p?0==e&&0<r.duration?p:m.value:p+(m.value-p)*e;h&&h[s]&&(p=h[s](p,r,this,o,m.unit,t,i)),"number"==typeof p&&1>p&&(p=p.toFixed(6)),u.push(p+m.unit)}if(l="",l=r.formatValue(u),!(0<l.length))if(n){for(l=n.length,c=[],s=0;l>s;s++)h=n[s],c.push(h.isPlaceholder?u[h.value]:h.value);l=c.join("")}else l=u.join("");r.setValue.call(this,a,o,l)}})},setValue:function(e,i,n){switch(e){case 0:e=t(this),e.css(i,n),s&&"background-size"===i&&e.css("-webkit-background-size",n),"display"===i&&e.is("audio")&&e.attr("controls","none"===n?null:"controls");break;case 1:this.setAttribute(i,n);break;case 2:this[i]=n}},getDuration:function(){return this.duration},resolveElementSelector:function(e){return e=i.substituteVariables(this.elements,e.variables),e||(e=this.elements),/^\${/.test(e)&&(e="bad_selector"),t(e)},getElementSet:function(t){var e=this.animationID;t.animData||(t.animData={});var i=t.animData[e];return i||(i=t.animData[e]=this.deferElementResolution?this.resolveElementSelector(t):this.elements),i},getValue:function(e,i){var n;switch(i){case 0:n=t(this).css(e);break;case 1:n=this.getAttribute(e);break;case 2:n=this[e]+""}return n},setupForAnimation:function(t){var e=this,i=this.tweenType,n=this.property;this.getElementSet(t).each(function(){var t=e.getPropertyTweenData(this,i,n);if(t.animationID=e.animationID,t.toValues=e.toValues,t.tokens=e.tokens,e.fromValues)t.fromValues=e.fromValues;else{var s=e.getValue.call(this,n,i);void 0===s&&(s="0");var r=e.parseValue(s);if(r&&0<r.length)for(var t=t.fromValues=[],s=r.length,a=0;s>a;a++){var o=r[a];t[a]="string"==typeof o?parseFloat(o.replace(/[a-zA-Z%]+$/,"")):o,isNaN(t[a])&&(t[a]=o)}else t.fromValues=[parseFloat(s.replace(/[a-zA-Z%]+$/,""))]}})},parseTemplate:function(t){for(var e=t.length,n=[],s=0,r=/@@[0-9]+@@/g,a=null;e>s&&(a=r.exec(t));)a.index!=s&&n.push(new i.Token(t.substring(s,a.index),!1)),n.push(new i.Token(parseInt(a[0].replace(/@@/g,""),10),!0)),s=r.lastIndex;return e>s&&n.push(new i.Token(t.substring(s,e),!1)),n},parseValue:function(){return[]},formatValue:function(){return""},getPropertyTweenData:function(e,i,n){var s=t.data(e,"tweenData");return s||(s={},t.data(e,"tweenData",s)),(e=s[i])||(e=s[i]={}),(i=e[n])||(i=e[n]={animationID:-1}),i}}),e.PropertyTween=i,e.Timeline.addTweenType("style",function(t,e,n,s){return new i("style",t,e,n,s)}),e.Timeline.addTweenType("attribute",function(t,e,n,s){return new i("attribute",t,e,n,s)}),e.Timeline.addTweenType("property",function(t,e,n,s){return new i("property",t,e,n,s)})}(jQuery,AdobeEdge),function(t,e,i){function n(t,i,n,s,r){e.PropertyTween.call(this,t,i,n,s,r),this.name="transformTween"}function s(t,e,i){if("undefined"==typeof e)return i;if("undefined"==typeof i)return e;var n=_(e),s=_(i);if(!n)return i;if(!s)return e;e=A(e).units,i=A(i).units;var r=e;return e!==i&&("%"===e&&(r=i,n=n/100*t),"%"===i&&(s=s/100*t)),n+s+r}function r(t,e,i){var s;s=function(){var r,a,o;50>(new Date).getMilliseconds()-x[t[0]]?setTimeout(s,50):(t.css("-webkit-transform-origin","0% 0%"),(o=t.data("eg-track-size"))||(o={scaleX:1,scaleY:1,width:t.width(),height:t.height()}),r=t.width()/o.scaleX,a=t.height()/o.scaleY,t.css("width",r*e),t.css("height",a*i),o.scaleX=e,o.scaleY=i,t.data("eg-track-size",o),r=t.data(n.dataName),r||(r=n.buildTransformData(t),t.data(n.dataName,r)),r.scaleX=1/e,r.scaleY=1/i,n.applyTransform(t,r,r.tween,{}))},x[t[0]]||setTimeout(s,50),x[t[0]]=(new Date).getMilliseconds()}function a(t,e){for(var i=0,n=t.length,s=0;n>s;s++)i+=t[s]*e[s];return i}function o(t){for(var e=0,i=t.length,n=0;i>n;n++)e+=t[n]*t[n];return Math.sqrt(e)}function l(t){var e=t.length,i=o(t),n=Array(e);0===i&&(i=1);for(var s=0;e>s;s++)n[s]=t[s]/i;return n}function c(t,e,i,n){var s=Array(3);return s[0]=i*t[0]+n*e[0],s[1]=i*t[1]+n*e[1],s[2]=i*t[2]+n*e[2],s}function h(t){return t=t.toLowerCase(),"string"!=typeof t?0:(t=A(t),"deg"===t.units&&(t.num*=y),t.num)}var d,u,p=Math.asin,m=Math.sin,f=Math.cos,g=Math.tan,v=Math.atan2,y=Math.PI/180,b=180/Math.PI;n.removeData=function(e){var i=t.data(e,n.dataName);i&&(i.timeline&&d.unRegister(i.timeline,i.id),t(e).removeData(e,n.dataName))};var _=function(t){var e=0;return"string"==typeof t?e=parseFloat(t.replace(/[a-zA-Z%]+$/,"")):"number"==typeof t&&(e=t),e};n.getNumber=_;var A=function(t){var e={};return e.num=parseFloat(t),e.units=String(t).match(/[a-zA-Z%]+$/),e};n.splitUnits=A;var w=function(t){return 0!==t&&1e-6>Math.abs(t)?t.toFixed(6):t.toString()},x={};n.applyTransform=function(i,n,a,o){i=t(i),"undefined"!=typeof window.AdobeEdge.applyCount&&window.AdobeEdge.applyCount++;var l,c="webkitAppearance"in document.documentElement.style,h=!0;o&&(h=!o.dontForceZ),l=s(1,n.translateX,n.motionTranslateX);var d=s(1,n.translateY,n.motionTranslateY);o=s(1,n.rotateZ,n.motionRotateZ);var u=e.supported.cssTransform3d;c?(l="translate("+l+","+d+")",d=_(n.translateZ),(0!==d||h)&&u&&(l+=" translateZ("+n.translateZ+")"),l+=" rotate("+o+") ",u&&(d=_(n.rotateY),0!==d&&(l+=" rotateY("+n.rotateY+")"),d=_(n.rotateX),0!==d&&(l+=" rotateX("+n.rotateX+")")),n.skewX&&"0deg"!==n.skewX&&(l+=" skewX("+n.skewX+") "),n.skewY&&"0deg"!==n.skewY&&(l+=" skewY("+n.skewY+") "),l+=" scale("+n.scaleX+","+n.scaleY+") ",d=_(n.scaleZ),1!==d&&u&&(l+=" scaleZ("+n.scaleZ+")"),!window.edge_authoring_mode&&u&&(i.css("-webkit-transform-style","preserve-3d"),i.css("transform-style","preserve-3d")),i.css("-webkit-transform",l),a&&a.observers.length&&a.notifyObservers("onUpdate",{elapsed:0,easingConst:0,property:void 0,value:l,element:i[0]}),window.edge_authoring_mode||(1<n.scaleX||1<n.scaleY)&&i.hasClass("eg-svg-holder")&&i.children(".eg-svg-image.eg-counter-scale").each(function(e,i){var s=t(i);r(s,n.scaleX,n.scaleY)})):(h=_(n.rotateY),u=_(n.rotateX),h=n.scaleX*f(y*h),u=n.scaleY*f(y*u),l="translate("+l+","+d+")"+(" rotate("+o+")"),n.skewX&&"0deg"!==n.skewX&&(l+=" skewX("+n.skewX+") "),n.skewY&&"0deg"!==n.skewY&&(l+=" skewY("+n.skewY+") "),l+=" scale("+h+","+u+")",i.css("-moz-transform",l),i.css("-o-transform",l),i.css("-ms-transform",l),i.css("msTransform",l),a&&a.observers.length&&a.notifyObservers("onUpdate",{elapsed:0,easingConst:0,property:void 0,value:l,element:i[0]})),i.css("transform",l)},n.dataName="EdgeTransformData";var T=1;t.extend(n.prototype,i.prototype,{constructor:n,setup:function(){this.updateTriggered=!1},setValue:function(e,i,s){t.data(this,n.dataName)[i]=s},getValue:function(){t.data(this,n.dataName)},setupForAnimation:function(e){var s=this;this.getElementSet(e).each(function(){var e=t.data(this,n.dataName);e||(e=s.buildTransformData(this),t.data(this,n.dataName,e))}),i.prototype.setupForAnimation.call(this,e)},update:function(e,s,r){i.prototype.update.call(this,e,s,r),e=this.getElementSet(r);var a=this,o=this.property,l=this.tweenType;e.each(function(){if(a.getPropertyTweenData(this,l,o).animationID===a.animationID){var e=t.data(this,n.dataName);e.timeline=r.timeline,e.tween=a,d.Register(r.timeline,e.id,e)}})},buildTransformData:function(t){var i=e.parseCanonicalTransform(t);if(null===i){var i={},n=e.getTransformProps(t);i.translateX="0px",i.translateY="0px",i.translateZ="0px",i.scaleX=1,i.scaleY=1,i.scaleZ=1,i.rotateX="0deg",i.rotateY="0deg",i.rotateZ="0deg",i.skewXZ=0,i.skewXY=0,i.skewYZ=0,i.skewX="0deg",i.skewY="0deg",i.matrix&&delete i.matrix,n&&(i.translateX=w(n.translation[0])+"px",i.translateY=w(n.translation[1])+"px",i.translateZ=w(n.translation[2])+"px",i.scaleX=w(n.scale[0]),i.scaleY=w(n.scale[1]),i.scaleZ=w(n.scale[2]),i.rotateX=w(n.rotation[0]*b)+"deg",i.rotateY=w(n.rotation[1]*b)+"deg",i.rotateZ=w(n.rotation[2]*b)+"deg",i.skewXY=n.skew[0],i.skewXZ=n.skew[1],i.skewYZ=n.skew[2],i.skewX=w(Math.atan(n.skew[0])*b)+"deg")}return null===i&&(i={}),i.id="transform_"+T++,i.element=t,i.onFinalUpdate=d.prototype._applyTransform,i},buildDefaultTransformData:function(t){var e={translateX:"0px",translateY:"0px",translateZ:"0px",scaleX:1,scaleY:1,scaleZ:1,rotateX:"0deg",rotateY:"0deg",rotateZ:"0deg",skewXZ:0,skewXY:0,skewYZ:0,skewX:"0deg",skewY:"0deg"};
return e.id="transform_"+T++,e.element=t,e.onFinalUpdate=d.prototype._applyTransform,e}});var S={translate3d:0,translate:0,translateX:0,translateY:0,translateZ:0,rotate:1,rotateZ:1,rotateX:1,rotateY:1,rotate3d:1,skew:2,skewX:2,skewY:2,scale3d:3,scale:3,scaleX:3,scaleY:3,scaleZ:3,perspective:4};e.getTransformProps=function(t,i){var n="string"==typeof i?i:e.getTransform(t),s="webkitAppearance"in document.documentElement.style;if(n&&"none"!==n&&s)s=new e.CSSMatrix,s.setMatrixValue(n),n=u.fromCSSMatrix(s);else{if(!n||"none"===n)return;n=u.fromCSSMatrixString(n)}return e.decomposeTransform(n)},e.getTransform=function(e){var i="webkitAppearance"in document.documentElement.style;e=t(e);var n,s=e[0].style;return i&&((n=e.get(0).style.webkitTransform)||(n=e.css("-webkit-transform"))),n?n:((n=e.get(0).style.msTransform)||(n=e.css("-ms-transform")),n||(n=e.css("msTransform")),n||(n=s.MozTransform),n||(n=s["-moz-transform"]),n||(n=e.css("-moz-transform")),n||(n=s.oTransform),n||(n=e.css("-o-transform")),n||(n=s.transform),n||(n=e.css("transform")),n||"")},e.parseCanonicalTransform=function(t,i){var n=("string"==typeof i?i:e.getTransform(t)).match(/(\w+\s*\([^\)]*\))/g);if(!n)return null;var s,r={},a={translateX:"0px",translateY:"0px",translateZ:"0px",scaleX:1,scaleY:1,scaleZ:1,rotateX:"0deg",rotateY:"0deg",rotateZ:"0deg",skewXZ:0,skewXY:0,skewYZ:0,skewX:"0deg",skewY:"0deg"};for(s=0;s<n.length;s++){var o=n[s].match(/\w+/);if(r[o[0]]||0>S[o[0]])return null;var l=n[s].match(/\([^\)]*\)/),l=l[0].replace(/[\(\)]/g,""),l=l.split(",");switch(o[0]){case"matrix":return null;case"translate3d":a.translateX=l[0],a.translateY=1<l.length?l[1]:"0px",a.translateZ=2<l.length?l[2]:"0px",r.translate3d=r.translate=r.translateX=r.translateY=r.translateZ=!0;break;case"translate":a.translateX=l[0],a.translateY=1<l.length?l[1]:"0px",r.translate3d=r.translate=r.translateX=r.translateY=!0;break;case"translateX":a.translateX=l[0],r.translate3d=r.translate=r.translateX=!0;break;case"translateY":a.translateY=l[0],r.translate3d=r.translate=r.translateY=!0;break;case"translateZ":a.translateZ=l[0],r.translate3d=r.translateZ=!0;break;case"rotate3d":return r.rotate3d=r.rotate=r.rotateX=r.rotateY=r.rotateZ=!0,null;case"rotateX":a.rotateX=l[0],r.rotate3d=r.rotateX=!0;break;case"rotateY":a.rotateY=l[0],r.rotate3d=r.rotateY=!0;break;case"rotateZ":case"rotate":a.rotateZ=l[0],r.rotate3d=r.rotate=r.rotateZ=!0;break;case"skew":a.skewX=l[0],a.skewY=1<l.length?l[1]:"0px",r.skew=r.skewX=r.skewY=!0;break;case"skewX":a.skewX=l[0],r.skew=r.skewX=!0;break;case"skewY":a.skewY=l[0],r.skew=r.skewY=!0;break;case"scale3d":a.scaleX=l[0],a.scaleY=1<l.length?l[1]:1,a.scaleZ=2<l.length?l[2]:1,r.scale3d=r.scale=r.scaleX=r.scaleY=r.scaleZ=!0;break;case"scale":a.scaleX=l[0],a.scaleY=1<l.length?l[1]:l[0],r.scale=r.scaleX=r.scaleY=!0;break;case"scaleX":a.scaleX=l[0],r.scale3d=r.scale=r.scaleX=!0;break;case"scaleY":a.scaleY=l[0],r.scale3d=r.scale=r.scaleY=!0;break;case"scaleZ":a.scaleZ=l[0],r.scale3d=r.scaleZ=!0;break;case"perspective":r.perspective=!0}}return a},e.TransformTween=n,e.forceGPU=function(e){var i;!window.edge_authoring_mode&&(i="webkitAppearance"in document.documentElement.style)&&(i=t(e).css("-webkit-transform"),i.match("/translateZ/")||i.match("/matrix3d/")||t(e).css("-webkit-transform",i+" translateZ(0)"))},d=function(t){this.handlers={},this.timeline=t},d.Register=function(t,e,i){var n=t.updateFinalizer;"undefined"==typeof n&&(n=new d(t),t.updateFinalizer=n,t.addObserver(n)),n.handlers[e]=i},d.unRegister=function(t,e){var i=t.updateFinalizer;"undefined"!=typeof i&&delete i.handlers[e]},t.extend(d.prototype,{_finalizeUpdate:function(t,e){var i,n={elapsed:t,context:e};for(i in this.handlers)if(this.handlers.hasOwnProperty(i)){var s=this.handlers[i];s.onFinalUpdate&&s.onFinalUpdate(n)}this.handlers={}},postUpdate:function(t,e){this._finalizeUpdate(e.elapsed,e.context)},complete:function(){this.timeline&&this.timeline.removeObserver(this),this.timeline.updateFinalizer=void 0},_applyTransform:function(e){var i=t.data(this.element,n.dataName);i&&e&&n.applyTransform(this.element,i,i.tween,e.context)}}),n.UpdateFinalizer=d,"undefined"==typeof CSSMatrix?"undefined"!=typeof WebKitCSSMatrix?e.CSSMatrix=WebKitCSSMatrix:"undefined"!=typeof MozCSSMatrix&&(e.CSSMatrix=MozCSSMatrix):e.CSSMatrix=CSSMatrix,u=function(t){var e,i;if(t)for(e=0;4>e;e++)for(this[e]=Array(4),i=0;4>i;i++)this[e][i]=t[e][i];else for(e=0;4>e;e++){for(this[e]=Array(4),i=0;4>i;i++)this[e][i]=0;this[e][e]=1}this.size=4},u.fromCSSMatrix=function(t){var e=new u;return e[0][0]=t.m11,e[0][1]=t.m12,e[0][2]=t.m13,e[0][3]=t.m14,e[1][0]=t.m21,e[1][1]=t.m22,e[1][2]=t.m23,e[1][3]=t.m24,e[2][0]=t.m31,e[2][1]=t.m32,e[2][2]=t.m33,e[2][3]=t.m34,e[3][0]=t.m41,e[3][1]=t.m42,e[3][2]=t.m43,e[3][3]=t.m44,e},u.fromCSSMatrixString=function(t){var e=new u;if(t=t.match(/(\w+\s*\([^\)]*\))/g),"undefined"==typeof t||null===t)return e;var i;for(i=0;i<t.length;i++){var n,s,r=t[i].match(/\w+/),a=t[i].match(/\([^\)]*\)/),a=a[0].replace(/[\(\)]/g,""),a=a.split(",");switch(r[0]){case"matrix":r=new u,6===a.length&&(r[0][0]=parseFloat(a[0]),r[0][1]=parseFloat(a[1]),r[1][0]=parseFloat(a[2]),r[1][1]=parseFloat(a[3]),r[3][0]=parseFloat(a[4]),r[3][1]=parseFloat(a[5]),e.preMultiplyBy(r));break;case"translate3d":r=A(a[0]).num,n=1<a.length?A(a[1]).num:0,s=2<a.length?A(a[2]).num:0,e.translate3d(r,n,s);break;case"translate":r=A(a[0]).num,n=1<a.length?A(a[1]).num:0,e.translate3d(r,n,0);break;case"translateX":a=A(a[0]).num,e.translate3d(a,0,0);break;case"translateY":a=A(a[0]).num,e.translate3d(0,a,0);break;case"translateZ":a=A(a[0]).num,e.translate3d(0,0,a);break;case"rotate3d":3<=a.length&&(r=A(a[0]).num,n=A(a[1]).num,s=A(a[2]).num,a=h(a[3]),e.rotate3d(r,n,s,a,!0));break;case"rotateX":a=h(a[0]),e.rotateX(a);break;case"rotateY":a=h(a[0]),e.rotateY(a);break;case"rotateZ":case"rotate":a=h(a[0]),e.rotateZ(a);break;case"skew":r=h(a[0]),a=h(a[1]),e.skew(r,a);break;case"skewX":a=h(a[0]),e.skew(a,0);break;case"skewY":a=h(a[0]),e.skew(0,a);break;case"scale3d":r=parseFloat(a[0]),n=1<a.length?parseFloat(a[1]):1,a=2<a.length?parseFloat(a[2]):1,e.scale(r,n,a);break;case"scale":r=parseFloat(a[0]),n=1<a.length?parseFloat(a[1]):1,e.scale(r,n,1);break;case"scaleX":a=parseFloat(a[0]),e.scale(a,1,1);break;case"scaleY":a=parseFloat(a[0]),e.scale(1,a,1);break;case"scaleZ":a=parseFloat(a[0]),e.scale(1,1,a);break;case"perspective":a=parseFloat(a[0]),e.perspective(a)}}return e},t.extend(u.prototype,{identity:function(){for(var t=0;4>t;t++){this[t]=Array(4);for(var e=0;4>e;e++)this[t][e]=0;this[t][t]=1}return this},determinant:function(){var t=this[0][0],e=this[0][1],i=this[0][2],n=this[0][3],s=this[1][0],r=this[1][1],a=this[1][2],o=this[1][3],l=this[2][0],c=this[2][1],h=this[2][2],d=this[2][3],u=this[3][0],p=this[3][1],m=this[3][2],f=this[3][3];return n*a*c*u-i*o*c*u-n*r*h*u+e*o*h*u+i*r*d*u-e*a*d*u-n*a*l*p+i*o*l*p+n*s*h*p-t*o*h*p-i*s*d*p+t*a*d*p+n*r*l*m-e*o*l*m-n*s*c*m+t*o*c*m+e*s*d*m-t*r*d*m-i*r*l*f+e*a*l*f+i*s*c*f-t*a*c*f-e*s*h*f+t*r*h*f},normalizeTransform:function(){if(0===this[3][3])return!1;for(var t=0;4>t;t++)for(var e=0;4>e;e++)this[t][e]/=this[3][3];return!0},transpose:function(){for(var t=new u,e=0;4>e;e++)for(var i=0;4>i;i++)t[e][i]=this[i][e];return t},toCSSMatrix:function(){var t=new e.CSSMatrix;return t.m11=this[0][0],t.m12=this[0][1],t.m13=this[0][2],t.m14=this[0][3],t.m21=this[1][0],t.m22=this[1][1],t.m23=this[1][2],t.m24=this[1][3],t.m31=this[2][0],t.m32=this[2][1],t.m33=this[2][2],t.m34=this[2][3],t.m41=this[3][0],t.m42=this[3][1],t.m43=this[3][2],t.m44=this[3][3],t},_inverse:function(){return this},inverse:function(){if(void 0!==e.CSSMatrix){var t=this.toCSSMatrix().inverse();return u.fromCSSMatrix(t)}return this._inverse()},rotate3d:function(t,i,n,s,r){var a=new e.Matrix4x4;return r||(s*=y),s&&(r=Math.sqrt(t*t+i*i+n*n),0!==r&&(t/=r,i/=r,n/=r,r=m(s),s=f(s),a[0][0]=1+(1-s)*(t*t-1),a[1][0]=-n*r+(1-s)*t*i,a[2][0]=i*r+(1-s)*t*n,a[3][0]=0,a[0][1]=n*r+(1-s)*t*i,a[1][1]=1+(1-s)*(i*i-1),a[2][1]=-t*r+(1-s)*i*n,a[3][1]=0,a[0][2]=-i*r+(1-s)*t*n,a[1][2]=t*r+(1-s)*i*n,a[2][2]=1+(1-s)*(n*n-1),a[3][2]=0,a[0][3]=0,a[1][3]=0,a[2][3]=0,a[3][3]=1)),this.preMultiplyBy(a)},rotateX:function(t){return this.rotate3d(1,0,0,t)},rotateY:function(t){return this.rotate3d(0,1,0,t)},rotateZ:function(t){return this.rotate3d(0,0,1,t)},translate3d:function(t,i,n){var s=new e.Matrix4x4;return s[3][0]+=t,s[3][1]+=i,s[3][2]+=n,this.preMultiplyBy(s)},scale:function(t,i,n){if(1!==t||1!==i||1!==n){var s=new e.Matrix4x4;return s[0][0]=t,s[1][1]=i,s[2][2]=n,this.preMultiplyBy(s)}return this},skew:function(t,i,n){return n||(t*=y,i*=y),0!==t&&(n=new e.Matrix4x4,n[1][0]=g(t),this.preMultiplyBy(n)),0!==i&&(t=new e.Matrix4x4,t[0][1]=g(i),this.preMultiplyBy(t)),this},perspective:function(t){if(0!==t){var i=new e.Matrix4x4;i[2][3]=1/t,this.preMultiplyBy(i)}return this},skewByFactors:function(t,i,n){return t=new e.Matrix4x4,t[2][1]=n,this.preMultiplyBy(t),t.identity(),t[2][0]=n,this.preMultiplyBy(t),t.identity(),t[1][0]=n,this.preMultiplyBy(t),this},applyPerspective:function(t,i,n,s){var r=new e.Matrix4x4;return r[0][3]=t,r[1][3]=i,r[2][3]=n,r[3][3]=s,this.preMultiplyBy(r),this},preMultiplyBy:function(t){var e=t[0][0],i=t[0][1],n=t[0][2],s=t[0][3],r=t[1][0],a=t[1][1],o=t[1][2],l=t[1][3],c=t[2][0],h=t[2][1],d=t[2][2],u=t[2][3],p=t[3][0],m=t[3][1],f=t[3][2];t=t[3][3];var g=this[0][0],v=this[0][1],y=this[0][2],b=this[0][3],_=this[1][0],A=this[1][1],w=this[1][2],x=this[1][3],T=this[2][0],S=this[2][1],E=this[2][2],C=this[2][3],D=this[3][0],P=this[3][1],k=this[3][2],I=this[3][3];return this[0][0]=e*g+i*_+n*T+s*D,this[0][1]=e*v+i*A+n*S+s*P,this[0][2]=e*y+i*w+n*E+s*k,this[0][3]=e*b+i*x+n*C+s*I,this[1][0]=r*g+a*_+o*T+l*D,this[1][1]=r*v+a*A+o*S+l*P,this[1][2]=r*y+a*w+o*E+l*k,this[1][3]=r*b+a*x+o*C+l*I,this[2][0]=c*g+h*_+d*T+u*D,this[2][1]=c*v+h*A+d*S+u*P,this[2][2]=c*y+h*w+d*E+u*k,this[2][3]=c*b+h*x+d*C+u*I,this[3][0]=p*g+m*_+f*T+t*D,this[3][1]=p*v+m*A+f*S+t*P,this[3][2]=p*y+m*w+f*E+t*k,this[3][3]=p*b+m*x+f*C+t*I,this}}),e.Matrix4x4=u,e.decomposeTransform=function(t){var e=new u(t);if(!e.normalizeTransform())return null;var i=new u(t);for(t=0;3>t;t++)i[t][3]=0;if(i[3][3]=1,0===i.determinant(i))return window.edge_authoring_mode&&window.alert("Bad perspective matrix"),null;var n=Array(4);if(t=Array(4),0!==e[0][3]||0!==e[1][3]||0!==e[2][3]){if(n[0]=e[0][3],n[1]=e[1][3],n[2]=e[2][3],n[3]=e[3][3],t=i.inverse(),!t)return!1;t=t.transpose().rightMultiply(n),e[0][3]=e[1][3]=e[2][3]=0,e[3][3]=1}else t[0]=t[1]=t[2]=0,t[3]=1;i=Array(3),i[0]=e[3][0],e[3][0]=0,i[1]=e[3][1],e[3][1]=0,i[2]=e[3][2],e[3][2]=0,n=Array(3),n[0]=Array(3),n[1]=Array(3),n[2]=Array(3);for(var s=0;3>s;s++)n[s][0]=e[s][0],n[s][1]=e[s][1],n[s][2]=e[s][2];e=Array(3),e[0]=o(n[0]),n[0]=l(n[0]),s=Array(3),s[0]=a(n[0],n[1]),n[1]=c(n[1],n[0],1,-s[0]),e[1]=o(n[1]),n[1]=l(n[1]),0!==e[1]&&(s[0]/=e[1]),s[1]=a(n[0],n[2]),n[2]=c(n[2],n[0],1,-s[1]),s[2]=a(n[1],n[2]),n[2]=c(n[2],n[1],1,-s[2]),e[2]=o(n[2]),0!==e[2]&&(n[2]=l(n[2])),0!==e[2]&&(s[1]/=e[2],s[2]/=e[2]);var r;r=n[1];var h=n[2],d=Array(3);if(3!==r.length||3!==h.length?r=null:(d[0]=r[1]*h[2]-r[2]*h[1],d[1]=r[2]*h[0]-r[0]*h[2],d[2]=r[0]*h[1]-r[1]*h[0],r=d),0>a(n[0],r))for(r=0;3>r;r++)e[r]*=-1,n[r][0]*=-1,n[r][1]*=-1,n[r][2]*=-1;return r=Array(3),r[1]=p(-n[0][2]),0!==f(r[1])?(r[0]=v(n[1][2],n[2][2]),r[2]=v(n[0][1],n[0][0])):(r[0]=v(-n[2][0],n[1][1]),r[2]=0),{translation:i,rotation:r,scale:e,skew:s,perspective:t}},e.Timeline.addTweenType("transform",function(t,e,i,s){return new n("transform",t,e,i,s)})}(jQuery,AdobeEdge,AdobeEdge.PropertyTween),function(t,e,i){function n(){if(!a){var t,e=document.createElement("div"),e=r(e);e.css("background-color","transparent");var i=e.css("background-color");e.css("background-color","rgb(100, 100, 100)"),t=e.css("background-color"),o=t!=i,e.css("background-color","transparent"),e.css("background-color","hsl(100, 100%, 100%)"),t=e.css("background-color"),l=t!=i,e.css("background-color","transparent"),e.css("background-color","rgba(100, 100, 100,.5)"),t=e.css("background-color"),c=t!=i,e.css("background-color","transparent"),e.css("background-color","hsla(100, 100%, 100%, .5)"),t=e.css("background-color"),h=t!=i,a=!0}}function s(t,i,s,r,a){e.PropertyTween.call(this,t,i,s,r,a),this.name="colorTween",n()}var r=t,a=!1,o=!1,l=!1,c=!1,h=!1;r.extend(s.prototype,i.prototype,{constructor:s,getValue:function(t){return r(this).css(t)},setValue:function(t,e,i){r(this).css(e,i)},parseValue:function(t){var i=e.parseColorValue(t);if(i&&i.colorFunction&&i.values){t=i.values;var i=i.colorFunction,n=/hsl/gi;if(i.match(/rgb/gi))if(this.animationColorSpace&&"HSL"==this.animationColorSpace)i={r:t[0],g:t[1],b:t[2]},(i=e.rgbToHSL(i))?3<t.length?(t=t[3],t=[i.h,i.s,i.l,t]):t=[i.h,i.s,i.l]:t=[];else if(this.animationColorSpace){if("RGB"!=this.animationColorSpace)return t}else this.animationColorSpace="RGB";else if(i.match(n))if(this.animationColorSpace&&"RGB"==this.animationColorSpace)i={h:t[0],s:t[1],l:t[2]},(i=e.hslToRGB(i))?3<t.length?(t=t[3],t=[i.r,i.g,i.b,t]):t=[i.r,i.g,i.b]:t=[];else if(this.animationColorSpace){if("HSL"!=this.animationColorSpace)return t}else this.animationColorSpace="HSL";return 3==t.length&&(t[3]=1),t}},formatValue:function(t){if(n(),t){var i;if("HSL"==this.animationColorSpace&&h)i="hsl",t=4==t.length&&h?i+"a("+t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]+")":i+"("+t[0]+","+t[1]+"%,"+t[2]+"%)";else if(c)i="rgb",t=4==t.length&&c?i+"a("+t[0]+"%,"+t[1]+"%,"+t[2]+"%,"+t[3]+")":i+"("+t[0]+"%,"+t[1]+"%,"+t[2]+"%)";else{i=t[0];var s=t[1],r=t[2];"HSL"==this.animationColorSpace&&(t=e.hslToRGB({h:t[0],g:t[1],b:t[2]}),i=t.r,s=t.g,r=t.b),t="#"+(65536*Math.floor(2.55*i)+256*Math.floor(2.55*s)+Math.floor(2.55*r)).toString(16)}return t}}}),e.ColorTween=s,e.Color={formatValue:s.prototype.formatValue,parseValue:s.prototype.parseValue},e.parseColorValue=function(t){if(t){var e,i,n=[],s=/^\s*#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])\s*$/;if((i=/^\s*#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})\s*$/.exec(t))?(n=[parseInt(i[1],16)/255*100,parseInt(i[2],16)/255*100,parseInt(i[3],16)/255*100],e="rgb"):(i=s.exec(t))?(n=[parseInt(i[1]+i[1],16)/255*100,parseInt(i[2]+i[2],16)/255*100,parseInt(i[3]+i[3],16)/255*100],e="rgb"):"transparent"==t&&(n=[0,0,0,0],e="rgb"),e||(e=t.toString().match(/\w+/),r.isArray(e)?e=e[0]:e||(e=""),(i=t.toString().match(/\([^\)]*\)/))&&0<i.length&&(i=i[0].replace(/[\(\)]/g,""))),t=/rgb/gi,s=/hsl/gi,0===n.length)if(e.match(t)){if((s=/^\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(i))&&4<=s.length){for(t=0;3>t;t++)n[t]=s[t+1]/255*100;4<s.length&&(s[4]||(s[4]=1),n[3]=s[4])}else if((i=/^\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(i))&&4<=i.length)for(5<=i.length&&(i.length=5,i[4]||(i[4]=1)),t=0;t<i.length-1;t++)n[t]=i[t+1]}else if(e.match(s)&&(i=/^\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(i))&&4<=i.length)for(5<=i.length&&(i.length=5,i[4]||(i[4]=1)),t=0;t<i.length-1;t++)n[t]=i[t+1];if(n)for(t=0;t<n.length;t++)n[t]=Math.round(1e4*n[t])/1e4;return{colorFunction:e,values:n}}};var d=1/3,u=1/6,p=2/3,m=function(t){return 0>t?t+1:t>1?t-1:t},f=function(t,e,i,n){return u>n?t+i*n:.5>n?e:p>n?t+i*(p-n):t};e.hslToRGB=function(t){if(null===t||0>t.s||100<t.s||0>t.l||100<t.l)return null;for(;360<t.h;)t.h-=360;for(;0>t.h;)t.h=360+t.h;var e={},i=t.h/360,n=t.s/100;if(t=t.l/100,0===n)e.r=e.g=e.b=t;else{n=.5>=t?t*(1+n):t+n-t*n,t=2*t-n;var s=m(i+d),r=m(i),i=m(i-d),a=6*(n-t);e.r=f(t,n,a,s),e.g=f(t,n,a,r),e.b=f(t,n,a,i)}return e.r=Math.min(100*e.r,100),e.g=Math.min(100*e.g,100),e.b=Math.min(100*e.b,100),e.r=Math.round(1e4*e.r)/1e4,e.g=Math.round(1e4*e.g)/1e4,e.b=Math.round(1e4*e.b)/1e4,e},e.rgbToHSL=function(t){if(null===t||0>t.r||100<t.r||0>t.g||100<t.g||0>t.b||100<t.b)return null;var e={h:0,s:0,l:0},i=t.r/100,n=t.g/100;t=t.b/100;var s=Math.max(i,n,t),r=Math.min(i,n,t);if(e.l=(s+r)/2,s>r&&0<e.l){var a=s-r;e.s=.5>=e.l?a/(s+r):a/(2-s-r),e.h=s==t?4+(i-n)/a:s==n?2+(t-i)/a:(n-t)/a,e.h*=60,360<e.h?e.h-=360:0>e.h&&(e.h=360+e.h)}return e.s=Math.min(100*e.s,100),e.l=Math.min(100*e.l,100),e.h=Math.round(1e4*e.h)/1e4,e.s=Math.round(1e4*e.s)/1e4,e.l=Math.round(1e4*e.l)/1e4,e},e.colorToSupported=function(t){if(n(),!c&&/rgba/.test(t)||!o&&/rgb/.test(t)||!h&&/hsla/.test(t)||!l&&/hsl/.test(t)){var i=e.parseColorValue(t).values;if(4<=i.length&&.5>i[3])return"transparent";var s=i[0],r=i[1],a=i[2];/hsl/.test(t)&&(t=e.hslToRGB({h:i[0],g:i[1],b:i[2]}),s=t.r,r=t.g,a=t.b),s=Math.floor(2.55*s),r=Math.floor(2.55*r),a=Math.floor(2.55*a),s=(s>15?"":"0")+s.toString(16),r=(r>15?"":"0")+r.toString(16),a=(a>15?"":"0")+a.toString(16),t="#"+s+r+a}return t},e.Timeline.addTweenType("color",function(t,e,i,n){return new s("color",t,e,i,n)})}(jQuery,AdobeEdge,AdobeEdge.PropertyTween),function(t,e,i,n){function s(t,s,a,l,h){null!==o[a]&&(this.superProperty=o[a].cssProp,t=o[a].type,"color"===t?(r.extend(this,n.prototype,c),n.call(this,t,s,a,l,h)):(r.extend(this,i.prototype,c),e.PropertyTween.call(this,t,s,a,l,h))),this.name="subpropertyTween"}var r=t,a={"box-shadow":{def:"box-shadow","-webkit-box-shadow":"boxShadow.color boxShadow.offsetH boxShadow.offsetV boxShadow.blur boxShadow.spread boxShadow.inset".split(" "),"-moz-box-shadow":"boxShadow.color boxShadow.offsetH boxShadow.offsetV boxShadow.blur boxShadow.spread boxShadow.inset".split(" "),"box-shadow":"boxShadow.color boxShadow.offsetH boxShadow.offsetV boxShadow.blur boxShadow.spread boxShadow.inset".split(" ")},"text-shadow":{def:"text-shadow","text-shadow":["textShadow.color","textShadow.offsetH","textShadow.offsetV","textShadow.blur"]},filter:{def:"-webkit-filter","-webkit-filter":"filter.invert filter.hue-rotate filter.contrast filter.saturate filter.brightness filter.sepia filter.grayscale filter.blur filter.drop-shadow.color filter.drop-shadow.offsetH filter.drop-shadow.offsetV filter.drop-shadow.blur".split(" "),"-moz-filter":"filter.invert filter.hue-rotate filter.contrast filter.saturate filter.brightness filter.sepia filter.grayscale filter.blur filter.drop-shadow.color filter.drop-shadow.offsetH filter.drop-shadow.offsetV filter.drop-shadow.blur".split(" "),filter:"filter.invert filter.hue-rotate filter.contrast filter.saturate filter.brightness filter.sepia filter.grayscale filter.blur filter.drop-shadow.color filter.drop-shadow.offsetH filter.drop-shadow.offsetV filter.drop-shadow.blur".split(" ")}},o={"boxShadow.offsetH":{cssProp:"box-shadow",type:"style",def:"0px"},"boxShadow.offsetV":{cssProp:"box-shadow",type:"style",def:"0px"},"boxShadow.blur":{cssProp:"box-shadow",type:"style",def:"0px"},"boxShadow.spread":{cssProp:"box-shadow",type:"style",def:"0px"},"boxShadow.color":{cssProp:"box-shadow",type:"color",def:"rgba(0,0,0,0)"},"boxShadow.inset":{cssProp:"box-shadow",def:""},"textShadow.offsetH":{cssProp:"text-shadow",type:"style",def:"0px"},"textShadow.offsetV":{cssProp:"text-shadow",type:"style",def:"0px"},"textShadow.blur":{cssProp:"text-shadow",type:"style",def:"0px"},"textShadow.color":{cssProp:"text-shadow",type:"color",def:"rgba(0,0,0,0)"},"filter.drop-shadow.color":{cssProp:"filter",type:"color",def:"rgba(0,0,0,0)",strReplace:"drop-shadow(%1",combinedNum:4},"filter.drop-shadow.offsetH":{cssProp:"filter",type:"style",def:"0px"},"filter.drop-shadow.offsetV":{cssProp:"filter",type:"style",def:"0px"},"filter.drop-shadow.blur":{cssProp:"filter",type:"style",def:"0px",strReplace:"%1)"},"filter.grayscale":{cssProp:"filter",type:"style",def:"0",strReplace:"grayscale(%1)"},"filter.sepia":{cssProp:"filter",type:"style",def:"0",strReplace:"sepia(%1)"},"filter.saturate":{cssProp:"filter",type:"style",def:"1",strReplace:"saturate(%1)"},"filter.hue-rotate":{cssProp:"filter",type:"style",def:"0deg",strReplace:"hue-rotate(%1)"},"filter.invert":{cssProp:"filter",type:"style",def:"0",strReplace:"invert(%1)"},"filter.brightness":{cssProp:"filter",type:"style",def:"0",strReplace:"brightness(%1)"},"filter.contrast":{cssProp:"filter",type:"style",def:"1",strReplace:"contrast(%1)"},"filter.blur":{cssProp:"filter",type:"style",def:"0px",strReplace:"blur(%1)"}},l=1,c={setValue:function(t,e,i){r.data(this,o[e].cssProp)[e]=i},getValue:function(t){r.data(this,o[t].cssProp)},setupForAnimation:function(t){var e=this;this.getElementSet(t).each(function(){var t=r.data(this,e.superProperty);t||(t=e.buildProp(this),r.data(this,e.superProperty,t))}),i.prototype.setupForAnimation.call(this,t)},buildProp:function(t){var i,n={},s=e.getSubProps(t,this.superProperty);for(i in s)s.hasOwnProperty(i)&&(n[i]=s[i]);return null===n&&(n={}),n.id=this.superProperty+l,l+=1,n.element=t,n.prop=this.superProperty,n.onFinalUpdate=r.Edge.TransformTween.UpdateFinalizer.prototype._applySubproperty,n},update:function(t,e,n){i.prototype.update.call(this,t,e,n),t=this.getElementSet(n);var s=this,a=this.property,o=this.tweenType;t.each(function(){if(s.getPropertyTweenData(this,o,a).animationID===s.animationID){var t=r.data(this,s.superProperty);t.timeline=n.timeline,t.tween=s,r.Edge.TransformTween.UpdateFinalizer.Register(n.timeline,t.id,t)}})}};r.extend(s.prototype,{constructor:s,buildDefaultProps:function(t,e){var i,n,s={};for(i in e)if(e.hasOwnProperty(i)&&(s[i]={},e.hasOwnProperty(i))){var c=a[i][a[i].def];for(n in c)c.hasOwnProperty(n)&&(s[i][c[n]]=o[c[n]].def);s[i].prop=i,s[i].id=i+l,l+=1,s[i].element=t,s[i].onFinalUpdate=r.Edge.TransformTween.UpdateFinalizer.prototype._applySubproperty}return s}}),e.getSubProps=function(t,e){var i,n,s=r(t);for(n in a[e])if(a[e].hasOwnProperty(n)&&(i=s.css(n))&&""!==i){s=i,n=a[e][n],s=s.replace(/,\s*/g,","),s=s.split(" "),i=[];for(var l=void 0,l=0;l<n.length;l+=1)i[n[l]]=s[l]||o[n[l]].def;return i}return[]},s.getSubType=function(t){return null!==o[t]?o[t].type:void 0},s.getStyle=function(t){return null!==o[t]?o[t].cssProp:void 0},s.applySubproperty=function(t,e,i,n){t=r(t);var s,l,c;"undefined"!=typeof AdobeEdge.applyCount&&AdobeEdge.applyCount++;for(l in a[e.prop])if("def"!==l&&a[e.prop].hasOwnProperty(l)){s="";var h=!0;for(n=0;n<a[e.prop][l].length;n+=1){if(c=e[a[e.prop][l][n]],"combinedNum"in o[a[e.prop][l][n]])for(var h=!0,d=n;d<n+o[a[e.prop][l][n]].combinedNum;d++)e[a[e.prop][l][d]]!=o[a[e.prop][l][d]].def&&(h=!1);a[e.prop][l][n].match(/^filter./)&&c==o[a[e.prop][l][n]].def&&h||("strReplace"in o[a[e.prop][l][n]]&&(c=o[a[e.prop][l][n]].strReplace.replace("%1",c)),s+=c,n!==a[e.prop][l].length-1&&(s+=" "))}(window.edge_authoring_mode&&l===a[e.prop].def||!window.edge_authoring_mode)&&t.css(l,s)}i&&i.observers.length&&i.notifyObservers("onUpdate",{elapsed:0,easingConst:0,property:l,value:s,element:t[0]})},r.extend(r.Edge.TransformTween.UpdateFinalizer.prototype,{_applySubproperty:function(t){var e=r.data(this.element,this.prop);e&&t&&s.applySubproperty(this.element,e,e.tween,t.context)}}),e.SubpropertyTween=s,e.Timeline.addTweenType("subproperty",function(t,e,i,n){return new s("subproperty",t,e,i,n)})}(jQuery,AdobeEdge,AdobeEdge.PropertyTween,AdobeEdge.ColorTween),function(t,e,i){function n(t,i,n,a,o){var l=null;if(2<=a.length&&s.isArray(a[1])&&2<=o.fromValue.length&&s.isArray(o.fromValue[1])?l=1:2<=a.length&&s.isArray(a[4])&&2<=o.fromValue.length&&s.isArray(o.fromValue[4])&&(l=4),l)for(var c=o.fromValue[l].length<a[l].length?o.fromValue[l]:a[l],l=c==a[l]?o.fromValue[l]:a[l],h=c.length;h<l.length;h++)c[h]=c[h-1];e.PropertyTween.call(this,t,i,n,a,o),this.name="GradientTween",this.tweenType=r[t]}var s=t,r={gradient:0};s.extend(n.prototype,i.prototype,{constructor:n,setupForAnimation:function(t){this.getElementSet(t).each(function(){e.forceGPU(this)}),i.prototype.setupForAnimation.call(this,t)},getValue:function(t){return s(this).css(t)},setValuePre:function(t,e,i){s(this).css(e,"-webkit-"+i),s(this).css(e,"-moz-"+i),s(this).css(e,"-ms-"+i),s(this).css(e,"-o-"+i)},setValue:function(t,e,i){s(this).css(e,i)},update:function(t,e,i){var n=this.getElementSet(i);this.updateTriggered||(this.updateTriggered=!0,this.setupForAnimation(i));var s,r=this,a=this.tweenType,o=this.property;n.each(function(){var n=r.getPropertyTweenData(this,a,o);if(n.animationID==r.animationID){var l=n.fromValues,c=n.toValues,h=r.filter,d=l.length,n=[];for(s=0;d>s;s++){var u=l[s],p=c[s],u="string"==typeof u?0==e&&0<r.duration?u:p.value:u+(p.value-u)*e;h&&h[s]&&(u=h[s](u,r,this,o,p.unit,t,i)),"number"==typeof u&&1>u&&(u=u.toFixed(6)),n.push(u+p.unit)}l=r.formatValuePre(n),n=r.formatValue(n),r.setValuePre.call(this,a,o,l),r.setValue.call(this,a,o,n),r.notifyObservers("onUpdate",{elapsed:t,easingConst:e,property:o,value:"-webkit-"+l,element:this})}})},parseValue:function(t){function i(t,e){if(1<t[e].length)return t[e][1];var n;return n=0===d?0:d===t.length-1?100:(i(t,d-1)+i(t,d+1))/2,t[d].push(n),n}if(t&&!(2>t.length)){"string"==typeof t&&(t=JSON.parse(t));var n=null,r=null,a=null,o=null,l=null,c=[],h=!1;s.isArray(t[1])?(n=t[0],r=t[1],t[2]&&(h=t[2])):(a=[t[0],t[1]],o=t[2],l=t[3],r=t[4],t[5]&&(h=t[5]));for(var d=0;d<r.length;d++)(t=e.Color.parseValue(r[d][0]))&&(c=c.concat(t),c.push(i(r,d)));if((n={angle:n,colorstops:c,centerPoint:a,ellipse:o,extent:l,repeating:h})&&n.colorstops)return r=[],null!==n.angle?r=r.concat(n.angle):n.centerPoint&&(r=r.concat(n.centerPoint),r=r.concat([n.ellipse,n.extent])),r=r.concat(n.colorstops),r.concat(n.repeating)}},formatValue:function(t){return e.formatGradient(t,!1)},formatValuePre:function(t){return e.formatGradient(t,!0)}}),e.GradientTween=n,e.Gradient={parseValue:n.prototype.parseValue},e.formatGradient=function(t,i){if(t){var n="",s=null;if(2==t.length%5?(s=1,n=n+"linear-gradient("+((i?t[0]:(450-t[0])%360)+"deg,")):(s=4,n+="radial-gradient(",n=i?n+(t[0]+"% "+t[1]+"%,"+(1==t[2]?"ellipse":"circle")+" "+t[3]+","):n+(t[3]+" "+(1==t[2]?"ellipse":"circle")+" at "+t[0]+"% "+t[1]+"%,")),1==t[t.length-1]&&(n="repeating-"+n),!(12>t.length||0!==(t.length-s-1)%5)){for(var r=Math.floor((t.length-s-1)/5),a=0;r>a;a++){var o=5*a+s,n=n+e.Color.formatValue(t.slice(o,o+4));-1!==t[o+4]&&(n+=" "+t[o+4]+"%"),a!=r-1&&(n+=",")}return n+=")"}}},e.Timeline.addTweenType("gradient",function(t,e,i,s){return new n("gradient",t,e,i,s)})}(jQuery,AdobeEdge,AdobeEdge.PropertyTween),function(t,e){function i(t,e,i,n,s){l.call(this,t,e,"motion",void 0,s),this.name="motionTween",(this.path=i)&&1<i.length&&6>i[0].length&&(i[0][4]=i[0][5]=0,i[i.length-1].splice(2,0,0,0)),this.keyframes=[]}function n(t,e,i){var n={};try{if(t[0]===e[0]&&t[1]===e[1])return n.x=e[0],n.y=e[1],n}catch(s){}var r=i*i,a=r*i,o=2*a-3*r+1;i=a-2*r+i;var l=-2*a+3*r,r=a-r;return n.x=o*t[0]+i*t[2]+l*e[0]+r*e[4],n.y=o*t[1]+i*t[3]+l*e[1]+r*e[5],n}function s(t,e,i){var n={};if(t[0]===e[0]&&t[1]===e[1])return n.dx=0,n.dy=0,n;var s=i*i,r=6*s-6*i,a=3*s-4*i+1,o=-6*s+6*i;i=3*s-2*i;var s=t[3],l=e[5];return n.dx=r*t[0]+a*t[2]+o*e[0]+i*e[4],n.dy=r*t[1]+a*s+o*e[1]+i*l,n}function r(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}function a(t,e,i,s,o){var l=Math.floor(i[s].b),c=(i[s].b+i[s+1].b)/2-l,h=n(t,e,c),d=0;return r({x:(i[s].x+i[s+1].x)/2,y:(i[s].y+i[s+1].y)/2},h)>o&&(h.b=c+l,i.splice(s+1,0,h),d=a(t,e,i,s+1,o),d=d+a(t,e,i,s,o)+1),d}function o(t){var e,i;for(e=0;e<t.length-1;e++){var s=[0,0,3*t[e].upper.x,3*t[e].upper.y,3*t[e].lower.x,3*t[e].lower.y],o=[1,1,3*t[e+1].upper.x,3*t[e+1].upper.y,3*(1-t[e+1].lower.x),3*(1-t[e+1].lower.y)],l=[];for(i=0;5>i;i++){var c=i/4,h={b:c},d=n(s,o,c);h.x=d.x,h.y=d.y,h.b=c,l[i]=h}t:{i=l;for(var c=r(i[i.length-1],i[0]),h=void 0,d=i[i.length-1].x-i[0].x,u=i[i.length-1].y-i[0].y,h=1;h<i.length-1;h++){var p;p=(i[h].x-i[0].x)*d+(i[h].y-i[0].y)*u;var m=c*r(i[h],i[0]);if(.005<Math.abs(Math.acos(p/m))){i=!1;break t}}i=!0}if(i)l.splice(1,3);else for(i=0;4>i;i++)a(s,o,l,3-i,.01);for(s=t[e],i=1,o=void 0,o=0;o<l.length-1;o++)0<l[o+1].x-l[o].x&&(i=Math.min(i,l[o+1].x-l[o].x));for(i=Math.ceil(1/i),c=1/i,h=[{t:0,e:0}],o=d=0;i>o;o++){for(u=o*c;u>l[d+1].x&&d<l.length-2;)d++;p=l[d+1].y,0<l[d+1].x-l[d].x&&(p=l[d].y+(u-l[d].x)*(l[d+1].y-l[d].y)/(l[d+1].x-l[d].x)),h[o]={t:u,e:p}}1>h[h.length-1].t&&(h[h.length]={t:1,e:1}),s.easingTable=h}}var l=e.TransformTween,c=l.UpdateFinalizer,h=l.splitUnits;"undefined"!=typeof t.Edge&&"undefined"!=typeof t.Edge.Timeline&&"undefined"!=typeof t.Edge.PropertyTween&&(function(e){t.prototype.css=function(i,n){var s,r,a=e.apply(this,arguments),o=function(t){return t.replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/gi,function(t,e){return String(e).toUpperCase()})};return 1<arguments.length?(r=o(i),t(this).each(function(e){if(s=t.data(this,"css_cache")||{},s[r]!==n){s[r]=n,t.data(this,"css_cache",s),"width"===i?t.data(this,"u_w",h(n).units):"height"===i&&t.data(this,"u_h",h(n).units),e=t.data(this,"u_w"),t.data(this,"u_h");var a=null!==i.match(/^margin/)||null!==i.match(/^padding/)||null!==i.match(/^border/);(a||void 0===e||null===e||"width"===i)&&t.data(this,"cw_d",1),(a||"height"===i)&&t.data(this,"ch_d",1)}}),this):a}}(t.prototype.css),function(i){t.prototype.width=function(){var n=this[0],s=t.data(n,"cw"),r=1==t.data(n,"cw_d")||void 0===t.data(n,"cw_d"),a=e.Symbol.get(n)||t.data(n,"domDef"),o=1===n.nodeType&&"BODY"===n.tagName,r=r||"%"==t.data(n,"u_w");return(!a||o||r||void 0===s||null===s||n==n.window||9===n.nodeType)&&(s=i.apply(this,arguments),t.data(n,"cw",s),t.data(n,"cw_d",0)),s}}(t.prototype.width),function(i){t.prototype.height=function(){var n=this[0],s=t.data(n,"ch"),r=1==t.data(n,"ch_d")||void 0===t.data(n,"ch_d"),a=e.Symbol.get(n)||t.data(n,"domDef"),o=1===n.nodeType&&"BODY"===n.tagName,r=r||"%"==t.data(n,"u_h");return(!a||o||r||void 0===s||null===s||n==n.window||9===n.nodeType)&&(s=i.apply(this,arguments),t.data(n,"ch",s),t.data(n,"ch_d",0)),s}}(t.prototype.height),t.extend(i.prototype,l.prototype,{constructor:i,setup:function(){this.updateTriggered=!1},getValue:function(){},setupForAnimation:function(e){for(l.prototype.setupForAnimation.call(this,e),this.points||(this.setUpPoints(),this.setUpLen2bMap(),o(this.keyframes)),this.deltas||window.edge_authoring_mode||(this.getElementSet(e).each(function(){var e=t(this),i=t.data(this,"p_x")||"left",n=t.data(this,"p_y")||"top",s=t(this.parentElement),r=+parseFloat(e.css(i))||0,a=+parseFloat(e.css(n))||0;"%"===t.data(this,"u_x")&&(r=r/100*+s.width()),"%"===t.data(this,"u_y")&&(a=a/100*+s.height()),t.data(this,"deltaX",r),t.data(this,"deltaY",a),e.css(i,"0px").css(n,"0px")}),this.deltas=!0),e=this;e._prevObj&&(2!=e._prevObj.path.length||e._prevObj.path[0][0]!==e._prevObj.path[1][0]||e._prevObj.path[0][1]!==e._prevObj.path[1][1]);)e=e._prevObj;e=s(e.path[0],e.path[1],1e-6),this._deltaRotate=180*Math.atan2(e.dx,e.dy)/Math.PI},computeEasing:function(t){var e=this.keyframes;t/=this.getDuration();var i,n=0;for(i=0;i<e.length-1&&(n=i,!(t<=e[i+1].t));i++);i=e[n].easingTable;var s=e[n+1].l-e[n].l;t=(t-e[n].t)/(e[n+1].t-e[n].t);var r=Math.floor(t/(i[1].t-i[0].t)),r=Math.min(i.length-2,Math.max(r,0));return e[n].l+(i[r].e+(t-i[r].t)*(i[r+1].e-i[r].e)/(i[r+1].t-i[r].t))*s},originInPx:function(t){var i,n,s,r={},a=t.width(),o=t.height();return i=(t.css("transform-origin")||t.css("-webkit-transform-origin")||t.css("-moz-transform-origin")||t.css("-ms-transform-origin")||t.css("-o-transform-origin")||"10% 10%").split(" "),0<i[0].indexOf("%")?(n=parseFloat(i[0].substring(0,i[0].length-1))/100,s=parseFloat(i[1].substring(0,i[1].length-1))/100,r.x=a*n,r.y=o*s):(r.x=parseFloat(i[0].substring(0,i[0].length-2)),r.y=parseFloat(i[1].substring(0,i[1].length-2))),!e.supported.originIncludesBorders&&!window.edge_authoring_mode&&a>0&&o>0&&(n=n||r.x/a,s=s||r.y/o,i=h(t.css("border-left-width")).num+h(t.css("border-right-width")).num||0,i*=n,t=h(t.css("border-top-width")).num+h(t.css("border-bottom-width")).num||0,r.x+=i,r.y+=t*s),r.x=0,r.y=0,r},update:function(e,i,r){this.updateTriggered||(this.updateTriggered=!0,this.setupForAnimation(r));var a,o=this.getElementSet(r),h=this,d=this.property,u=this.tweenType,p=this._findSegment(i),m=this.path,f=this._easeToB(i),g=this.points[this.points.length-1].l,f=Math.min(1,Math.max(0,f-p));
a=Math.max(1e-6,Math.min(.999999,f));var v,y,b=n(m[p],m[p+1],f),p=s(m[p],m[p+1],a),f=180*Math.atan2(p.dx,p.dy)/Math.PI;this._prevObj&&2===m.length&&m[0][0]===m[1][0]&&m[0][1]===m[1][1]?(y=!0,v=0):v=this._deltaRotate-f,(0>i||i>1)&&(m=Math.atan2(p.dy,p.dx),p=i>1?i-1:i,b.x+=Math.cos(m)*g*p,b.y+=Math.sin(m)*g*p),o.each(function(){var n,s=t(this),a=h.getPropertyTweenData(this,u,d),o=t.data(this,l.dataName),p=this.parentElement;if(o.tween=h,a.animationID===h.animationID){var s=h.originInPx(s),a=t.data(this,"p_x")||"left",m=t.data(this,"p_y")||"top",f=b.x,g=b.y,_=t.data(this,"u_x")||"px",A=t.data(this,"u_y")||"px",w=!window.edge_authoring_mode,x=t.data(this,"doAutoOrient"),x="true"===x?!0:"false"===x?!1:x;w&&(n=t(p),p=n.width(),n=n.height(),"%"===_&&(f=f/100*p),"%"===A&&(g=g/100*n)),f+="right"===a?s.x:-1*s.x,g+="bottom"===m?s.y:-1*s.y,w&&(f+=0,g+=0),f=0!==f&&1e-6>Math.abs(f)?f.toFixed(6):f.toString(),g=0!==g&&1e-6>Math.abs(g)?g.toFixed(6):g.toString(),y||(x||(v=0),v=.01<Math.abs(v)?v:0,t.data(this,"motionRotateZ",v+"deg"),h.setValue.call(this,void 0,"motionRotateZ",v+"deg"),c.Register(r.timeline,o.id,o)),w?(h.setValue.call(this,void 0,"motionTranslateX",f+"px"),h.setValue.call(this,void 0,"motionTranslateY",g+"px"),c.Register(r.timeline,o.id,o)):(t(this).css(a,f+_),h.notifyObservers("onUpdate",{elapsed:e,easingConst:i,property:a,value:f+_,element:o.tween}),t(this).css(m,g+A),h.notifyObservers("onUpdate",{elapsed:e,easingConst:i,property:m,value:g+A,element:this}))}})},_findSegment:function(t){return t=this.len2b(t*this.points[this.points.length-1].l),t=Math.floor(t),Math.min(Math.max(t,0),this.path.length-2)},_easeToB:function(t){return this.len2b(t*this.points[this.points.length-1].l)},setUpLen2bMap:function(){for(var t=0,e=this.points,i=0;i<e.length-1;i++)e[i].l=t,t+=r(e[i],e[i+1]);var i=e[e.length-1].l=t,t=60*this.getDuration()/1e3,n=i/t;this.len2bStep=n;var t=0,s=this.len2bMap=[],a=0;if(i>0){for(;i>=t;){for(;a<e.length-1&&t>e[a+1].l;)a+=1;if(a>=e.length-1)break;s.push({l:t,b:e[a].b+(t-e[a].l)*(e[a+1].b-e[a].b)/(e[a+1].l-e[a].l)}),t+=n}s[s.length-1].b<e[e.length-1].b&&s.push({l:e[e.length-1].l,b:e[e.length-1].b})}else s.push({l:0,b:e[0].b})},setUpPoints:function(){var t=this.path;this.points=[];var e,i;for(e=0;e<t.length-1;e++)for(i=0;5>i;i++)if(4>i||e===t.length-2){var s=i/4,r={b:e+s},s=n(t[e],t[e+1],s);r.x=s.x,r.y=s.y,this.points.push(r)}for(e=1;e<t.length;e++)for(r=t.length-e-1,i=0;4>i;i++)a(t[r],t[r+1],this.points,3-i+4*r,2);return this.points},len2b:function(t){this.len2bMap||this.setUpLen2bMap();var e=this.len2bMap,i=Math.min(Math.max(0,Math.floor(t/this.len2bStep)),this.len2bMap.length-2);return 0===e.length?0:1===e.length?e[0].b:(t-e[i].l)*(e[i+1].b-e[i].b)/(e[i+1].l-e[i].l)+e[i].b}}),e.Timeline.addTweenType("motion",function(t,e,n,s){return new i("motion",t,e,n,s)}),e.MotionTween=i)}(jQuery,AdobeEdge),function(t,e,i){t.each("touchstart touchmove touchend swipe swipeleft swiperight ".split(" "),function(e,i){t.fn[i]=function(t){return t?this.bind(i,t):this.trigger(i)},t.attrFn&&(t.attrFn[i]=!0)});var n="ontouchend"in document,s=!n&&e.navigator.msPointerEnabled,r=n?"touchstart":"mousedown",a=n?"touchend":"mouseup",o=n?"touchmove":"mousemove";t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var e=t(this);s&&e.css("-ms-touch-action","pan-y pinch-zoom double-tap-zoom"),e.bind(r,function(n){function s(e){if(c){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e;r={time:(new Date).getTime(),coords:[i.pageX,i.pageY]},Math.abs(c.coords[0]-r.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault()}}var r,l=n.originalEvent.touches?n.originalEvent.touches[0]:n,c={time:(new Date).getTime(),coords:[l.pageX,l.pageY],origin:t(n.target)};e.bind(o,s).one(a,function(){e.unbind(o,s),c&&r&&r.time-c.time<t.event.special.swipe.durationThreshold&&Math.abs(c.coords[0]-r.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(c.coords[1]-r.coords[1])<t.event.special.swipe.verticalDistanceThreshold&&e.trigger("swipe").trigger(c.coords[0]>r.coords[0]?"swipeleft":"swiperight"),c=r=i})})}},t.each({swipeleft:"swipe",swiperight:"swipe"},function(e,i){t.event.special[e]={setup:function(){t(this).bind(i,t.noop)}}})}(jQuery,window),function(t,e){if("undefined"==typeof e.DeclareMarkup){var i=function(){function n(e,i,n){t(e).get(0)&&t(e).css(i,n)}function s(e,i,n){t(e).get(0)&&t(e).attr(i,n)}function r(t){var e;return"auto"==t?t:("string"==typeof t&&(e=f(t)),e&&e.units||(t+="px"),t)}function a(t,e,i,n){if(i||n&&0===i){var s=g(i);(n||s>0||"auto"===i)&&t.css(e,r(i))}}function o(i,o,l,c,h,d,p){var m=document.getElementById(o),g=!1;m||(g=!0,m=document.createElement(i)),m.id=o,m.style.position="absolute";var v=t(m);v.data("domDef",l),v.addClass(o+"_id"),g&&(l.display&&(m.style.display=l.display,"audio"===i&&v.attr("controls","none"===l.display?null:"controls")),window.edge_authoring_mode||(v.data("dispOrig",m.style.display),m.style.display="none",v.addClass("edgeLoad-"+d.compId))),l.className&&v.addClass(l.className),v.css("margin","0px"),o=l.rect,a(v,"left",o[0],!0),a(v,"top",o[1],!0),a(v,"width",o[2]),a(v,"height",o[3]),a(v,"right",o[4],!0),a(v,"bottom",o[5],!0);var y="px",b="px",_="left",A="top";if("auto"==o[0]?(y=f(o[4]).units||y,_="right"):y=f(o[0]).units||y,"auto"==o[1]?(b=f(o[5]).units||b,A="bottom"):b=f(o[1]).units||b,v.data("u_x",y),v.data("u_y",b),v.data("p_x",_),v.data("p_y",A),l.sizeRange&&(a(v,"min-width",l.sizeRange[0]),a(v,"max-width",l.sizeRange[1]),a(v,"min-height",l.sizeRange[2]),a(v,"max-height",l.sizeRange[3])),l.overflow&&(v.css("overflow",l.overflow),"hidden"!=l.overflow&&"scroll"!=l.overflow||v.css("text-overflow","clip")),l.autoOrient&&"false"!==l.autoOrient&&t.data(v[0],"doAutoOrient","true"),l.cl&&(1==l.cl.length?v.css("clip",l.cl[0]):v.css("clip","rect("+l.cl[0]+"px "+l.cl[1]+"px"+l.cl[2]+"px "+l.cl[3]+")")),l.cn&&v.attr("controls",l.cn),l.al&&v.attr("alt",l.al),l.tt&&v.attr("title",l.tt),l.ti&&v.attr("tabindex",l.ti),l.ap&&v.attr("autoplay",l.ap),l.lp&&v.attr("loop",l.lp),l.sr)if("audio"===i)if(1==l.sr.length){if(v.attr("src",l.sr[0]),!d.requestAudio([l.sr[0]],l.preload))return console.log("There was no supported audio!!!"),null}else{for(o=[],y=0;y<l.sr.length;y++)o.push(l.sr[y]),b=document.createElement("source"),t(b).attr("src",l.sr[y]),m.appendChild(b);if(!d.requestAudio(o,l.preload))return console.log("There was no supported audio!!!"),null}else if("video"===i)if(1==l.sr.length){if(v.attr("src",l.sr[0]),!d.requestVideo([l.sr[0]],l.preload))return console.log("There was no supported video!!!"),null}else{for(o=[],y=0;y<l.sr.length;y++)o.push(l.sr[y]),b=document.createElement("source"),t(b).attr("src",l.sr[y]),m.appendChild(b);if(!d.requestVideo(o,l.preload))return console.log("There was no supported audio!!!"),null}if(l.poster&&(v.attr("poster",l.poster),d.requestImage(l.poster)),l.controls&&v.attr("controls",l.poster),l.preload&&v.attr("preload",l.preload),l.cu&&v.css("cursor",l.cu),l.uc&&v.addClass(l.uc),l.br&&(1==l.br.length?v.css("border-radius",r(l.br[0])):(v.css("border-top-left-radius",l.br[0]),v.css("border-top-right-radius",l.br[1]),v.css("border-bottom-right-radius",l.br[2]),v.css("border-bottom-left-radius",l.br[3]))),l.tf){for(y=[],o=[[3,0],[3,0],[2,0],[3,1],[2,"50%"]],b=0;b<o.length;b++)for(y[b]=[],l.tf[b]||(l.tf[b]=[]),_=0;_<o[b][0];_++)l.tf[b][_]||(l.tf[b][_]=o[b][1]),y[b][_]=l.tf[b][_];o="string"==typeof y[4][0]?y[4][0]+" "+y[4][1]:y[4][0]+"px "+y[4][1]+"px",v.css("-webkit-transform-origin",o),v.css("-moz-transform-origin",o),v.css("-ms-transform-origin",o),v.css("-o-transform-origin",o),v.css("transform-origin",o),"webkitAppearance"in document.documentElement.style?(b="",b=0!=y[0][2]?b+("translate3d("+r(y[0][0])+","+r(y[0][1])+","+r(y[0][2])+")"):b+("translate("+r(y[0][0])+","+r(y[0][1])+")"),0!=y[1][1]||0!=y[1][2]?(b+=" rotateZ("+y[1][0]+"deg)",b+=" rotateX("+y[1][0]+"deg)",b+=" rotateY("+y[1][0]+"deg)"):b+=" rotate("+y[1][0]+"deg)",b+=" skewX("+y[2][0]+"deg) skewY("+y[2][1]+"deg)",b=1!=y[3][2]?b+(" scale3d("+y[3][0]+","+y[3][1]+","+y[3][2]+")"):b+(" scale("+y[3][0]+","+y[3][1]+")"),t(m).css("-webkit-transform",b)):(o="translate("+r(y[0][0])+","+r(y[0][1])+") rotate("+y[1][0]+"deg)  skewX("+y[2][0]+"deg) skewY("+y[2][1]+"deg) scale("+y[3][0]+","+l.tf[3][1]+")",v.css("-moz-transform",o),v.css("-ms-transform",o),v.css("-o-transform",o)),v.css("transform",o)}if(l.boxShadow&&(o=l.boxShadow,o=o[0]+" "+o[1]+"px "+o[2]+"px "+o[3]+"px "+o[4]+"px "+o[5],v.css("-webkit-box-shadow",o),v.css("-moz-box-shadow",o),v.css("box-shadow",o)),l.textShadow&&(o=l.textShadow,o=o[0]+" "+o[1]+"px "+o[2]+"px "+o[3]+"px ",v.css("text-shadow",o)),l.filter){for(b=l.filter,o="",0!==b[0]&&(o+="invert("+b[0]+") "),0!==b[1]&&(o+="hue-rotate("+b[1]+"deg) "),1!==b[2]&&(o+="contrast("+b[2]+") "),1!==b[3]&&(o+="saturate("+b[3]+") "),0!==b[4]&&(o+="brightness("+b[4]+") "),0!==b[5]&&(o+="sepia("+b[5]+") "),0!==b[6]&&(o+="grayscale("+b[6]+") "),0!==b[7]&&(o+="blur("+b[7]+"px) "),_=e.Color.parseValue(b[8]),A=!0,y=1;y<_.length-1;y++)if(0!==_[y]){A=!1;break}A&&0===b[9]&&0===b[10]&&0===b[11]||(o+="drop-shadow("+b[8]+" "+b[9]+"px "+b[10]+"px "+b[11]+"px)"),v.css("-webkit-filter",o),v.css("-moz-filter",o),v.css("filter",o)}if(l.opacity&&v.css("opacity",l.opacity),l.stroke&&(b=l.stroke,(o=b[0])||(o=0),(y=b[1])?"string"==typeof y&&(y=[y]):y=["rgba(0,0,0,0)"],(b=b[2])||(b="none"),v.css("border",""+o+"px "+b+" "+e.colorToSupported(y[0]))),l.fill&&(o=l.fill,y=o[0],"string"==typeof y&&(y=[y]),b=o[1],(!b||t.isArray(b))&&(b="solid"),"solid"==b&&y&&v.css("background-color",e.colorToSupported(y[0])),o[1]))if(t.isArray(o[1])){if(t.isArray(o[1][1])){d="linear-gradient("+o[1][0];var w="linear-gradient("+(450-o[1][0])%360;for(p="deg,",y=0;y<o[1][1].length;y++)b=o[1][1][y],t.isArray(b)&&(p+=e.colorToSupported(b[0]),b[1]&&(p+=" "+b[1]+"%")),y<o[1][1].length-1&&(p+=",");p+=")",o[1][2]&&(w="repeating-"+w,d="repeating-"+d),v.css("background-image","-webkit-"+d+p),v.css("background-image","-moz-"+d+p),v.css("background-image","-ms-"+d+p),v.css("background-image","-o-"+d+p),v.css("background-image",w+p),e.forceGPU(m)}else if(o[1][4]&&t.isArray(o[1][4])){for(d="radial-gradient("+o[1][0]+"% "+o[1][1]+"%,",d+=o[1][2]?"ellipse ":"circle ",d+=o[1][3]+",",w="radial-gradient("+(o[1][3]+" "),w+=o[1][2]?" ellipse at ":" circle at ",w+=o[1][0]+"% "+o[1][1]+"%,",p="",y=0;y<o[1][4].length;y++)b=o[1][4][y],t.isArray(b)&&(p+=e.colorToSupported(b[0]),b[1]&&(p+=" "+b[1]+"%")),y<o[1][4].length-1&&(p+=",");p+=")",o[1][5]&&(d="repeating-"+d),v.css("background-image","-webkit-"+d+p),v.css("background-image","-moz-"+d+p),v.css("background-image","-ms-"+d+p),v.css("background-image","-o-"+d+p),v.css("background-image",w+p),e.forceGPU(m)}}else y=o[1],"string"==typeof y?y=[y]:"object"==typeof y&&((b=y[window.EdgeScreenProfile.name])||(b=y["default"]),y=b),l.tag&&"img"==l.tag?y[0]&&(p=u(p,y[0],m,"src",s),d.requestImage(p)):(y[0]&&(v.css("background-size","100% 100%"),v.css("-webkit-background-size","100% 100%"),p=u(p,y[0],m,"background-image",n,function(e){if(e){e=e.replace("'","\\'");var i=c,n=l.counterScale,s=e.toLowerCase();if(s.match(".svg$")||s.match(".svg?"))for(v.addClass("eg-svg-image"),n&&v.addClass("eg-counter-scale");i;)n=t(i),n.hasClass("eg-svg-holder")||n.addClass("eg-svg-holder"),i=i.parentNode;return"url("+e+")"}return e}),(o[2]||o[3])&&(y="px",o[2]&&"string"==typeof o[2]?w=f(o[2]):"string"==typeof o[3]&&(w=f(o[3])),w&&w.units&&w.units[0]&&(y=w.units[0]),o[2]||(o[2]="0"+y),o[3]||(o[3]="0"+y),v.css("background-position",r(o[2])+" "+r(o[3]))),(o[4]||o[5])&&(w="",o[4]||(o[4]=o[5]),"string"==typeof o[4]&&("auto"!==o[4]&&(o[4]=r(o[4])),w=o[4]),"string"==typeof o[5]&&("auto"!==o[5]&&(o[5]=r(o[5])),w=w+" "+o[5]),v.css("background-size",w),v.css("-webkit-background-size",w)),d.requestImage(p)),o[6]||v.css("background-repeat","no-repeat"),o[7]&&"scroll"!=o[7]&&v.css("background-attachment",o[7]));if(v.css("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)"),c&&g){if(!c.appendChild)return m;c.firstChild&&h>=0&&c.children&&h<c.children.length?c.insertBefore(m,c.children[h]):c.appendChild(m)}if(window.edge_authoring_mode&&("audio"===i||"video"===i)){if(4==m.readyState)m.pause();else var x=m;t(x).one("loadedmetadata",function(){x.pause()})}return m}function l(n,s,r,a,l,c,d){h(s,a);var p=null,m="div";switch(s.tag&&(m=s.tag),s.t){case"rect":case"ellipse":case"canvas":case"group":p=o(m,n,s,r,l,c,a,d);break;case"image":p=o(m,n,s,r,l,c,a,d);break;case"video":case"audio":p=o(m,n,s,r,l,c,a,d),i.DOMMediaNodeCreated(p);break;case"text":p=o(m,n,s,r,l,c,a,d),n=t(p),s.font&&(r=s.font,r[0]&&""!==r[0]&&n.css("font-family",r[0]),null!==r[1]&&("object"!=typeof r[1]&&(r[1]=[r[1]]),r[1][1]||(r[1][1]="px"),r[1][0]&&""!==r[1][0]&&n.css("font-size",r[1][0]+r[1][1])),r[2]&&""!==r[2]&&n.css("color",e.colorToSupported(r[2])),r[3]&&""!==r[3]&&n.css("font-weight",r[3]),r[4]&&""!==r[4]&&n.css("text-decoration",r[4]),r[5]&&""!==r[5]&&n.css("font-style",r[5])),s.align&&n.css("text-align",s.align),s.position&&(p.style.position=s.position),(!s.rect[2]||0>=s.rect[2]||"auto"==s.rect[2])&&(!s.rect[3]||0>=s.rect[3]||"auto"==s.rect[3])&&n.css("white-space","nowrap"),p.appendChild(document.createTextNode("")),u(a,s.text,p,"text",function(e,i,n){t(e).get(0)&&t(e).html(n)})}return p}function c(t,e,n,s,r,a,o){if(n=l(t,e,s,r,a||0,o)){if(i.nodeSymbolInstanceLookup[t]?i.DOMNodeStarted(n,s,e,i.nodeSymbolInstanceLookup[t].symbolName,i.nodeSymbolInstanceLookup[t].autoPlay,i.nodeSymbolInstanceLookup[t].variables):i.DOMNodeStarted(n,s,e),e.c)for(t=0;t<e.c.length;t++)s=e.c[t],c(s.id,s,e,n,r,t,o);i.DOMNodeCompleted(n)}return n}var h,d,u,p=e.PropertyTween,m=e.TransformTween,f=m.splitUnits,g=m.getNumber,v=[["children","c"],["rect","r"],["sizeRange","zr"],["borderRadius","br"],["clip","cl"],["alt","al"],["title","tt"],["tabindex","ti"],["controls","cn"],["source","sr"],["poster","ps"],["preload","pr"],["cursor","cu"],["autoplay","ap"],["loop","lp"],["font","n"],["transform","tf"],["boxShadow","sh"],["textShadow","ts"],["opacity","o"],["userClass","uc"],["stroke","s"],["fill","f"],["display","v"],["filter","fi"]];return d=function(t,e){var i=t;return t&&e&&(i=p.substituteVariables(t,e),"undefined"==typeof i&&(i=t)),i},u=function(t,e,n,s,r,a){t=d(e,t);var o=function(t,e,i){a&&(i=a(i)),r(n,s,i)};return t&&t!=e&&!window.edge_authoring_mode&&(i.nodeVariableBindings[e]||(i.nodeVariableBindings[e]=[]),i.nodeVariableBindings[e].push({ele:n,action:o})),o(null,null,t),t},h=function(t){t.type&&(t.t=t.type),t.t&&(t.t=t.t.toLowerCase()),t.type=t.t,t.cs&&(t.className=t.cs);var e,i=v.length;for(e=0;i>e;e++)t[v[e][0]]&&(t[v[e][1]]=t[v[e][0]]),t[v[e][0]]=t[v[e][1]];for(t.rect||(t.rect=t.r=[]);4>t.rect.length;)t.rect[t.rect.length]=0;if(t.tf){for(;5>t.tf.length;)t.tf[t.tf.length]=0;for(;8>t.transform.length;)t.tf[t.tf.length]=1}},{stageLookup:{},nodeLookup:{},nodeSymbolInstanceLookup:{},DOMNodeSeek:function(){},DOMNodeReset:function(){},DOMNodeStarted:function(){},DOMNodeCompleted:function(){},DOMMediaNodeCreated:function(){},renderDOM:function(t,n,s,r,a,o){for(i.nodeVariableBindings={},r=0;r<t.length;r++)h(t[r],s);if(i.nodeSymbolInstanceLookup={},a)for(r=0;r<a.length;r++)i.nodeSymbolInstanceLookup[a[r].id]=a[r];for(r=0;r<t.length;r++)t[r]&&(a=c(t[r].id,t[r],null,null,s,0,o))&&n.appendChild(a);for(var l in i.nodeVariableBindings)if(i.nodeVariableBindings.hasOwnProperty(l))for(t=i.nodeVariableBindings[l],r=0;r<t.length;r++)e.Symbol.bindVariableActionToSymbol(n,l,t[r].action)},buildSceneGraphNode:c,createElement:l}}();e.DeclareMarkup=i}}(jQuery,AdobeEdge),window.Cyan=window.AdobeEdge,function(t,e){function n(t){return t.parent().hasClass("center-wrapper")}function s(e){var s=e.$("Stage");if(!e.composition.alreadyWrapped){var r=function(){var r,a,o,l=n(s),c=l?s.parent().parent().parent():s.parent(),h=c.width(),d=c.height(),u=s.width(),p=s.height(),m=t(window).height(),f=1,g=e.options.data.initialState;if(r=/px|^0$/,(c="body"===c[0].nodeName.toLowerCase())&&(d=m),g=e.options.data.states[g]["${_Stage}"])for(i=0;i<g.length;i++)"style"===g[i][0]&&"min-width"===g[i][1]&&(m=g[i][2],a=r.test(m)?parseInt(m,10):void 0),"style"===g[i][0]&&"max-width"===g[i][1]&&(m=g[i][2],o=r.test(m)?parseInt(m,10):void 0);h=Math.round(h),r=Math.round(d),d=h/u,h=r/p,r=e.options.data.scaleToFit,"both"===r?f=Math.min(d,h):"height"===r?f=h:"width"===r&&(f=d),void 0!==o&&(f=Math.min(f,o/u)),void 0!==a&&(f=Math.max(f,a/u)),s.css("transform-origin","0 0"),s.css("-o-transform-origin","0 0"),s.css("-ms-transform-origin","0 0"),s.css("-webkit-transform-origin","0 0"),s.css("-moz-transform-origin","0 0"),s.css("-o-transform-origin","0 0"),s.css("transform","scale("+f+")"),s.css("-o-transform","scale("+f+")"),s.css("-ms-transform","scale("+f+")"),s.css("-webkit-transform","scale("+f+")"),s.css("-moz-transform","scale("+f+")"),s.css("-o-transform","scale("+f+")"),c&&!l||s.parent().height(Math.round(p*f)).width(Math.round(u*f)),l&&(l=s.parent().parent(),l.height(Math.round(p*f+s.offset().top-l.offset().top)))};t(window).on("resize",function(){r()}),t(document).ready(function(){r()})}}function r(t,e,i,n,s){var r=i.x-e.x,a=i.y-e.y,r=Math.sqrt(r*r+a+a);return{id:"generated",tween:["motion",t,[[e.x,e.y,0,0,0,0,0],[i.x,i.y,0,0,0,0,r]],[[0,0],[0,0]]],position:n,duration:s}}function a(){if("undefined"==typeof M.isiOS){var t=navigator.userAgent;M.isiOS="webkitAppearance"in document.documentElement.style&&(/iPad/.test(t)||/iPod/.test(t)||/iPhone/.test(t))?!0:!1}return M.isiOS}function o(e){var i={Symbol:this,element:this.element,performDefaultAction:!0};return t.extend(i,e),i}function l(){var e={},i=this.options.data.variables;if(i)for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n].defaultValue);return t.extend(e,{symbolSelector:"#"+t(this.element)[0].id}),e}function c(t,i){this.states=i,this.timelines=t,this.baseState=this.options.data.baseState,this.baseState||(this.baseState="Base State");var n,s=this,r=function(t,i,n,r,a,o,l){return a="#"+n.id,n&&(i=e.Effectors.applyDelta(s,r,n,t,s.effectors[a],i.duration,i,o,l))&&(t+=i),t};for(n in this.timelines)if(this.timelines.hasOwnProperty(n))for(var a=this.timelines[n],o=0;o<a.timeline.length;o++){var l=a.timeline[o];if(s.effectors&&l.tween&&2<l.tween.length){var c=l.tween[2],h=l.tween[4],l=R(l.tween[1],s.variableValues);s.effectors[l]&&e.Effectors.affectsProperty(s,c,s.effectors[l])&&(h.filter=r)}}return this}function h(t){var i=t[0];if("element"===i[0]){var n=R(i[1],this.variableValues);n!==i[1]&&(i=e.cloneJSONObject(i),i[1]=n)}(n=L[i[0]])&&(t=u.call(this,i[0],i[1],t.slice(1)))&&n.apply(this,[t].concat(i.slice(1)))}function d(t){for(var e=t.length,i=0;e>i;i++)h.call(this,t[i])}function u(e,i,n){function s(i,n){if(2<=n.length&&"object"==typeof n[0]&&"object"==typeof n[1]&&"onError"!==n[1].type){var s;s=t.Event("onError"),a&&(s.compId=a.getComposition().compId),s.originalEvent=n[1],t(document).triggerHandler(s)}window.console.log("Javascript error in event handler! Event Type = "+e)}var r=this[n[0]],a=this;if("function"==typeof r){if(n.slice(1),"element"===e)return function(){var t;try{return t=Array.prototype.slice.call(arguments),t.unshift(a),2<=t.length&&"object"==typeof t[0]&&"object"==typeof t[1]&&"compositionReady"===t[1].type&&"string"==typeof t[1].compId&&"object"==typeof t[0].composition&&t[1].compId!==t[0].composition.compId?null:r.apply(a,t)}catch(e){s(a,t)}};if("timeline"===e)return function(n,s){var o,l;return l=t.Event(s&&s.methodName&&/^trig_/.test(s.methodName)?"trigger":e),s&&t.extend(l,s),l.timeline=n,o=Array.prototype.slice.call(arguments),o.splice(0,0,l,i),o.unshift(a),r.apply(a,o)};if("symbol"===e)return function(i,n){var o;try{var l,c;return l=t.Event(n&&n.methodName?n.methodName:e),n&&(t.extend(l,n),n.variableValue&&(c=n.variableValue)),o=Array.prototype.slice.call(arguments),o.splice(0,0,l,c),o.unshift(a),r.apply(a,o)}catch(h){s(a,o)}}}return null}function p(e){t.extend(this,e)}function m(){var t={variables:this.variableValues},e=this.options.data.initialState;if(e||(e=this.options.data.baseState),!M.useCSSAnimation)if(e){var i=w.call(this,null,e,t);T.call(this,i)}else for(i in this.timelines)this.timelines.hasOwnProperty(i)&&(t=this.getAutoPlay(i),"undefined"==typeof t&&(e=this.getTimelineData(i))&&(t=e.autoPlay),"undefined"!=typeof t&&"true"!==t&&!0!==t||this.seekTimeline(i,0))}function f(){return"Default Timeline"}function g(e,i,n){var s={};return t.extend(s,n),n=o.call(this,{tlName:i,tlOptions:s}),this.notifyObservers(e,n),n.performDefaultAction?n.tlOptions:(s=n.tlOptions,i={Symbol:this,timelineName:i,tlOptions:s,performDefaultAction:!0},e=e.replace(/onPre/,"onPost"),void this.notifyObservers(e,i))}function v(t,e){if("string"==typeof e){var i=this.getTimelineData(t);return i&&i.labels?i.labels[e]:void 0}return e}function y(t){var e=this.getTimelineData(t);return e?this._getTimeline(t):null}function b(t,e,i){var n=null;return e&&i||(n=this.getTimelineData(t)),n&&(e||(e=n.toState),i||(i=n.fromState)),t+"-"+(e?e:"")+"-"+(i?i:"")}function _(e,i,n,s){i={timeline:i,data:n};var r,a,o;for(o in e.effectors)if(e.effectors.hasOwnProperty(o)&&(a=e.$(o)))for(n={},a.data("efxCollector",n),r=t(a).data("efxInst");r;)s?r.effector.postRender(a[0],r,n,i):r.effector.preRender(a[0],r,n,i),r=r.nextInst}function A(t){var i=e.Timeline.createTimeline(),n=this;e.Effectors&&i.addObserver({preUpdate:function(t,e){_(n,t,e,!1)},postUpdate:function(t,e){_(n,t,e,!0)}});for(var s=t.length,r=0;s>r;r++){var a=t[r],o=null;a.timeline?o=A.call(this,a.timeline):a.tween?o=e.Timeline.createTween.apply(null,a.tween):a.trigger&&(o=a.trigger.slice(0,2),o.push(this),o=e.Timeline.createTrigger.apply(null,o)),o&&i.add(o,a.position,a.duration,a.easing,a.opts)}return i}function w(e,i,n){if(n={},i){var s=this.states[i];if(s){var r,a,o={};if(e){var l=this.getTimelineData(e).timeline,c=l.length;for(e=0;c>e;e++)a=l[e],a.tween&&(r=R(a.tween[1],this.variableValues),r=a.tween[0]+":"+r+":"+a.tween[2],o[r]||(o[r]=[]),o[r].push(a))}for(var h in s)if("prototype"!==h)for(o=s[h],e=0;e<o.length;e++)if(l=o[e],("${symbolSelector}"!=h||this._getBaseStateName()!=i||!this._symbolBaseStateHasOverride(l[0],l[1]))&&(r=R(h,this.variableValues),"style"===l[0]||"transform"===l[0]||"color"===l[0]||"subproperty"===l[0]||"gradient"===l[0]||"property"===l[0])){if(n[r]||(n[r]=[]),a=l[2],l[3]&&l[3].valueTemplate)if(c=j.prototype.parseTemplate.call(null,l[3].valueTemplate)){var d=c.length,u=[],p=l[2];t.isArray(p)||(p=[p]);for(var m=0;d>m;m++)a=c[m],u.push(a.isPlaceholder?p[a.value]:a.value);a=u.join("")}else a=l[2].join("");n[r].push({decl:l,value:a})}return n}}}function x(t,e,i){var n=e+"Cache";this[n]||(this[n]={});var s=null;if(this[n][t])s=this[n][t];else{e=this.getTimelineData(t)[e];var r,s=w.call(this,t,e,i);t:{r=this.getTimelineData(t).timeline;for(var a=r.length,o=0;a>o;o++){var l=r[o];if(l.tween&&"string"==typeof l.tween[1]&&-1!==l.tween[1].search(/\$\{/)){r=!0;break t}}r=!1}r||D.call(this,e)||(this[n][t]=s)}T.call(this,s,i)}function T(i){var n,s,r,a=this,o="webkitAppearance"in document.documentElement.style,l=function(){var i=t(this),s={},r=t.data(this,e.TransformTween.dataName),r=r||e.TransformTween.prototype.buildTransformData.call(null,this);t.extend(s,r,n),t.data(this,e.TransformTween.dataName,s),e.TransformTween.applyTransform(i,s,void 0,{dontForceZ:!a.gpuAccelerate}),(s=t.data(this,"ui_visibility"))&&i.css("visibility",s)},c=function(){var i=t(this),n={},r=e.SubpropertyTween.prototype.buildDefaultProps.call(null,this,s);t.extend(n,r);for(var a in s)s.hasOwnProperty(a)&&(n[a]?t.extend(n[a],s[a]):n[a]=s[a]);for(a in s)s.hasOwnProperty(a)&&(t.data(this,a,n[a]),e.SubpropertyTween.applySubproperty(i,n[a],void 0,{}))};for(r in i)if(i.hasOwnProperty(r)){var h=i[r],d=h.length;s=n=null;for(var u=0;d>u;u++){var p=h[u].decl,m=p[1];if("transform"===p[0])n||(n={}),n[m]=h[u].value;else if("property"===p[0])t(r).get(0)[m]=h[u].value;else if("subproperty"===p[0]){s||(s={});var f=e.SubpropertyTween.getStyle(m);s[f]||(s[f]={}),s[f][m]=h[u].value}else p=h[u].decl,f=h[u].value,"color"===p[0]&&(f=e.colorToSupported(f)),"gradient"===p[0]?(p=e.Gradient.parseValue(f),f=e.formatGradient(p,!0),t(r).css(m,"-webkit-"+f),t(r).css(m,"-moz-"+f),t(r).css(m,"-ms-"+f),t(r).css(m,"-o-"+f),f=e.formatGradient(p,!1),t(r).css(m,f),e.forceGPU(r)):t(r).css(m,f),o&&"background-size"===m&&t(r).css("-webkit-background-size",f)}n&&e.TransformTween&&t(r).each(l),s&&e.SubpropertyTween&&t(r).each(c)}}function S(t,e,i){var n;n=b.call(this,t),n=null==this.timelineCache[n];var s=this.getTimelineData(t);if(s){var r=s.toState,s=s.fromState;i||(i={}),!n&&i.skipFromState?i.assumeStateUnchanged=!0:(i.ensureFromState&&x.call(this,t,"fromState",i),i.assumeStateUnchanged=!1),t&&(t=this._getTimeline(t,r,s))&&(t.getDuration(),t.seek(e,i))}}function E(t){if(t&&(t=this.getTimelineData(t))){t=t.timeline;for(var e=t.length,i=0;e>i;i++){var n=t[i];n.tween&&(n=R(n.tween[1],this.variableValues),C.call(this,n))}}}function C(i){t(i).each(function(){var i=t.data(this,z);i||(i={},t.data(this,z,i),i.transformData=e.TransformTween.prototype.buildTransformData.call(null,this))})}function D(t){if(!t)return!1;if(t=this.states[t],!t)return!1;for(var e in t)if(t.hasOwnProperty(e)&&-1!==e.search(/\$\{/))return!0;return!1}function P(t){return e.compositionDefns[t].symbolData}function k(e,i,n,s){if(e&&i&&this.symbolInstances&&this.symbolDefns[e]){var r=[],a=this;if(t(i).each(function(){var i=t(this),o=document.createElement("div");(n||0===n)&&i.children().eq(n)[0]?(i=i.children(),0>n?i.eq(n).after(o):i.eq(n).before(o)):i.append(o),i={},i.variables=s,(o=a.convertElementToSymbol(o,e,i))&&(a.instanceReady(o),r.push(o))}),this.readyCalled)for(i=0;i<r.length;i++)r[i]._playAuto(!0);return r}}function I(t){{var i;e.compositionDefns[t]}e.compositions[t]||(i=new e.Composition(t,{stage:"#"+t},{}))}function O(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].timelines)for(var i in t[e].timelines)if(t[e].timelines.hasOwnProperty(i))for(var n=t[e].timelines[i].timeline,s=n.length,r=0;s>r;r++){var a=n[r];a.id||(a.id=Y())}}var L=e.triggerDict={element:function(t,e,i){t&&("document"===e?this.$(document).bind(i,t):"window"===e?this.$(window).bind(i,t):this.$(e).bind(i,t))},timeline:function(t,e,i){if(t&&e){var n=this.getTimelineData(e),s=n.toState,n=n.fromState,r={};r[i]=t,this._getTimeline(e,s,n).addObserver(r)}},symbol:function(t,e,i){t&&(e={},e[i]=t,this.addObserver(e))}},M=e.Symbol=function(i,n){e.Notifier.call(this),t.extend(this,e.Symbol.config),this.widgetEventPrefix="edgeSym_",this.element=null,this.options={data:null,initialState:null},this.timelines={},this.timelineCache={},this.autoPlay={},this._init(i,n)};e.symbol=M,e.Symbol.config=e.Symbol.config||{};var j=e.PropertyTween,R=j.substituteVariables;M._substituteVariables=R,M._parseVariableName=j.parseVariableName;var N=e.symbolDefns={},z="edgeBaseData";e.baseDataName=z;var Z,B,V,F;V=function(e){if(e){this.aSymbolInstances=[];for(var i=e.length,n=0;i>n;n++){var s="#"+e[n].id;if(t(s)[0]&&this.composition){var r=this._getSelectorBaseState(s);this.composition.convertElementToSymbol(s,e[n].symbolName,{autoPlay:e[n].autoPlay,variables:e[n].variables,symbolBaseState:r}),this.aSymbolInstances.push(s)}}}},Z=function(e,i){if(e){var n=t(this.element)[0].id,s=e.id;s&&""!==s||(s=M._makeUniqueID());for(var n=n+"_"+s,r=i.length,a=0;r>a;a++)i[a].id===e.id&&(i[a].id=n);if(this.idLookup=this.idLookup||{},this.idLookup["#"+n]=s,this.setVariable("_"+s,"#"+n),e.oldId=e.id,e.id=n,e.c)for(s=e.c.length,n=0;s>n;n++)Z.call(this,e.c[n],i)}},B=function(){return M.getParentSymbol(this.element)},F=function(t){t&&(this.aSymbolInstances||(this.aSymbolInstances=[]),this.aSymbolInstances.push(t.getSymbolElement()))},t.extend(M.prototype,e.Notifier.prototype,{constructor:M,_init:function(i,n){var s;if(n&&(t.extend(this.options,n),t.isArray(n.observers)&&n.observers.length)){var r=n.observers.length;for(s=0;r>s;s++)this.addObserver(n.observers[s])}if(!this.options.data)return null;if(this.element=i,this.composition=this.options.composition,r=o.call(this),this.notifyObservers("onPreSymbolInit",r),s=o.call(this),r.performDefaultAction){r=t(i),i[0].edgeSymbol=this,r[0].id||(r[0].id=M._makeUniqueID());var a=this,h=this.options.data;this.variableValues=l.call(this),t.extend(this.variableValues,this.options.variables),this.options.opts&&t.extend(this.variableValues,this.options.opts.variables);var u="#"+t(this.element)[0].id;if(this.setVariable("_Stage",u),this.setVariable("_stage",u),this.setVariable("_"+r[0].id,u),r.find("*").each(function(t,e){e.id&&a.setVariable("_"+e.id,"#"+e.id)}),h.actions&&t.extend(this,h.actions),h.timelines&&c.call(this,h.timelines,h.states),h.bindings&&h.bindings.length&&d.call(this,h.bindings),"object"==typeof this.options.opts.autoPlay)for(var f in this.options.opts.autoPlay)this.options.opts.autoPlay.hasOwnProperty(f)&&this.setAutoPlay(this.options.opts.autoPlay[f],f);return h.content&&h.content.dom&&!p&&(p=r.css("position"),"absolute"!==p&&"relative"!==p&&r.css("position","relative")),this.gpuAccelerate=h.gpuAccelerate,"undefined"==typeof this.gpuAccelerate&&(this.gpuAccelerate=!0),this.gpuAccelerate=this.gpuAccelerate&&e.supported.cssTransform3d,p=navigator.userAgent,f="webkitAppearance"in document.documentElement.style,(/Macintosh/.test(p)||f&&/Windows NT/.test(p))&&(this.gpuAccelerate=!1),/Macintosh/.test(p)&&/Safari/.test(p)&&!/Chrome/.test(p)&&/Version\/5\.1/.test(p)&&(this.gpuAccelerate=!0),h=/Version\/(\d+)/.exec(p),/Macintosh/.test(p)&&/Safari/.test(p)&&!/Chrome/.test(p)&&h&&1<h.length&&h[1]&&6<=parseInt(h[1],10)&&(this.gpuAccelerate=!0),(h=/Chrome\/(\d+)/.exec(p))&&1<h.length&&h[1]&&21<=parseInt(h[1],10)&&(this.gpuAccelerate=!0),f&&(/iPad/.test(p)||/iPod/.test(p)||/iPhone/.test(p))&&(this.gpuAccelerate=!0),(this.getComposition().compReadyCalled||window.edge_authoring_mode)&&m.call(this),p=r[0].style.webkitTransform,this.gpuAccelerate&&r[0].style&&("undefined"==typeof p||""===p||"none"===p)?window.edge_authoring_mode&&"BODY"===r[0].nodeName||(r[0].style.webkitTransform="translateZ(0)"):!r[0].style.zIndex&&window.edge_authoring_mode&&(r[0].style.zIndex=0),this.notifyObservers("onPostSymbolInit",s),this.notifyObservers("creationComplete",s),this}this.notifyObservers("onPostSymbolInit",s)},_flushCache:function(){var t,e=this.timelines;for(t in e)if(e.hasOwnProperty(t)){var i=t,n=this.timelines[i],n=b.call(this,i,n.toState,n.fromState);(n=this.timelineCache[n])&&n.updateFinalizer&&n.updateFinalizer&&n.removeObserver(n.updateFinalizer);var n=i,s=this.timelines[n],s=b.call(this,n,s.toState,s.fromState);(s=this.timelineCache[s])&&(this.timelineObservers||(this.timelineObservers={}),this.timelineObservers[n]=s.observers.slice(0)),i=b.call(this,i),this.timelineCache[i]=null,this.timelineStateMap={},this.toStateCache=this.fromStateCache=null}},play:function(t,e,i){var n=f.call(this),s={dontNotify:!0},r=y.call(this,n);return r&&r.stop(s),this.playTimeline(n,t,e,i)},playAll:function(){this.play();for(var t=this.getChildSymbols(),e=0;e<t.length;e++)t[e].playAll()},playTimeline:function(e,i,n,s){if(void 0!==typeof h){var r;if("string"==typeof e&&this.timelines){var a=y.call(this,e);a&&(r=s||{},t.extend(r,{variables:this.variableValues,startPos:i}),r.executeTriggers=n,a.currentDirection="forward"),r&&this._play(e,r)}return this}},playReverse:function(t,e,i){return this.playTimelineReverse(f.call(this),t,e,i)},playTimelineReverse:function(e,i,n,s){var r=g.call(this,"onPreSymbolPlayReverse",e,s);return void 0!==typeof r?(s=s||{},M.startClock(),s.externalClock=!0,i=v.call(this,e,i),"string"==typeof e&&(s=y.call(this,e),("undefined"==typeof i||null===i)&&(i=s.currentPosition,0===i&&(i=s.getDuration())),i={variables:this.variableValues,playDirection:"reverse",startPos:i},t.extend(i,r),i.executeTriggers=n,s.currentDirection="reverse",s.play(i)),e=o(this,{timeline:e,tlOptions:r}),this.notifyObservers("onPostSymbolPlayReverse",e),this):void 0},seek:function(t,e){return this.seekTimeline(f.call(this),t,e)
},seekTimeline:function(e,i,n){if(n=g.call(this,"onPreSymbolSeek",e,n),void 0===typeof n)return null;if(i=v.call(this,e,i),"string"==typeof e){E.call(this,e);var s={variables:this.variableValues};t.extend(s,n),this.timelines&&S.call(this,e,i,s)}return e=o.call(this,{timeline:e,tlOptions:n}),this.notifyObservers("onPostSymbolSeek",e),null},stop:function(t,e){return this.stopTimeline(f.call(this),t,e)},stopAll:function(){this.stop();for(var t=this.getChildSymbols(),e=0;e<t.length;e++)t[e].stopAll()},stopAllTimeline:function(){var t=this.timelineCache;for(var e in t)t[e]&&t[e].stop()},stopTimeline:function(e,i,n){if(n=g.call(this,"onPreSymbolStop",e,n),void 0===typeof n)return null;if("string"==typeof e){var s={variables:this.variableValues};t.extend(s,n),this.timelines&&("undefined"==typeof i?(e=y.call(this,e))&&e.stop(void 0):("string"==typeof i&&(i=v.call(this,e,i)),S.call(this,e,i,s)))}},getPosition:function(){return this.getTimelinePosition(f.call(this))},getTimelinePosition:function(t){return"string"==typeof t&&(t=y.call(this,t))?t.getCurrentPosition():void 0},getDuration:function(){return this.getTimelineDuration(f.call(this))},getTimelineDuration:function(t){return"string"==typeof t&&(t=y.call(this,t))?Math.round(t.getDuration()):void 0},isPlaying:function(){return this.isTimelinePlaying(f.call(this))},isTimelinePlaying:function(t){return"string"!=typeof t?void 0:y.call(this,t).playing?!0:!1},isPlayDirectionReverse:function(){return this.isTimelinePlayDirectionReverse(f.call(this))},isTimelinePlayDirectionReverse:function(t){if("string"==typeof t){if(t=y.call(this,t),t.currentContext){if("reverse"===t.currentContext.playDirection)return!0}else if("reverse"===t.currentDirection)return!0;return!1}},getLabelPosition:function(t){return v.call(this,f.call(this),t)},lookupSelector:function(t){if("string"==typeof t)try{return R("${_"+t+"}",this.variableValues)}catch(e){}},getComposition:function(){return this.composition},getSymbolElementNode:function(){return t(this.element)[0]},getSymbolElement:function(){return t(this.element)},getSymbolTypeName:function(){return this.options.data.typeName},setAutoPlay:function(t,e){e&&0!==e.length||(e=f.call(this)),this.autoPlay[e]=void 0},getAutoPlay:function(t){return t&&0!==t.length||(t=f.call(this)),this.autoPlay[t]},_playAuto:function(t){for(var e in this.timelines)if(this.timelines.hasOwnProperty(e)){var i=this.getAutoPlay(e);if("undefined"==typeof i){var n=this.getTimelineData(e);n&&(i=n.autoPlay)}"undefined"!=typeof i&&"true"!==i&&!0!==i||this.playTimeline(e,0,void 0,{firstUpdate:!0})}if(t&&this.aSymbolInstances)for(e=this.aSymbolInstances.length,i=0;e>i;i++)(n=M.get(this.aSymbolInstances[i]))&&n._playAuto(t)},getVariable:function(t){return this.variableValues[t]},setVariable:function(t,e){if(this.variableValues[t]=e,t){var i=this.getVariable(t),i=o.call(this,{variableValue:i});this.notifyObservers("variableChanged:"+t,i)}},destroy:function(){return t(this.ele)[0].edgeSymbol=void 0,this},getTimelineData:function(t){return this.timelines[t]},_getBaseStateName:function(){var t=this.options.data.baseState;return t||(t=this.defaultBaseState),t},_getSelectorBaseState:function(t){if("string"==typeof t)if(this.idLookup&&this.idLookup[t])t="${_"+this.idLookup[t]+"}";else if(-1===t.search(/\$\{/)){if(-1!==t.search(/\#/)){var e=this.$(t);e&&e.get(0)&&e.get(0).id&&(t=e.get(0).id)}t="${_"+t+"}"}var e=this._getBaseStateName(),i=null;return this.options.data.states&&this.options.data.states[e]&&(i=this.options.data.states[e][t]),i},_symbolBaseStateHasOverride:function(){},_getTimeline:function(t,i,n){var s=b.call(this,t,i,n);if(this.timelineCache[s])return this.timelineCache[s];if(!this.getTimelineData(t))return null;var a=this.getTimelineData(t).timeline;if(i||n)a=e.cloneJSONObject(a);else for(var o=a.length-1;o>=0;o--)"injected"===a[o].id&&a.splice(o,1);for(var l,c,h,d,u=a.length,p={},m={},o=0,f=0;u>f;f++)c=a[f],c.tween&&(l=c.tween[1],p[l]||(p[l]=[]),p[l].push(c),l=c.tween[0]+":"+c.tween[1]+":"+("motion"===c.tween[0]?"location":c.tween[2]),m[l]||(m[l]=[]),m[l].push(c)),(c.tween||c.trigger)&&(h=c.duration||0,o=Math.max(o,c.position+h));c=function(t,e){return t.position-e.position};for(l in m)m.hasOwnProperty(l)&&m[l].sort(c);var g,v,y,_,w,x;if(i={},n)for(g in n=this.states[n])if(n.hasOwnProperty(g))for(f=n[g],h=p[g],v=f.length,w=0;v>w;w++)if(c=f[w],y=c[0],_=c[1],d=c[2],"${symbolSelector}"!==g||!this._symbolBaseStateHasOverride(y,_)){i[y+":"+g+":"+_]=d;var T=null,S=-1,u=0;for(h&&(u=h.length),x=0;h&&u>x;x++)c=h[x],l=c.tween,l[0]===y&&l[2]===_&&(-1===S||c.position<S)&&(T=c,S=c.position);T&&(4>T.tween.length||!T.tween[4]||"undefined"==typeof T.tween[4].fromValue)&&(T.tween[4]||(T.tween[4]={}),T.tween[4].fromValue=d)}for(l in m)m.hasOwnProperty(l)&&(0<m[l][0].position&&(n=i[l],m[l][0].tween&&"motion"===m[l][0].tween[0]?(c=m[l][0],g=c.tween[2][0][0],p=c.tween[2][0][1],g=r(c.tween[1],{x:g,y:p},{x:g,y:p},0,Math.max(0,c.position-1)),g.id="injected",a.push(g)):void 0!==n&&(c=e.cloneJSONObject(m[l][0]),c.tween[3]=c.tween[4].fromValue=n,c.position=0,c.duration=0,c.id="injected",a.push(c))),d=m[l].length-1,d>=0&&(c=m[l][d],n=c.position+c.duration,o>n&&(g=null,c.tween&&"motion"===c.tween[0]?(f=c.tween[2].length-1,g=c.tween[2][f][0],p=c.tween[2][f][1],g=r(c.tween[1],{x:g,y:p},{x:g,y:p},n,o-n)):(g=e.cloneJSONObject(m[l][d]),g.tween[4]&&(g.tween[4].fromValue=c.tween[3]),g.position=o,g.duration=0),g&&(g.id="injected",g.opts=g.opts||{},g.opts.reverseOnly=!0,a.push(g)))));return a=A.call(this,a),this.timelineCache[s]=a},_play:function(t,e){M.startClock(),e.externalClock=!0,e.dontForceZ=!this.gpuAccelerate;var i=y.call(this,t);i&&i.play(e)},_executeSymbolAction:function(t,i){if(!("object"!=typeof i||3>i.length)){var n=i[0],s=e.Symbol.get(this.$(i[1]));if(s&&n){var r=i[2];r&&"object"==typeof r||(r=null),s[n].apply(s,r)}}},eSA:function(t,e){this._executeSymbolAction(t,e)},_executeMediaAction:function(t,e){if(!("object"!=typeof e||3>e.length)){var i=e[0],n=this.$(e[1])[0];if(n&&i){var s=e[2];s&&"object"==typeof s||(s=null),"play"===i?(s&&0<s.length&&"number"==typeof s[0]&&(n.currentTime=s[0]),n.play()):"pause"===i&&n.pause()}}},eMA:function(t,e){this._executeMediaAction(t,e)},createChildSymbol:function(t,e,i,n){return t&&e&&t!==this.getSymbolTypeName()&&(e=this.$(e))&&e[0]&&(t=k.call(this.getComposition(),t,e,i,n))?(F.call(this,t[0]),t[0]):void 0},deleteSymbol:function(e){e=e||{};var i;if(this.composition&&(i=this.composition.getSymbols()),i){var n=o.call(this,{});if(this.notifyObservers("onPreRemove",n),this.notifyObservers("beforeDeletion",n),n.performDefaultAction){var s,r,a;if(this.aSymbolInstances)for(;0<this.aSymbolInstances.length;)a=this.aSymbolInstances[0],this.aSymbolInstances.splice(0,1),this.composition.removeSymbol(a,e);if(this.timelines)for(s in this.timelines)this.timelines.hasOwnProperty(s)&&(a=y.call(this,s))&&a.stop(void 0);var l=this.getParentSymbol();if(l&&l.aSymbolInstances)for(r=l.aSymbolInstances.length,s=0;r>s;s++)if(a=l.aSymbolInstances[s],l.getSymbol(a)===this){l.aSymbolInstances.splice(s,1);break}if(this.idLookup)for(var c in this.idLookup)this.idLookup.hasOwnProperty(c)&&t(c).removeData("symParent");for(c=this.element,t(c)[0].edgeSymbol=void 0,e._keepElement?t(c).empty():t(c).remove(),s=i.length;s>=0;s--)if(i[s]===this){i.splice(s,1);break}this.element=null,this.notifyObservers("onPostRemove",n),this.observers=[]}}},getSymbol:function(t){return t=this.$(t),M.get(t)},getChildSymbols:function(){var t=[];if(this.aSymbolInstances)for(var e=0;e<this.aSymbolInstances.length;e++){var i=this.getSymbol(this.aSymbolInstances[e]);i&&t.push(i)}return t},getParentSymbol:function(){return B.call(this)},$:function(e){var i=e;return"string"==typeof e&&(-1===e.search(/\$\{/)?(i=this.lookupSelector(e),"undefined"==typeof i&&(i=e)):i=R(e,this.variableValues)),t(i)}}),M.prototype.getParameter=M.prototype.getVariable,M.prototype.setParameter=M.prototype.setVariable,M.get=function(e){return(e=t(e)[0])?e.edgeSymbol:void 0},M.getDefaultEasing=function(){return e.TimelineObject.defaultEasing},M.getParentSymbol=function(e){e=t(e).parents();for(var i=e.length,n=0;i>n;n++){var s=M.get(e[n]);if(s)return s}return null},M.startClock=function(){if(!M.timerFunc&&M.__clockPaused){var t=1e3/e.Timeline.config.fps;M.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;var i=navigator.userAgent;"webkitAppearance"in document.documentElement.style&&/OS 6/.test(i)&&(/iPad/.test(i)||/iPod/.test(i)||/iPhone/.test(i))&&(M.requestAnimationFrame=null),M.requestAnimationFrame=M.requestAnimationFrame||function(e){window.setTimeout(e,t)},M.__clockPaused=!1,M.timerFunc=function(){M.__clockPaused||(e.Timeline.tick(),M.requestAnimationFrame.call(window,M.timerFunc))},M.requestAnimationFrame.call(window,M.timerFunc)}},M.__clockPaused=!0,M.stopClock=function(){M.__clockPaused=!0,M.timerFunc=null};var H=function(t,i,n,s,r,a,o,l){function c(t){jQuery.extend(this,t)}var d=e.getCompositionSymbolDefns(t)[i];if(d){d.actions||(d.actions={}),o=M._makeUniqueID(),d.actions[o]=r,d.bindings||(d.bindings=[]);var u=[[a,n,s],o];if(d.bindings.push(u),null!=e.compositions&&(t=e.compositions[t],null!=t&&(t=t.getSymbols(),null!=t)))for(var p,d=t.length,m=0;d>m;m++){p=t[m];var f=p.getSymbolTypeName();if(i===f&&(f={},f[o]=r,c.call(p,f),h.call(p,u),"timeline"===a)){var g=p;p=n;var f=s,v=l,y=void 0,y=b.call(g,p,g.toState,g.fromState),g=g.timelineCache[y],y=void 0;g&&(y={trigger:[f,p],position:v,duration:0,id:f},y=e.Timeline.createTriggerFromData(g,y),g.add(y,v,0,""))}}}else e.logError("$.Edge.Symbol."+o+": symbol not found")};M.bindElementAction=function(t,e,i,n,s){H(t,e,i,n,s,"element","bindElementAction")},M.bindTimelineAction=function(t,e,i,n,s){H(t,e,i,n,s,"timeline","bindTimelineAction")},M.bindTriggerAction=function(t,i,n,s,r){var a=e.getCompositionSymbolDefns(t)[i];if(a)if(a=a.timelines[n].timeline){var o="trig_"+e.Symbol._makeUniqueID();a.push({trigger:[o,n],position:s,duration:0,id:o}),H(t,i,n,o,r,"timeline","bindTriggerAction",s)}else e.logError("$.Edge.Symbol.bindTriggerAction: timeline not found");else e.logError("$.Edge.Symbol.bindTriggerAction: symbol not found")},M.bindSymbolAction=function(t,e,i,n){H(t,e,"",i,n,"symbol","bindSymbolAction")},M.bindVariableAction=function(t,e,i,n){H(t,e,"","variableChanged:"+i,n,"symbol","bindVariableAction")},M.bindVariableActionToSymbol=function(t,e,i){if(t=M.get(t)){e=M._parseVariableName(e);var n="variableChanged:"+e;e=M._makeUniqueID();var n=[["symbol","",n],e],s={};s[e]=i,p.call(t,s),h.call(t,n)}};var U=(new Date).getTime(),Y=function(){for(var e="eid_"+U++;0<t("#"+e).length;)e="eid_"+U++;return e};M._makeUniqueID=Y,e.importSymbolDefinitions=function(){},e.registerFonts=function(i){if(i){var n,s,r,a,o;e.fonts||(e.fonts={});for(var l in i)if(i.hasOwnProperty(l)&&!e.fonts[l]&&(r=i[l])&&""!==r){n=!1;for(var c in e.fonts)e.fonts.hasOwnProperty(c)&&e.fonts[c]===r&&(n=!0);if(!n)if(e.fonts[l]=r,n=r.indexOf("//use.typekit.com/"),0>n&&(n=r.indexOf("//use.typekit.net/")),0>n&&(n=r.indexOf("//use.edgefonts.net/"),o=n>0,window._adobewebfontsappname_="Animate"),n>0)s=r.indexOf('"',n+1),s>0&&(n=r.substring(n,s),o&&"file:"===window.location.protocol&&(n="http:"+n),r=document.createElement("script"),r.src=n,r.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(r),o||(a=function(){try{window.Typekit.load()}catch(t){setTimeout(a,100)}},setTimeout(a,100)));else if(0>r.indexOf("<script"))t("head").append(r);else if(n=r.indexOf(">"),s=r.indexOf("</script>"),n>0&&s>0){r=r.substring(n+1,s);try{window.eval(r)}catch(h){}}}}};var X=0;e.P=function(t,e,i,n,s){var r=e,a="";return this.p=t,this.tt=i||"style",s||""===s?this.u=s:this.u||""===this.u||(this.u="px"),"number"==typeof e&&(a=this.u,r=e+a),this.vt=n,null!=e&&(this.st[this.s]||(this.st[this.s]=[]),this.st[this.s][this.st[this.s].length]=this.vt?[this.tt,this.p,r,{valueTemplate:this.vt}]:[this.tt,this.p,r],this.last=e),this},e.T=function(t,e,i,n,s){var r={},a="",a=e;return s||0===s||(s=this.last),"number"==typeof e&&(a=this.u,(s||0===s)&&(s+=a),a=e+a),(s||0===s)&&(r.f=s),this.vt&&(r.vt=this.vt),n||(n=this.lastE),n||(n="linear"),null==i&&(i=0),this.tl[this.tl.length]="motion"===this.tt?{id:"dg"+ ++X,tw:[this.tt,this.s,a],p:Math.floor(1e3*t),d:Math.floor(1e3*i),e:n}:{id:"dg"+ ++X,tw:[this.tt,this.s,this.p,a,r],p:Math.floor(1e3*t),d:Math.floor(1e3*i),e:n},this.last=e,this.lastE=n,this},e.A=function(t,i,n){return i||(i=this.tl,n=this.st),{tl:i,st:n,s:t,A:e.A,P:e.P,T:e.T}},e.compositions=e.compositions||{},e.compositionDefns=e.compositionDefns||{},e.compositionFonts=e.compositionFonts||{},e.compositionOpts=e.compositionOpts||{},e.compositionReadyHandler=e.compositionReadyHandler||{},e.registerSymbolDefns=function(t,i){if(t&&!(0>=t.length)&&e.compositionDefns[t]){var n,s,r,a;for(n in i)if(i.hasOwnProperty(n)){var o=i[n];if(o.typeName=n,o.v&&(o.version=o.v),o.v&&(o.minimumCompatibleVersion=o.mv),o.b&&(o.build=o.b),o.bS&&(o.baseState=o.bS),o.iS&&(o.initialState=o.iS),null!=o.gpu&&(o.gpuAccelerate=o.gpu),null!=o.rI&&(o.resizeInstances=o.rI),o.cn&&(o.content=o.cn),o.content&&(r=o.content,null!=r.sI&&(r.symbolInstances=o.content.sI),r.symbolInstances))for(var l=0;l<r.symbolInstances.length;l++)a=r.symbolInstances[l],null!=a.sN&&(a.symbolName=a.sN),null!=a.a&&(a.autoPlay=a.a),null!=a.x&&(a.variables=a.x);o.cg&&(o.centerStage=o.cg),o.stf&&(o.scaleToFit=o.stf),o.x&&(o.variables=o.x),o.s&&(o.states=o.s),o.tl&&(o.timelines=o.tl);for(s in o.timelines)if(o.timelines.hasOwnProperty(s))for(l=o.timelines[s],l.fS&&(l.fromState=l.fS),l.tS&&(l.toState=l.tS),null!=l.d&&(l.duration=l.d),null!=l.a&&(l.autoPlay=l.a),l.l&&(l.labels=l.l),l.tt&&(l.timeline=l.tt),r=0;r<l.timeline.length;r++){if(a=l.timeline[r],a.tween||null===a.tw||"undefined"==typeof a.tw||(a.tween=a.tw,a.tw=void 0),a.tween&&3<a.tween.length){var c=a.tween[4];c&&(c.fromValue||null===c.f||(c.fromValue=c.f,c.f=void 0),c.valueTemplate||null===c.vt||(c.valueTemplate=c.vt,c.vt=void 0))}a.position||null===a.p||"undefined"==typeof a.p||(a.position=a.p,a.p=void 0),a.duration||null===a.d||"undefined"==typeof a.d||(a.duration=a.d,a.d=void 0),a.easing||null===a.e||"undefined"==typeof a.e||(a.easing=a.e,a.e=void 0),a.trigger||null===a.tr||"undefined"==typeof a.tr||(a.trigger=a.tr,a.tr=void 0)}}}},e.getPxValue=function(t){if(!t)return 0;if("number"==typeof t)return t;var e=t.indexOf("px");return parseFloat(e>0?t.substring(0,e):t)},e.mapContentToTranslate=function(t,i,n,s,r){var a,o,l;for(a=0;a<t.length;a++)o=t[a],l="${_"+o.id+"}",n[l]&&(i[l]=!0,o.rect||(o.rect=o.r,o.r=void 0,o.rect||(o.rect=[0,0,0,0])),o.rect&&(o.transform||(o.transform=o.tf,o.tf=void 0,o.transform||(o.transform=[])),o.transform[0]||(o.transform[0]=[0,0]),e.isPx(o.rect[0])&&(o.transform[0][0]=e.getPxValue(o.rect[0]),s[l]=o.transform[0][0],o.rect[0]="0px"),e.isPx(o.rect[1])&&(o.transform[0][1]=e.getPxValue(o.rect[1]),r[l]=o.transform[0][1],o.rect[1]="0px"))),o.children?e.mapContentToTranslate(o.children,i,n,s,r):o.c&&e.mapContentToTranslate(o.c,i,n,s,r)},e.isPx=function(t){return t&&"string"==typeof t&&(0<t.indexOf("%")||0<t.indexOf("em")||"auto"===t||"null"===t)?!1:!0},e.mapSymToTranslate=function(t){var i,n,s,r,a,o,l,c,h,d,u,p,m={},f={},g={};if(n={},t.timelines)for(h in t.timelines)if(t.timelines.hasOwnProperty(h)&&(o=t.timelines[h],r=o.timeline))for(o=0;o<r.length;o++)(a=r[o].tween)&&("left"==a[2]||"top"==a[2])&&e.isPx(a[3])&&(n[a[1]]=!0);t.content&&t.content.dom&&e.mapContentToTranslate(t.content.dom,g,n,m,f);for(i in t.states)if(t.states.hasOwnProperty(i))for(s in n=t.states[i])if(n.hasOwnProperty(s)&&g[s]){for(r=n[s],a=[],u=d=p=!1,o=0;o<r.length;o++)c=r[o],"left"!==c[1]&&"top"!==c[1]||!e.isPx(c[2])?("transform"===c[0]&&(p=!0),a[a.length]=r[o]):(p=!0,"left"===r[o][1]&&(l="translateX",d=!0),"top"===r[o][1]&&(l="translateY",u=!0),c=["transform"],c[1]=l,c[2]=e.getPxValue(r[o][2])+"px",a[a.length]=c);p&&(!d&&m[s]&&(a[a.length]=["transform","translateX",e.getPxValue(m[s])+"px"]),!u&&f[s]&&(a[a.length]=["transform","translateY",e.getPxValue(f[s])+"px"])),n[s]=a}if(t.timelines)for(h in t.timelines)if(t.timelines.hasOwnProperty(h)&&(o=t.timelines[h],r=o.timeline))for(o=0;o<r.length;o++)(a=r[o].tween)&&("left"==a[2]||"top"==a[2])&&e.isPx(a[3])&&g[a[1]]&&("left"===a[2]?l="translateX":"top"===a[2]&&(l="translateY"),a[0]="transform",a[2]=l)},e.mapToTranslate=function(t){if(!window.edge_authoring_mode)for(symName in t)t.hasOwnProperty(symName)&&e.mapSymToTranslate(t[symName])},e.registerCompositionDefn=function(t,i,n,s,r){window.edge_authoring_mode&&window.edge_symbol_import_mode&&window.edge_comp_id?e.importSymbolDefinitions(window.edge_comp_id,i,n,s):t&&0<t.length&&!e.compositionDefns[t]&&(e.compositionDefns[t]={symbolData:i,resources:s,readyToLaunch:!1,opts:r},e.registerSymbolDefns(t,i),e.mapToTranslate(i),e.compositionFonts[t]=n,e.compositionOpts[t]=r||{},e.registerFonts(n))},e.getCompositionSymbolDefns=P,e.getCompositionResources=function(t){return e.compositionDefns[t].resources},e.getComposition=function(t){return t?e.compositions[t]:void 0},e.registerCompositionReadyHandler=function(t,i,n){n=n||{},(!window.edge_authoring_mode||n._tool||window.edge_remote_authoring)&&t&&i&&(e.compositions[t]?e.compositions.ready(i):(e.compositionReadyHandler[t]=e.compositionReadyHandler[t]||[],e.compositionReadyHandler[t].push(i)))};var Q=e.Composition=function(i,n,s){if(s=s||{},!window.edge_authoring_mode||s._tool||window.edge_remote_authoring){e.Notifier.call(this),t.extend(this,e.Composition.config),t.extend(this,s);var r,a="#"+i,o=0,l=this;s=e.compositionReadyHandler[i],symbolData=this.symbolDefns=P(i),this.compId=i,o=this._createEvent(),this.notifyObservers("onPreCompInit",o);var c=this._createEvent();if(o.performDefaultAction){this.symbolInstances=[],this.readyCalled=!0,this.$loadCalled=window.AdobeEdge.loaded,e.compositions[i]=this,this.compReadyCalled=!0,O(N);for(r in n)n.hasOwnProperty(r)&&(a=t(n[r]),a.each(function(){l.convertElementToSymbol(this,r)}));l.$loadCalled=!0}this.notifyObservers("onPostCompInit",c)}};e.Composition.config=e.Composition.config||{},t.extend(Q.prototype,e.Notifier.prototype,{play:function(t){if((!window.edge_authoring_mode||t)&&("undefined"==typeof e.autoPlay||e.autoPlay)){t=this.symbolInstances.length;for(var i=0;t>i;i++)this.symbolInstances[i]._playAuto()}},stop:function(){for(var t=this.symbolInstances.length,e=0;t>e;e++)this.symbolInstances[e].stopAllTimeline()},getSymbols:function(t){if(!t)return this.symbolInstances;var e=[];if(!this.symbolInstances)return e;if(this.symbolDefns.hasOwnProperty(t))for(var i=this.symbolInstances.length,n=0;i>n;n++)this.symbolInstances[n].getSymbolTypeName()===t&&e.push(this.symbolInstances[n]);return e},ready:function(t){this.readyCalled?t.call():this.readyList&&this.readyList.push(t)},getCompId:function(){return this.compId},requestImage:function(e){function i(){r.unbind("load"),r.unbind("error");for(var t=0;t<n.resourceRequestList.length;t++)if(n.resourceRequestList[t]===s){n.resourceRequestList.splice(t,1);break}n.resourceRequestCount--,0>=n.resourceRequestCount&&n.$loadCalled&&setTimeout(function(){n.callReadyList()},0)}if("undefined"==typeof M.isOpera&&(M.isOpera=/Opera/.test(navigator.userAgent)),M.isOpera&&/\.svg$/.test(e))return null;this.resourceRequestCount++;var n=this,s=new Image,r=t(s);return this.resourceRequestList.push(s),r.load(i),r.error(i),s.src=e,null},requestAudio:function(i,n){var s=!0,r=!1;if(r=null===n||""==n?"auto"==this.gAudioPreloadPreference:"auto"==n){if(a())return s;for(var o,l,c=this,h=new Audio,d=t(h),u=function(){for(d.off("canplaythrough"),o=0;o<c.resourceRequestList.length;o++)if(c.resourceRequestList[o]===h){c.resourceRequestList.splice(o,1);break}c.resourceRequestCount--,0>=c.resourceRequestCount&&c.$loadCalled&&setTimeout(function(){c.callReadyList()},0)},p=!1,r=0;r<i.length;r++)if(l=i[r].split("."),l=l[l.length-1].toLowerCase(),e.supported.audio[l]){this.resourceRequestCount++,this.resourceRequestList.push(h),d.on("canplaythrough",u),h.src=i[r],p=!0;break}p||(s=!1)}return s},requestVideo:function(i,n){var s=!0,r=!1;if(r=null===n||""==n?"auto"==this.gAudioPreloadPreference:"auto"==n){if(a())return s;for(var o,l,c=this,h=document.createElement("video"),d=t(h),u=function(){for(d.off("canplaythrough"),o=0;o<c.resourceRequestList.length;o++)if(c.resourceRequestList[o]===h){c.resourceRequestList.splice(o,1);break}c.resourceRequestCount--,0>=c.resourceRequestCount&&c.$loadCalled&&setTimeout(function(){c.callReadyList()},0)},p=!1,r=0;r<i.length;r++)if(l=i[r].split("."),l=l[l.length-1].toLowerCase(),e.supported.video[l]){this.resourceRequestCount++,this.resourceRequestList.push(h),d.on("canplaythrough",u),h.src=i[r],p=!0;break}p||(s=!1)}return s},restoreDisplay:function(e,i){var n=this;i||t(".edgeLoad-"+n.compId).each(function(e,i){t(i).removeClass("edgeLoad-"+n.compId);var s=t(i).data("dispOrig");"undefined"!=typeof s&&(i.style.display=s)})},installEffectors:function(i,n,s){var r=n.effectors,a=this;i=i[0]||i,!s&&r&&r["#"+i.id]&&e.Effectors.attach(a,i,r["#"+i.id]),t(i).children().each(function(t,i){r&&r["#"+i.id]&&e.Effectors.attach(a,i,r["#"+i.id]),a.installEffectors(i,n,!0)})},instanceReady:function(i){var n=t(i.element);n&&(e.Effectors&&this.installEffectors(n,i),this.restoreDisplay(n))},callReadyList:function(){var i,n,r;if(!this.readyCalled){for(this.resourceRequestList=[],this.readyCalled=!0,e.preloadComplete&&e.preloadComplete[this.compId]&&e.preloadComplete[this.compId]([this.compId]),r=0;r<this.symbolInstances.length;r++)n=this.symbolInstances[r],m.call(n),this.instanceReady(n);for(r=0;r<this.symbolInstances.length;r++)n=this.symbolInstances[r],i=n.options.data,window.edge_authoring_mode||"height"!==i.scaleToFit&&"width"!==i.scaleToFit&&"both"!==i.scaleToFit||s(n);for(this.compReadyCalled||(this.compReadyCalled=!0,i=t.Event("compositionReady"),i.compId=this.getCompId(),t(document).trigger(i));0<this.readyList.length;)this.readyList.shift().call();i=t.Event("loaded"),i.compId=this.getCompId(),t(document).trigger(i)}},getStage:function(){return M.get(t("."+this.getCompId()))},createSymbolChild:function(t,e,i,n){if((t=k.call(this,t,e,i,n))&&0<t.length&&((i=M.get(e))||(i=M.getParentSymbol(e)),i))for(e=0;e<t.length;e++)F.call(i,t[e]);return t},convertElementToSymbol:function(e,i,n){return e&&t(e)&&this.symbolInstances&&this.symbolDefns[i]?(n=n||{},n.regenerateID=n.regenerateID||!0,e=new M(t(e),{data:this.symbolDefns[i],composition:this,opts:n}),this.symbolInstances.push(e),e):void 0},removeSymbol:function(t,e){if(this.symbolInstances){var i=M.get(t);i&&i.deleteSymbol(e)}},_createEvent:function(e){var i={composition:this,compId:this.compId,performDefaultAction:!0};return t.extend(i,e),i}}),e.launchComposition=function(t){var i=e.compositionDefns[t];i&&(i.launchCalled=!0,I(t))},e.okToLaunchComposition=function(t){var i=e.compositionDefns[t];i&&(i.okToLaunch=!0,I(t))},e.play=function(t){if((!window.edge_authoring_mode||t)&&("undefined"==typeof e.autoPlay||e.autoPlay)){t=this.symbolInstances.length;for(var i=0;t>i;i++){var n=void 0[i],s=n.options.data.autoPlay;"string"==typeof s&&"true"!==s?n.play(s):"undefined"!=typeof s&&!0!==s&&"true"!==s||n.play("Default Timeline")}}},e.logDebug=function(){},e.logInfo=function(){},e.logWarn=function(){},e.logError=function(){},e.logFatal=function(){}}(jQuery,AdobeEdge),function(t,e){"use strict";var i={start:"touchstart mousedown",end:"touchend mouseup"};t.event.special[e]={setup:function(){t(this).off("click").on(i.start+" "+i.end,function(t){i.E=t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t}).on(i.start,function(t){t.which&&1!==t.which||(i.target=t.target,i.time=(new Date).getTime(),i.X=i.E.pageX,i.Y=i.E.pageY)}).on(i.end,function(n){i.target===n.target&&(new Date).getTime()-i.time<750&&i.X===i.E.pageX&&i.Y===i.E.pageY&&(n.type=e,n.pageX=i.E.pageX,n.pageY=i.E.pageY,t.event.dispatch.call(this,n))})},remove:function(){t(this).off(i.start+" "+i.end)}},t.fn[e]=function(t){return this[t?"on":"trigger"](e,t)}}(jQuery,"tap"),function(t,e,i){"use strict";function n(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?k[D.call(t)]||"object":typeof t}function s(t){var e=n(t);return!!t&&"function"!=e&&"string"!=e&&(0===t.length||t.length&&(1==t.nodeType||t.length-1 in t))}function r(t){return(t+"").replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/gi,function(t,e){return(e+"").toUpperCase()})}function a(t){var e=r(t),i=r(w+e);return e in A&&e||i in A&&i||""}function o(t){return"function"==n(t)}function l(t){var e,i=0;if("number"==n(t.length))i=t.length;else if("keys"in Object)i=Object.keys(t).length;else for(e in t)t.hasOwnProperty(e)&&i++;return i}function c(t,e){return"item"in t?t.item(e):function(){var t,i=0;for(t in this)if(i++==e)return this[t]}.call(t,e)}function h(t,e){if(s(t)){if("function"==n(t.forEach))return t.forEach(e);for(var i,r=0,a=t.length;a>r;r++)i=t[r],"undefined"!=n(i)&&e(i,r,t)}else{var o;for(o in t)e(o,t[o],t)}}function d(t){var e=[];return h(t.children||t.childNodes,function(t){1==t.nodeType&&e.push(t)}),e}function u(e,i){var n=t.getComputedStyle&&t.getComputedStyle(e,null)||e.currentStyle||e.style;return n[i]}function p(t,e,i){return"object"==n(e)?h(e,function(e,i){p(t,e,i)}):void h(e.split(" "),function(e){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i})}function m(t,e,i){return"object"==n(e)?h(e,function(e,i){m(t,e,i)}):void h(e.split(" "),function(e){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null})}function f(){var e;t.getSelection?(e=getSelection(),"empty"in e?e.empty():"removeAllRanges"in e&&e.removeAllRanges()):_.selection.empty()}function g(t){var e,i,n={},s=t.which,r=t.button;if(h("wheelDelta detail which".split(" "),function(e){n[e]=t[e]}),n.oldEvent=t,n.type=t.type.toLowerCase(),n.eventType=I[n.type]||n.type,n.eventCode=O[n.type]||0,n.pointerType=L[t.pointerType]||t.pointerType||n.eventType,n.target=t.target||t.srcElement||_.documentElement,3===n.target.nodeType&&(n.target=n.target.parentNode),n.preventDefault=function(){t.preventDefault&&t.preventDefault(),n.returnValue=t.returnValue=!1},e=R[n.eventType]){switch(n.eventType){case"mouse":case"pointer":var a=t.pointerId||0;3==n.eventCode?delete e[a]:e[a]=t;break;case"touch":R[n.eventType]=e=t.touches}(i=c(e,0))&&(n.clientX=i.clientX,n.clientY=i.clientY),n.button=4>s?Math.max(0,s-1):4&r&&1||2&r,n.length=l(e)}return n}var v="2.3.2",y=0,b=(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){var e=+new Date,i=Math.max(1e3/60,1e3/60-(e-y));return y=e+i,setTimeout(t,i)},t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout),_=t.document,A=_.createElement("div").style,w=function(){for(var t,e="-webkit- -moz- -o- -ms-".split(" ");t=e.shift();)if(r(t+"transform")in A)return t;return""}(),x=a("transition"),T=a("opacity"),S=a("transform"),E=a("perspective"),C=a("transform-style"),D=(a("transform-origin"),a("backface-visibility"),C&&function(){return A[C]="preserve-3d","preserve-3d"==A[C]}(),Object.prototype.toString),P=[].slice,k={},I={},O={click:4,mousewheel:5,dommousescroll:5,keydown:6},L={2:"touch",3:"pen",4:"mouse",pen:"pen"},M=[],j=[],R=(function(){var t={},e={start:1,down:1,move:2,end:3,up:3,cancel:3};return h("mouse touch pointer MSPointer-".split(" "),function(i){var n=/pointer/i.test(i)?"pointer":i;t[n]=t[n]||{},L[n]=n,h(e,function(e,s){var a=r(i+e);t[n][a]=s,I[a.toLowerCase()]=n,O[a.toLowerCase()]=s,1==s?M.push(a):j.push(a)})}),console.log,t}(),{touch:{},pointer:{},mouse:{}}),N={linear:function(t,e,i,n){return i*t/n+e},ease:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},"ease-in":function(t,e,i,n){return i*(t/=n)*t*t+e},"ease-out":function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},"ease-in-out":function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},bounce:function(t,e,i,n){return(t/=n)<1/2.75?7.5625*i*t*t+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}},z={fade:function(t,e,i,n,s,r){var a=function(){t.removeEventListener("webkitTransitionEnd",a),i&&(i.style[x]="none"),t.style[x]="none",r()};t.addEventListener("webkitTransitionEnd",a),i&&(T?i.style.opacity=0:i.style.filter="alpha(opacity=0)"),setTimeout(function(){i&&(i.style[x]="all "+s+"ms"),t.style[x]="all "+s+"ms",T?(t.style.opacity=0,i&&(i.style.opacity=1)):(t.style.filter="alpha(opacity=0)",i&&(i.style.filter="alpha(opacity=100)"))},100)}};h("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t){k["[object "+t+"]"]=t.toLowerCase()}),h("X Y ".split(" "),function(t){var e={X:"left",Y:"top"},i=E?" translateZ(0)":"";z["slide"+t]=function(){z["slideCoverReverse"+t].apply(this,arguments)},z["scroll"+t]=function(n,s,r,a,o,l){var c=t||["X","Y"][this.direction],h=function(){n.removeEventListener("webkitTransitionEnd",h),r&&(x?r.style[x]="none":""),x?n.style[x]="none":"",l()};n.addEventListener("webkitTransitionEnd",h),r&&(S?r.style[S]="translate"+c+"("+-100*s+"%)"+i:r.style[e[c]]=-100*s+"%"),setTimeout(function(){n.style[x]="all "+o+"ms",r&&(r.style[x]="all "+o+"ms"),n.style[S]="translate"+c+"("+100*s+"%)"+i,r&&(r.style[S]="translate"+c+"(0%)"+i)},100)},z["zoom"+t]=function(e,n,s,r,a,o){var l=function(){s.removeEventListener("webkitTransitionEnd",l),s&&(x?s.style[x]="none":""),x?e.style[x]="none":"",o()};s&&s.addEventListener("webkitTransitionEnd",l),s&&(s.style[S]="scale"+t+"(0)"+i),setTimeout(function(){s&&(x?s.style[x]="all "+a/2+"ms":""),x?e.style[x]="all "+a/2+"ms":"",e.style[S]="scale"+t+"(0)"+i},100);var c=function(){e.removeEventListener("webkitTransitionEnd",c),s&&(s.style[S]="scale"+t+"(1)"+i)};e.addEventListener("webkitTransitionEnd",c)},z["bomb"+t]=function(e,n,s,r,a,o){var l=function(){s&&(s.removeEventListener("webkitTransitionEnd",l),x?s.style[x]="none":""),x?e.style[x]="none":"",o()};s&&s.addEventListener("webkitTransitionEnd",l),s&&(s.style[S]="scale"+t+"(2)"+i,s.style.opacity=0),setTimeout(function(){s&&(s.style[x]="all "+a/2+"ms"),e.style[x]="all "+a/2+"ms",e.style[S]="scale"+t+"(2)"+i,e.style.opacity=0},100);var c=function(){e.removeEventListener("webkitTransitionEnd",c),s&&(s.style[S]="scale"+t+"(1)"+i,s.style.opacity=1)};e.addEventListener("webkitTransitionEnd",c)},h(" Reverse In Out".split(" "),function(e){z["slideCover"+e+t]=function(n,s,r,a,o,l){var c=t||["X","Y"][this.direction],h=h=Number("In"==e||!e&&0>s||"Reverse"==e&&s>0),d=function(){n&&(n.removeEventListener("webkitTransitionEnd",d),r.style[x]="none"),n.style[x]="none",l()};n&&n.addEventListener("webkitTransitionEnd",d),n.style.zIndex=1-h,r&&(r.style.zIndex=h,r.style[S]="translate"+c+"("+s*h*-100+"%) scale("+(.2*(1-Math.abs(h?0:s))+.8)+")"+i),setTimeout(function(){r&&(r.style[x]="all "+o+"ms"),n.style[x]="all "+o+"ms",document.execCommand("Refresh"),n.style[S]="translate"+c+"("+s*(100-100*h)+"%) scale("+(.2*(1-Math.abs(h&&s))+.8)+")"+i,r&&(r.style[S]="translate"+c+"(0%) scale(1)"+i)},100)}})});var Z=0;e.prototype={version:v,constructor:e,latestTime:0,init:function(t){var e=this,i=this.handler=function(t){var i=!1;if(""!=e.filterCla)for(var n,s=t.srcElement,r=e.filterCla,a=0;s.parentNode&&3>a;){if(n=s.parentNode.className,n&&-1!=n.indexOf(r)){i=!0;break}a++,s=s.parentNode}!i&&!e.frozen&&e.handleEvent(t)};this.events={},this.duration=isNaN(parseInt(t.duration))?600:parseInt(t.duration),this.direction=0==parseInt(t.direction)?0:1,this.directionFlag=0,this.current=parseInt(t.start)||0,this.loop=!!t.loop,this.mouse=null==t.mouse?!0:!!t.mouse,this.mousewheel=!!t.mousewheel,this.interval=parseInt(t.interval)||5e3,this.playing=!!t.autoplay,this.arrowkey=!!t.arrowkey,this.frozen=!!t.freeze,this.pages=d(this.container),this.length=this.pages.length,this._mouseLock=!1,this._isDestroy=!1,this.isSlideing=!1,this.pageData=[],this.filterCla=t.filterCla||"",p(this.container,M.join(" ")+" click"+(this.mousewheel?" mousewheel DOMMouseScroll":""),i),p(_,j.join(" ")+(this.arrowkey?" keydown":""),i),h(this.pages,function(t){e.pageData.push({percent:0,cssText:t.style.cssText||""}),e.initStyle(t)
}),this.pages[this.current]&&(this.pages[this.current].style.display="block"),this.on({before:function(){clearTimeout(this.playTimer)},dragStart:function(){clearTimeout(this.playTimer),f()},after:this.firePlay,update:null}).firePlay(),this.setEase(t.ease),this.setTransition(t.transition)},initStyle:function(t){var e,i=t.style;return h("position:absolute;top:0;left:0;width:100%;height:100%;display:none".split(";"),function(t){e=t.split(":"),i[e[0]]=e[1]}),t},mouseLock:{get:function(){return this._mouseLock},set:function(t){this._mouseLock=t}},setEase:function(t){return this.ease=o(t)?t:N[t]||N.ease,this},addEase:function(t,e){return o(e)&&(N[t]=e),this},setTransition:function(t){return this.events.update.splice(0,1,o(t)?t:z[t]||z.slide),this},addTransition:function(t,e){return o(e)&&(z[t]=e),this},isStatic:function(){return!this.timer&&!this.drag},resetContainerStyle:function(){},on:function(t,e){var i=this;return"object"==n(t)?h(t,function(t,e){i.on(t,e)}):(this.events[t]||(this.events[t]=[]),this.events[t].push(e)),this},fire:function(t){var e=this,i=P.call(arguments,1);return h(this.events[t]||[],function(t){o(t)&&t.apply(e,i)}),this},freeze:function(t){return this.frozen=null==t?!0:!!t,this},stopAnimat:function(){},startAnimat:function(){},slide:function(t,e){if(!this.isSlideing){this.isSlideing=!0,this.resetContainerStyle();var i=this,n=(this.direction,this.directionFlag),s=this.duration,r=(+new Date,this.ease,this.current),a=Math.min(this.length-1,Math.max(0,this.fixIndex(t))),o=this.pages[r],l=this.getPercent(),c=this.fixIndex(a==r?r+(l>0?-1:1):a),h=this.pages[c];return this.fixBlock(r,c),this.fire("before",r,a),this.current=a,a==r?(n=0,h&&(h.style.display="none"),delete i.timer,i.isTransing=!1,i.isSlideing=!1,i.fire("after",a,r)):(2==i.length||a-r!=1&&(a||r+1!=i.length)?2!=i.length&&(n=1):n=-1,e&&(n=e),this.events.update[0].call(this,o,n,h,0,s,function(){i.isTransing=!1,i.isSlideing=!1,i.fire("after",a,r),o.style.display="none"})),this}},prev:function(){return this.slide(this.current-1)},next:function(){return this.slide(this.current+1)},play:function(){return this.playing=!0,this.firePlay()},firePlay:function(){Z++;var t=this;if(this.playing){if(!t.loop&&t.current==t.pages.length-1)return;if(this._isDestroy)return;this.playTimer=setTimeout(function(){t.slide((t.current+1)%(t.loop?1/0:t.length))},this.interval)}return this},setInterval:function(t){window.clearInterval(this.playTimer),this.interval=t,this.firePlay()},pause:function(){return this.playing=!1,clearTimeout(this.playTimer),this},fixIndex:function(t){return this.length>1&&this.loop?(this.length+t)%this.length:t},fixBlock:function(t,e){return h(this.pages,function(i,n){i.style.display=t!=n&&e!=n?"none":"block"}),this},fixUpdate:function(t,e,i){var n,s=this.pageData,r=this.pages[e],a=this.pages[i];return s[e].percent=t,a&&(n=s[i].percent=t>0?t-1:1+t),this.fire("update",r,t,a,n)},getPercent:function(t){var e=this.pageData[null==t?this.current:t];return e&&(e.percent||0)},getOffsetParent:function(){var t=u(this.container,"position");return t&&"static"!=t?this.container:this.container.offsetParent||_.body},checkMouseDown:function(t){return"touchstart"==t.type||"mousedown"==t.type},handleEvent:function(t){var e=1008;if("touchmove"==t.type||"mousemove"==t.type){var i=this.pages[this.current],n=i.querySelector(".magazine-page-container");if(n){var s=parseInt(n.getAttribute("data-height"));if(s>1008&&this.rect){var r,a,o=t;"touchmove"==t.type&&(o=t.changedTouches[0]),r=o.clientX,a=o.clientY;var l=this.rect,c=a,d=c-l[1],u=i.scrollTop;if(d>0){if(0!=u)return void(this.rect=[r,a]);t.preventDefault()}else if(0>d){if(u!=s-e)return void(this.rect=[r,a]);setTimeout(function(){i&&$(i).scrollTop(0)},800),t.preventDefault()}}}}this.isDown=!0;var p=g(t),m=p.button<1&&p.length<2&&(!this.pointerType||this.pointerType==p.eventType)&&(this.mouse||"mouse"!=p.pointerType);switch("touchmove"==p.type&&p.preventDefault(),p.eventCode){case 2:if(m&&this.rect&&!this.isTransing){{var f,v,y=this.current,_=this.direction,A=[p.clientX,p.clientY],w=this.rect,x=A[_]-w[_];this.pages[y],this.offsetParent[_?"clientHeight":"clientWidth"]}if(null==this.drag&&w.toString()!=A.toString()){if(this.mouseLock&&this.isTransing)return;this.resetContainerStyle();var T=A[1-_]-w[1-_];Math.abs(x)>20&&(this.drag=Math.abs(x)>=Math.abs(T)),this.directionFlag=0,this.drag&&(this.isTransing=!0,this.directionFlag=x>0?1:-1,this.fire("dragStart",p),f=this.fixIndex(y-this.directionFlag),this.slide(f))}this.drag&&!this.isTransing&&p.preventDefault()}break;case 1:case 3:if(m){var S,x,E,C,D=this,v=(this.current,this.getPercent());!p.length||1!=p.eventCode&&!this.drag||this.isTransing?(E=this.time)&&(x=this._offset,S=this.drag,h("rect drag time percent _offset offsetParent".split(" "),function(t){delete D[t]}),C=p.target.nodeName.toLowerCase(),"a"!=C&&"input"!=C&&"label"!=C&&"textarea"!=C&&p.preventDefault(),this.eventTimer=setTimeout(function(){delete D.pointerType},400)):(C=p.target.nodeName.toLowerCase(),clearTimeout(this.eventTimer),this.pointerType||(this.pointerType=p.eventType),this.timer&&(b(this.timer),delete this.timer),this.rect=[p.clientX,p.clientY],this.percent=v,this.time=+new Date,this.offsetParent=this.getOffsetParent(),"touch"!=p.eventType&&"img"==C&&p.preventDefault(),"a"!=C&&"input"!=C&&"label"!=C&&"textarea"!=C&&"touch"!=p.eventType&&"img"==C&&p.preventDefault())}break;case 4:this.timer&&p.preventDefault();break;case 5:if(p.preventDefault(),this.isStatic()&&+new Date-this.latestTime>Math.max(1e3-this.duration,0)){var P=p.wheelDelta||-p.detail;Math.abs(P)>=3&&this[P>0?"prev":"next"]()}break;case 6:var C=p.target.nodeName.toLowerCase();if(this.isStatic()&&"input"!=C&&"textarea"!=C&&"select"!=C)switch(p.keyCode||p.which){case 33:case 37:case 38:this.prev();break;case 32:case 34:case 39:case 40:this.next();break;case 35:this.slide(this.length-1);break;case 36:this.slide(0)}}},destroy:function(){var t=this.pageData;return this._isDestroy=!0,m(this.container,M.join(" ")+" click"+(this.mousewheel?" mousewheel DOMMouseScroll":""),this.handler),m(_,j.join(" ")+(this.arrowkey?" keydown":""),this.handler),h(this.pages,function(e,i){e.style.cssText=t[i].cssText}),this.length=0,this.pause()},append:function(t,e){return(null==e||e===i)&&(e=this.pages.length),this.pageData.splice(e,0,{percent:0,cssText:t.style.cssText}),this.pages.splice(e,0,t),this.container.appendChild(this.initStyle(t)),this.length=this.pages.length,e<=this.current&&this.current++,this},prepend:function(t){return this.append(t,0)},insertBefore:function(t,e){return this.append(t,e-1)},insertAfter:function(t,e){return this.append(t,e+1)},remove:function(t){return this.container.removeChild(this.pages[t]),this.pages.splice(t,1),this.pageData.splice(t,1),this.length=this.pages.length,t<=this.current&&this.slide(this.current=Math.max(0,this.current-1)),this}},h("Ease Transition".split(" "),function(t){e["add"+t]=e.prototype["add"+t]}),t.pageSwitch=e}(window,function(t,e){this.container="string"==typeof t?document.getElementById(t):t,this.init(e||{})}),window.Zepto&&!function(t,e){function i(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function n(t){return s?s+t:t.toLowerCase()}var s,r,a,o,l,c,h,d,u,p,m="",f={Webkit:"webkit",Moz:"",O:"o"},g=document.createElement("div"),v=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(f,function(t,i){return g.style[t+"TransitionProperty"]!==e?(m="-"+t.toLowerCase()+"-",s=i,!1):void 0}),r=m+"transform",y[a=m+"transition-property"]=y[o=m+"transition-duration"]=y[c=m+"transition-delay"]=y[l=m+"transition-timing-function"]=y[h=m+"animation-name"]=y[d=m+"animation-duration"]=y[p=m+"animation-delay"]=y[u=m+"animation-timing-function"]="",t.fx={off:s===e&&g.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:m,transitionEnd:n("TransitionEnd"),animationEnd:n("AnimationEnd")},t.fn.animate=function(i,n,s,r,a){return t.isFunction(n)&&(r=n,s=e,n=e),t.isFunction(s)&&(r=s,s=e),t.isPlainObject(n)&&(s=n.easing,r=n.complete,a=n.delay,n=n.duration),n&&(n=("number"==typeof n?n:t.fx.speeds[n]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(i,n,s,r,a)},t.fn.anim=function(n,s,m,f,g){var b,_,A,w={},x="",T=this,S=t.fx.transitionEnd,E=!1;if(s===e&&(s=t.fx.speeds._default/1e3),g===e&&(g=0),t.fx.off&&(s=0),"string"==typeof n)w[h]=n,w[d]=s+"s",w[p]=g+"s",w[u]=m||"linear",S=t.fx.animationEnd;else{_=[];for(b in n)v.test(b)?x+=b+"("+n[b]+") ":(w[b]=n[b],_.push(i(b)));x&&(w[r]=x,_.push(r)),s>0&&"object"==typeof n&&(w[a]=_.join(", "),w[o]=s+"s",w[c]=g+"s",w[l]=m||"linear")}return A=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(S,A)}else t(this).unbind(S,A);E=!0,t(this).css(y),f&&f.call(this)},s>0&&(this.bind(S,A),setTimeout(function(){E||A.call(T)},1e3*(s+g)+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=s&&setTimeout(function(){T.each(function(){A.call(this)})},0),this},g=null}(Zepto),(window.jQuery||window.Zepto)&&!function(t){t.fn.Swipe=function(e){return this.each(function(){t(this).data("Swipe",new Swipe(t(this)[0],e))})}}(window.jQuery||window.Zepto),!function(){var t={};t.VERSION=1,t.inherit=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},t.id=0|998*Math.random(),t.getNewID=function(){return t.id++},t.createEvent=function(e,i){var n=new t.Event(e);return n.target=i,n},t.getRangeRandom=function(t,e){return Math.floor(t+Math.random()*(e-t))},t.isFunction=function(t){return"function"==typeof t},t.isString=function(t){return"string"==typeof t},t.getRandomPosition=function(t){var e={},i=t.width-83-170,n=t.height-192-35;return e.x=i*Math.random()+35,e.y=n*Math.random()+90,e},window.cm=t}(),window.cm=window.cm||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.realTarget=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},window.cm.Event=t}(),window.cm=window.cm||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[t];return s&&this.removeEventListener(t,e,i),s=n[t],s?s.push(e):n[t]=[e],e},e.on=function(t,e,i,n,s,r){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,s),n&&t.remove()},r)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[t];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==e){1==a?delete n[t]:s.splice(r,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t){if("string"==typeof t){var e=this._listeners;if(!e||!e[t])return!1;t=new window.cm.Event(t)}else t.realTarget&&t.clone&&(t=t.clone());try{t.realTarget=this}catch(i){}if(t.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!t.propagationStopped;r--)s[r]._dispatchEvent(t,1+(0==r));for(r=1;a>r&&!t.propagationStopped;r++)s[r]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n=1==e?this._captureListeners:this._listeners;if(t&&n){var s=n[t.type];if(!s||!(i=s.length))return;try{t.currentTarget=this}catch(r){}try{t.eventPhase=e}catch(r){}t.removed=!1,s=s.slice();for(var a=0;i>a&&!t.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},window.cm.EventDispatcher=t}(),function(t){var e=function(){t.EventDispatcher.call(this)};t.inherit(e,t.EventDispatcher),t.BaseView=e}(cm),function(t){t.objectPoolFactory=function(t){return{objectPool:[],create:function(){var e=this.objectPool,i=0===e.length?t.apply(this,arguments):e.shift();return i},recover:function(t){this.objectPool.push(t)}}}}(cm),function(t){t.barrageFadeAnimation=function(t,e){var i=this._showMessagePool;if(e)for(var n=i.length-1;n>=0;n--){var s=i[n].$dom;s.off("webkitAnimationEnd animationEnd"),s.removeClass("comment-msg-fade")}else if(i.length>=this._showCount){var r=i[0];r.$dom.removeClass("comment-msg-show"),r.$dom.on("webkitAnimationEnd animationEnd",function(){r.$dom.off("webkitAnimationEnd animationEnd"),r.dispatchEvent("message:animation:end")}),r.$dom.addClass("comment-msg-fade")}},t.barrageMoveAnimation=function(){this._showMessagePool,this.$dom.off("webkitAnimationEnd animationEnd")}}(cm),cm.Const={defaultUserPic:"http://ac-hf3jpeco.clouddn.com/8c665e1f11f2fbe1c59d"},function(){var t=[];if(t.push("@-webkit-keyframes comment-msg-fade-frame {0%{opacity:1}88%{opacity:1}100%{opacity:0}}"),t.push("@keyframes comment-msg-fade-frame {0%{opacity:1}88%{opacity:1}100%{opacity:0}}"),t.push("@-webkit-keyframes comment-msg-show-frame {0%{opacity:0}100%{opacity:1}}"),t.push("@keyframes comment-msg-show-frame {0%{opacity:0}100%{opacity:1}}"),t.push(".comment-msg-fade{-webkit-animation-name: comment-msg-fade-frame;animation-name: comment-msg-fade-frame; -webkit-animation-duration: 2s;animation-duration: 2s;-webkit-animation-fill-mode: both;animation-fill-mode: both;}"),t.push(".comment-msg-show{-webkit-animation-name: comment-msg-move-frame;animation-name: comment-msg-move-frame; -webkit-animation-duration:5s;animation-duration: 5s;animation-iteration-count:1;-webkit-animation-iteration-count:1;animation-timing-function:cubic-bezier(.55,.77,.49,.01);-webkit-animation-timing-function:cubic-bezier(.55,.77,.49,.01);-webkit-animation-fill-mode: both;animation-fill-mode: both;}"),t.push("@-webkit-keyframes comment-msg-move-frame{0%{-webkit-transform: translate3d(200%, 0, 0); }100%{-webkit-transform: translate3d(-200%, 0, 0);}}"),t.push(".animation-paused{animation-play-state:paused;-webkit-animation-play-state:paused;}"),t.push(".animation-run{animation-play-state:running;-webkit-animation-play-state:running;}"),!document.getElementById("style-comment-animation")){var e=document.createElement("style");e.type="text/css",e.id="style-comment-animation",e.innerHTML=t.join(""),document.head.appendChild(e)}}(),function(){var t=[];if(t.push(".comment-message{position: absolute;width: 60%;height: auto;white-space: nowrap;font-size: 0;color: #fff;pointer-events: auto;}"),t.push(".comment-message-photo{width: 70px;height: 70px;border: 2px solid rgba(0,0,0,.2);border-radius: 50%; overflow:hidden;}"),t.push(".comment-message-photo img{width: 100%;height: 100%;}"),t.push(".comment-message-content{max-width: -webkit-calc(100% - 80px);max-width: calc(100% - 80px);text-align: justify;white-space: pre-line;padding: 15px 20px;min-height: 70px;font-size: 26px;white-space:normal;word-wrap:break-word;border-radius: 40px;background-color: rgba(0,0,0,0.5);box-sizing: border-box;}"),t.push(".comment-message-left .comment-message-photo{float:left; margin-right:8px;}"),t.push(".comment-message-left .comment-message-content{float:left; }"),t.push(".comment-message-right .comment-message-photo{float:right; margin-left:8px;}"),t.push(".comment-message-right .comment-message-content{float:right; }"),t.push(".comment-reply-container{position:fixed;width:100%;height:90px;left:0;bottom:0;background:#f2f2f2;z-index:100005;}"),t.push(".comment-reply-txt{position:relative;display:table;width:100%;height:100%;text-align:center;font-size:18px;}"),t.push(".comment-reply-container .comment-reply-txt .comment-table-cell:nth-child(1){width:15%;display:none}"),t.push(".comment-reply-container .comment-reply-txt .comment-table-cell:nth-child(2){padding-left:15px;}"),t.push(".comment-reply-container .comment-reply-txt .comment-table-cell:nth-child(3){color:#666;}"),t.push(".comment-reply-container .comment-reply-txt .comment-table-cell{vertical-align:middle;}"),t.push(".comment-table-cell{height:100%;font-size:26px;color:#FFF;display:table-cell;}"),t.push(".comment-reply-container .comment-reply-txt .comment-reply-input{display:inline-block;width:100%;height:60px;padding:10px 10px;word-break:break-all;word-wrap:break-word;border:1px solid #ccc;text-align:left;border-radius:10px;color:#000;font-size:24px;box-sizing:border-box;}"),t.push(".comment-reply-container .comment-reply-txt .comment-sent-btn{display: inline-block;height: 100%;width: 50px;background-color: transparent;}"),t.push(".comment-reply-container .comment-reply-txt .cno-send-btn{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABpFBMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkAAAA7MdpSAAAAinRSTlMAFlePt9jt+BNxy/4ZjfT8xoRVLRQHK1OBxPv1kxoEdfPadxJszwUlzttbAwFLKk/xgAgCbVBm3jRpvRGqTrScKQao0N0QCsz3MiHydn6UlfZYCUZw19VzrBVlq/rJjIWpjqe2kDVJpTmao5JNofmfluyemJ2Cm1wXl3JrJCauUc16exvDfxy42e5G1hkjAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAArJJREFUSMeNlglX00AQxwdSjrZqBdMWUCBYekAKhhZQEJSKEKUKreCFVcEL8RZRUTxQUeD/qZ2GHmmao/Nem53Z3+zLbuZYIqPU1QuuhsampsYGl1BfRw7S7PZ4oROvx91sgx85egzwHW9pPSH6/WIg2NbeAZw81WmBd3VLQM/piulQbxiQuiNmfDQG9PXLRnN8gO3hwWr+jIKmoYTZSslhBdKI0Trqw9lzVnuLhuEbrTSNAePnrU8jMQGM6Q2TPlzw2x23fBG+ybI6JWE8RbYiX4I0VVQi07g8Qw4yq2K6eLrduHLViSeaS+Pa4ahTwnVnnqgX0uFHnUeDvxYHWcVC/ilmkLXj4oM3CqNFZER+LOFm0oZPTeBWV2EcwxL/q7htw0fucIzfLSjL8HC+eH02WdJ1j5OipajN5LydlMV9m31ySOBBWW9HPwl4aM2vML+qM7RBIBdaLflHzAt6SxCPqQ8BO/5JXG8KoI/SKIX102f6WXmtiicRaQKK2nMv1svz8gvmX1bylGK67PCKiZKH/Jq1eQPPDm90rxR/W/aQ8+N3Rp5f6b1+03LJI7nBow9VvLZpF4Jk9Ihv6t/OcKwCPpLBI5nnP5nw2ofLop0MHj38u2jGc2h8pi1vbsboAWya8lrwcXgvk9FjwzxDlqFSPoFiFVb5S25dNuU5gb6SlqKLVJMUUpQWoMq18LLnsAjky8x2LQ7bxTLDhUz55szPKcVCRpEYYrNOfMKDWKkRRRWsOWyDsyP9vaxyud+09TCUe62h/EhY84kVQ0PRWlY4asWbtCyiEQXKsGlEJLe5Kf40WYbb685AtX1gB5geNFsp9SvDHbk3pLdpjT3z26qf/Vnlq0PH7lAwEEqlQoHg39381WH+n83xiW618nKiukVykK2ssLd/kMsd7O8J2a2q6f8PCsjdTvE4ewAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wOC0yMVQxNTozOToyMiswODowMLfclckAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDgtMjFUMTU6Mzk6MjIrMDg6MDDGgS11AAAAAElFTkSuQmCC') center center no-repeat;}"),t.push(".comment-reply-container .comment-reply-txt .cyes-send-btn{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABRFBMVEUAAAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAD/zAH/1Cr/zgn/zQb/7qr/////99X/zQT/zQX/7qz///7/0BX/7qv/5oT/zQP/6Iz/7qn/6I7/7af/6Y//6ZD/1zX/20n/7aX/1zn/65r/7aP/6ZL/203/7KH/6pT/7J//6pb/zAL/7J7/6pj/653/65v/+Nr/65z/6pf//voAAABbdXPBAAAAQHRSTlMAFlePt9jt+BNxy/4ZjfT1kxoEdfMFJc7PKk/xUGb8aU4p0HaUlRT2cMxYW7bb8vnsXBdyJlEGensbjhy42e76B63O0wAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAHZSURBVEjHnZYHU8IwFMefFFGoCwFxMBQFBBUVtyI8HHFb9564/f4fwABHm7ZpWvzf5S4v+f3vsl8AjGpxSe5WT1ubp9UtuVrARu1en4yMZJ+3XYB3dHahSd09fgu8NxBEroKBEI/vC6Ol+gfM/OAQChSMGPloDIWKRfV8HG0VZ/nhmL0hNqzxI0F7ns5jpMGHEk54xERjdQPOeMTROu93NKDaoOp7PuaUR0xW+VRaDJU3NtV6OkUN42J+a5vs7KrRODVkhPzePiEHh2roo/dFFvG7R4SQYy2W/ZAV8co25U/YlgmQRPwp5c90TRK4Bfw55S/0bZMwJeYvy/rGKchpwdU126vccHjMgVa/PSB3Wr9yT/kHI4/IGB4poTqUJxo9m/lpZkjlF82hVOuvZh5n2EkrqqPyRmvvHJ5Oml3WhqP8wY7OsKy6jas7KlX+k8vTjdMfjZrji5ZvPo+zkJfNDkI+LHh6+IzHu+Z4q/B5zHAukPLze6dY8Djn4Iqyql1RSDo3JP/3zDT9kEEo7IwPq4mob8gJn5v//3PffEJpPmUBRMRJcaG5tJvgpF2AxSWLQ5JeXrT4C6ys8r4OY2tgrZQ3o/+cZLwpsFE+KxXWi6VScb0gZfOm7j9/FMZAyfJwSgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wOC0yMVQxNTozOToyMyswODowMBGrnn0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDgtMjFUMTU6Mzk6MjMrMDg6MDBg9ibBAAAAAElFTkSuQmCC') center center no-repeat;}"),t.push(".comment-mask-parent{position:absolute;left:0;top:0;width:100%;height:100%;z-index:100002;background:rgba(0,0,0,0.5);overflow:hidden;}"),t.push(".comment-ocbalert{width:100%;height:88px;background:#000;position:absolute;left:0;bottom:0;}"),t.push(".ocbalert-ok,.ocbalert-cancel{font-size:28px;color:#ffffff;width:50%;height:100%;display:inline-block;text-align:center;line-height:88px;}"),t.push(".comment-barrage-container{position:absolute;pointer-events: none;width:100%;height:100%;overflow:hidden;}"),!document.getElementById("style-comment")){var e=document.createElement("style");e.type="text/css",e.id="style-comment",e.innerHTML=t.join(""),document.head.appendChild(e)}t.length=0,t=null}(),function(t){var e=t.objectPoolFactory(function(){var i=new t.Comment;return i.onDestroy=function(){e.recover(i)},i});t.commentFactory=e}(cm),function(t){var e=t.objectPoolFactory(function(){var i=new t.MessageView;return i.onHide=function(){e.recover(i)},i});t.messageFactory=e}(cm),function(t){var e={};e.getCommentList=function(t,e,i){var n=t.commentType||1,s=t.tplPageId,r=t.orderBy||"createdAt",a=void 0===t.isDesc?!0:t.isDesc,o=t.pageSize,l=t.pageNumber,c=0,h=l;if(0!=o&&(c=o*l),!s)return void i();var d=" select include comment_uid_pointer.user_nick,comment_uid_pointer.user_pic,comment_content,comment_uid from me_comment where  comment_state=0 and comment_display=0 ";0==n?d+=" and  belong_tpl='"+s+"'":1==n?d+=" and  belong_tplpage='"+s+"'":2==n&&(d+=" and  belong_comment='"+s+"'"),d+=a?" order by "+r+" desc ":" order by "+r+" asc ",c>=0&&h>0&&(d+=" limit "+c+","+h),fmacloud.Query.doCloudQuery(d,{success:function(t){e(t)},error:function(t){i(t)}})},e.replyComment=function(t,e,i){var n=this.getCurrentUser();if(n){t.comment_uid=n.id,t.data_site=t.data_site||0;var s=this;sns_data.snsSaveComment(t,function(i){s._opCommentCount(t.comment_id,1),e&&e(i)},function(t){i&&i(t),console.log("评论失败,错误信息",t)})}};var i={};e.getPraiseCount=function(t,e){return i[t]?void e(i[t]):void sns_data.getSnsLikeCount(t,function(n){i[t]=n,e(n)},function(){e(0)})},e._opPraiseCount=function(t,e){i[t]&&(i[t]=i[t]+e)};var n={};e.getCommentCount=function(t,e,i){return n[e]?void i(n[e]):void sns_data.getSnsCommentCountByCid(t,e,function(t){n[e]=t,i(t)},function(){i(0)})},e._opCommentCount=function(t,e){n[t]&&(n[t]=n[t]+e)};var s={};e.getCurrentUserPraises=function(t,e){var i=this.getCurrentUser(),n=i.id+"-"+t;return s[n]?void e(s[n]):void sns_data.getSnsLike(i.id,t,"","","","",function(t){s[n]=t,e(t)},function(){e([])})},e.getPraiseStatus=function(t,e){this.getCurrentUserPraises(t,function(i){for(var n=!1,s=0;s<i.length;s++){var r=i[s];if(r.get("like_tplid")==t){n=!0;break}}e(n)})},e._deletePraiseStatus=function(t){var e=this.getCurrentUser(),i=e.id+"-"+t;if(s[i])for(var n=s[i],r=n.length-1;r>=0;r--){var a=n[r];a.get("like_tplid")==t&&n.splice(r,1)}},e._addPraiseStatus=function(t,e){var i=this.getCurrentUser(),n=i.id+"-"+t;s[n]&&s[n].push(e)},e.praise=function(t,e,i){var n="cancerlike",s=this;this.getPraiseStatus(t.id,function(r){n=r?"cancerlike":"like";var a={like_opration:n,like_type:t.tplType,like_tplid:t.id,belong_tpl:t.tplId,belong_tplpage:t.pageid,belong_comment:t.commentUid,data_site:t.dataSite};sns_data.snsSaveLike(a,function(i){"cancerlike"==n?(s._deletePraiseStatus(t.id),s._opPraiseCount(t.id,-1)):(s._addPraiseStatus(t.id,i),s._opPraiseCount(t.id,1)),e(n,i)},function(){i&&i()})})},e.msgPush=function(t,e,i){sns_data.msgAdd(t,function(t){e(t)},function(){i&&i()})},e.getCurrentUser=function(){return sns_data.getCurrentUser()},t.commentModel=e}(cm),function(t){function e(){return 1e3}var i=function(e){t.EventDispatcher.call(this),this.comment=e,this._showCount=5;var i=this.dom=this.comment.barrageContainer;this.$dom=$(this.dom),this._isShow=!1,this._currentIndex=0,this._commentIndex=0,this._tempCommentIndex=0,this._commentDataList=[],this._isDataLoading=!1,this._showMessagePool=[],this._loadOver=!1,this._timer=null,this._paused=!1,this.$dom.css({zIndex:1e5,width:i.style.width,height:i.style.height})};t.inherit(i,t.EventDispatcher);var n=i.prototype;n.show=function(){this._isShow||(this.start(),this._addEvent(),this._isShow=!0,this.$dom.show(),this.createMessage())},n._getCommentData=function(e){var i=this._commentDataList,n=this.commentIndex,s=e,r=this._commentDataList,a=this;if(this._loadOver)this._commentDataList.length>=1&&(this._tempCommentIndex>this._commentDataList.length-1&&(this._tempCommentIndex=0),e(this._commentDataList[this._tempCommentIndex]),this._tempCommentIndex++);else if(i.length-1-n<5){if(n<=i.length-1&&(s(i[n]),this.commentIndex++,s=null),!this._isDataLoading){this._isDataLoading=!0;var o=this._currentIndex;t.commentModel.getCommentList({pageNumber:o,pageSize:1e3,tplPageId:this.comment.pageTplId},function(t){t.results.length>0?(a._commentDataList=i.concat(t.results),s&&a._commentDataList&&a._commentDataList.length>0&&(s(a._commentDataList[n]),a.commentIndex++)):a._loadOver=!0,a._loadOver=!0,a._isDataLoading=!1,s=null},function(){a._isDataLoading=!1})}}else s(r[n]),this.commentIndex++},Object.defineProperty(n,"commentIndex",{get:function(){return this._commentIndex},set:function(t){this._commentIndex=t,this._tempCommentIndex=t}}),n.hide=function(){this._isShow&&(this._isShow=!1,this._removeEvent(),this.$dom.hide())},n._addEvent=function(){var t=this;this.$dom.on("tap",function(e){e.preventDefault(),e.stopPropagation(),t._checkClickMsg(e)})},n._checkClickMsg=function(e){var i=this.comment;if(!i.lockBarrageEvent){for(var n,s=e.target,r=this._showMessagePool,a=r.length-1;a>=0&&(n=r[a],n.dom!==s&&!n.$dom.find(s)[0]);a--)n=null;var o=t.createEvent("barrage:click",s),l=null;n?(l=n.getMessageData(),o.target=n.dom,i.selectedTarget=n.dom):i.selectedTarget=s,o.data=l,i.selectedData=l,i.dispatchEvent(o)}},n._removeEvent=function(){this.$dom.off("tap")},n.createMessage=function(){if(!this._paused){var t=this,i=this._showCount;this._showMessagePool.length<i&&this._getCommentData(function(i){if(t._commentDataList.length>t._showMessagePool.length){var n=t._createMessageByData(i);n.show(),setTimeout(function(){t.createMessage()},e())}})}},n.createTempMessage=function(e){var i=t.messageFactory.create();i.init2(e.content,this),i.tempShow();var n=e.replyTarget;i.selected=!0;var s=this,r=this.comment;t.OCBAlert.show(function(){var t=r.replyView,a="",o=t.commentDraft;if(a=n?n.objectId:r.pageTplId,o[a]="",window.dms){var l=dms.createEvent("comment:open:handle",this.okButton);dms.dispatcher.dispatchEvent(l)}s._sendMsgToServer(i,e.content,n),r.lockBarrageEvent=!1,i.$dom.remove()},function(){if(window.dms&&!r.isShowBarrage){var e=dms.createEvent("comment:close:handle",this.cancelButton);dms.dispatcher.dispatchEvent(e)}i.hide(),r.lockBarrageEvent=!1;var e=t.createEvent("reply:error");r.dispatchEvent(e)})},n._sendMsgToServer=function(e,i,n){var s,r={},a=this._createContent(e,i,n),o=this.comment;n?(r.comment_id=n.objectId,r.belong_comment=n.objectId,s=n.comment_uid):(r.comment_id=o.pageTplId,r.belong_comment="",s=o.tplUserId),r.comment_type=n?2:o.tplType,r.comment_content=JSON.stringify(a),r.data_site=o.dateSite,r.belong_tpl=o.tplId,r.belong_tplpage=o.pageTplId;var l=t.commentModel.getCurrentUser(),c=this;t.commentModel.replyComment(r,function(n){var h=c._createData(n.objectId,JSON.stringify(a));if(e.hide(),e=c._createMessageByData(h),e.show(!0),setTimeout(function(){c._commentDataList.push(h)},2e3),s&&s!=l.id){var d=o.tplShareImage;d=d.replace(/^(AV:)/g,"");var u=o.tplUserId,p={tpl_id:o.tplId,pageid:o.pageTplId,tpl_user:o.tplUserId,effecturl:d},m={content:i},f={msg_recid:u,msg_type:2,tpl_name:o.tpl_name,msg_obj:JSON.stringify(p),mt_content:JSON.stringify(m)};sns_data.msgAdd(f,function(){if(o._selectedData){console.log(o._selectedData);var t=o._selectedData.comment_uid_pointer.user_nick,e=JSON.parse(r.comment_content);e=e.content;var n={content:i,old_content:e,uname:t,old_userId:o._selectedData.comment_uid};f.mt_content=JSON.stringify(n),sns_data.msgAdd(f,function(){},function(){})}},function(t){console.log(t)})}var g=t.createEvent("reply:success");o.dispatchEvent(g)},function(){})},n._createData=function(e,i){var n=t.commentModel.getCurrentUser(),s={};return s.comment_content=i,s.comment_uid_pointer={user_nick:n.get("user_nick"),user_pic:n.get("user_pic")||t.Const.defaultUserPic},s.objectId=e,s.comment_uid=n.id,s},n._createContent=function(t,e,i){var n={},s=this.comment.tplShareImage;if(s=s.replace(/^(AV:)/g,""),i){var r=JSON.parse(i.comment_content);n.uid=i.comment_uid,n.uname=i.comment_uid_pointer.user_nick,n.old_content=r.content}n.content=e,n.tpl_effect=s;var a=this.dom,o=a.clientWidth,l=t.$dom.css("left"),c=t.$dom.css("top"),h=!1;return parseInt(l)>o/2&&(h=!0),n.imgPos=h,n.x=l,n.y=c,n},n._createMessageByData=function(e){var i,n=t.messageFactory.create();return e.toJSON?(i=e.toJSON(),e.get("comment_uid_pointer")&&(i.comment_uid_pointer.user_nick=e.get("comment_uid_pointer").get("user_nick"),i.comment_uid_pointer.user_pic=e.get("comment_uid_pointer").get("user_pic"))):i=e,n.init(i,this),n},n.removeMessage=function(t){t.dom.parentNode&&t.dom.parentNode.removeChild(t.dom),this._removeMsgFormPool(t);var i=this;this._isShow&&setTimeout(function(){i.createMessage()},e())},n.showTempMessage=function(t){this.dom.appendChild(t.dom)},n._removeMsgFormPool=function(t){var e;(e=this._showMessagePool.indexOf(t))>=0&&this._showMessagePool.splice(e,1)},n.addMessage=function(t){t.dom.parentNode!=this.dom&&(t.dom.parentNode&&t.dom.parentNode.removeChild(this.dom),this.dom.appendChild(t.dom)),this._showMessagePool.push(t),this._paused||t.play()},n.paused=function(){if(!this._paused){this._paused=!0;for(var t=0;t<this._showMessagePool.length;t++)this._showMessagePool[t].stop&&this._showMessagePool[t].stop()}},n.start=function(){if(this._paused){this._paused=!1,this.createMessage();for(var t=0;t<this._showMessagePool.length;t++)this._showMessagePool[t].start&&this._showMessagePool[t].start()}},n.clear=function(){this.commentIndex=0,this._currentIndex=0,this._commentDataList=[],this._isDataLoading=!1,this.hide();for(var t;this._showMessagePool.length>0;)t=this._showMessagePool.shift(),t.hide(),t.clear();this._showMessagePool=[],this._loadOver=!1,this._timer&&(window.clearTimeout(this._timer),this._timer=null),this._paused=!0,this.comment.barrageContainer.innerHTML=""},t.BarrageView=i}(cm),function(t){var e=function(){t.EventDispatcher.call(this),this.barrageContainer=document.createElement("div"),this.barrageContainer.className="comment-barrage-container",this._lockBarrageEvent=!1,this.barrageView=null,this.replyView=null,this.isShowBarrage=!0,this._selectedTarget=null,this._selectedData=null,this._lockPraise=!1
};t.inherit(e,t.EventDispatcher);var i=e.prototype;i.init=function(t){t=t||{},this.tplId=t.tplId,this.tpl_name=t.tplName,this.pageTplId=t.pageTplId,this.tplUserId=t.tplUserId,this.tplShareImage=t.tplShareImage,this.tplType=t.tplType||0,this.dataSite=t.dataSite||0},Object.defineProperty(i,"lockBarrageEvent",{get:function(){return this._lockBarrageEvent},set:function(t){this._lockBarrageEvent=t}}),i._initEvent=function(){},i.openBarrage=function(){this.barrageView||(this.barrageView=new t.BarrageView(this)),this.isShowBarrage=!0,this.barrageView.show()},i.closeBarrage=function(){this.barrageView&&(this.isShowBarrage=!1,this.barrageView.hide())},i._createReplyFn=function(t){var e={replyTarget:t.replyTarget,content:t.replyText};this.lockBarrageEvent=!0;var i=this.isShowBarrage;this.openBarrage(),this.isShowBarrage=i,this.barrageView.createTempMessage(e)},i.showReply=function(e){this.replyView||(this.replyView=new t.ReplyView(this)),this.replyView.removeAllEventListeners("create:reply"),this.replyView.on("create:reply",this._createReplyFn,this),this.replyView.show(e),this.replyView.$inputText.focus()},i.hideReply=function(){this.replyView&&(this.replyView.removeAllEventListeners("create:reply"),this.replyView.hide())},i.recover=function(){this.lockBarrageEvent=!1,this.selectedObject=null,this.selectedTarget=null,this.hideReply(),this._selectedData=null,this.closeBarrage(),t.OCBAlert.hide(),this.barrageView&&this.barrageView.clear(),this.barrageContainer&&this.barrageContainer.parentNode&&this.barrageContainer.parentNode.removeChild(this.barrageContainer),this.removeAllEventListeners("barrage:click"),this.removeAllEventListeners("reply:success"),this.removeAllEventListeners("reply:error"),this.onDestroy()},Object.defineProperty(i,"selectedTarget",{get:function(){return this._selectedTarget},set:function(t){this._selectedTarget=t}}),Object.defineProperty(i,"selectedData",{get:function(){return this._selectedData},set:function(t){this._selectedData=t}}),i.appendTo=function(t){this.barrageContainer&&(this.barrageContainer.parentNode&&this.barrageContainer.parentNode.removeChild(this.barrageContainer),t.appendChild(this.barrageContainer))},i.remove=function(){this.barrageContainer&&this.barrageContainer.parentNode&&this.barrageContainer.parentNode.removeChild(this.barrageContainer)},i.getPraiseCount=function(e){var i=this._getCommentId(),n=this._getIdParam(i,e);t.commentModel.getPraiseCount(n.id,function(t){n.cb&&n.cb(t)})},i.getCommentCount=function(e){var i=this._getCommentId(),n=t.isString(i)?"comment_id":"belong_tplpage",s=this._getIdParam(i,e);t.commentModel.getCommentCount(n,s.id,function(t){s.cb&&s.cb(t)})},i._getCommentId=function(){return this.selectedData?this.selectedData.objectId:null},i.getPraiseStatus=function(e){var i=this._getCommentId(),n=this._getIdParam(i,e);t.commentModel.getPraiseStatus(n.id,function(t){n.cb&&n.cb(t)})},i.praise=function(e){if(!this._lockPraise){this._lockPraise=!0;var i=this._getCommentId(),n=i?2:1,s=this._getIdParam(i,e),r={};r.id=s.id,r.tplType=n,r.dataSite=this.dataSite,r.pageid=this.pageTplId,r.commentId=i||"";var a="";this.selectedData&&(a=this.selectedData.comment_uid),r.commentUid=a,r.tplId=this.tplId;var o=this;t.commentModel.praise(r,function(e){if("like"==e){var i={tpl_id:r.tplId,pageid:o.pageTplId,tpl_user:o.tplUserId,effecturl:o.tplShareImage},n={msg_recid:o.tplUserId,msg_type:1,tpl_name:o.tpl_name,msg_obj:JSON.stringify(i),mt_content:""};t.commentModel.msgPush(n,function(){a&&(n.msg_recid=a,n.old_userId=a,t.commentModel.msgPush(n,function(){},function(t){console.log(t)}))},function(){})}o._lockPraise=!1,s.cb("like"==e)},function(){o._lockPraise=!1})}},i._getIdParam=function(e,i){var n;return t.isString(e)?n=e:t.isFunction(e)?(i=e,n=this.pageTplId):n=this.pageTplId,{id:n,cb:i}},i.onDestroy=function(){},e.create=function(e){var i=t.commentFactory.create();return i.init(e),i},t.Comment=e}(cm),function(t){var e="<div class='comment-message-photo'></div><div class='comment-message-content'></div>",i=window.MouseEvent,n=window.TouchEvent,s=function(){t.BaseView.call(this),this._messageData=null,this._barrageView=null,this.id=t.getNewID(),this.animating=!1,this.$dom=$("<div>"),this.dom=this.$dom[0],this.$dom.addClass("comment-message"),this._selected=!1,this._isShow=!1,this.offset={x:0,y:0},this.dom.innerHTML=e,this.$content=this.$dom.find(".comment-message-content"),this.$photoContainer=this.$dom.find(".comment-message-photo")};t.inherit(s,t.BaseView);var r=s.prototype;r.init=function(t,e){this.selected=!1,this._messageData=t,this._barrageView=e,this.on("message:animation:end",this._animationEnd,this),this._reset()},r.getMessageData=function(){return this._messageData},r.init2=function(e,i){this.$content.html(e),this._barrageView=i;var n=t.commentModel.getCurrentUser(),s=n.get("user_pic")||t.Const.defaultUserPic;this.$photoContainer.html('<img src="'+s+'" >');var r=this._getStageSize(),a=t.getRandomPosition(r);this.$dom.css({left:a.x,top:a.y}),this._resetPos()},r._getStageSize=function(){var t=this._barrageView.dom,e=t.clientWidth,i=t.clientHeight;return{width:e,height:i}},r.play=function(){var t=this;this.$dom.off("webkitAnimationEnd animationEnd").on("webkitAnimationEnd animationEnd",function(){t.$dom.off("webkitAnimationEnd animationEnd"),t.dispatchEvent("message:animation:end")})},r.stop=function(){this.$dom.off("webkitAnimationEnd animationEnd")},Object.defineProperty(r,"isDragging",{get:function(){return!!this._isDragging},set:function(t){this._isDragging=t,t?this._addEvent():this._removeEvent()}}),Object.defineProperty(r,"selected",{get:function(){return this._selected},set:function(t){this._selected=t,this.$content.css(t?{border:"3px solid #37cb37",borderRadius:""}:{border:"0"})}}),r._animationEnd=function(){this.hide()},r._reset=function(){var e=this._messageData;if(e){var i=e.comment_content;i=JSON.parse(i),this.$content.html(i.content);var n=e.comment_uid_pointer,s=t.Const.defaultUserPic;n&&n.user_pic&&(s=n.user_pic),this.$photoContainer.html('<img src="'+s+'">'),this.$dom.css({left:i.x,top:i.y}),this._resetPos()}},r._resetPos=function(){var t=this.$dom.css("left"),e=this.$dom.width(),i=this._getStageSize();parseInt(t)+e>i.width?this.$dom.removeClass("comment-message-left").addClass("comment-message-right"):this.$dom.removeClass("comment-message-right").addClass("comment-message-left")},r.show=function(t,e){this._isShow||(this._isShow=!1,this._animateClass=e||"comment-msg-show",this.$dom.addClass(this._animateClass),this.play(),this._barrageView&&this._barrageView.addMessage(this))},r.tempShow=function(){this._isShow||(this._isShow=!1,this.isDragging=!0,this._barrageView.showTempMessage(this))},r.hide=function(){this.off("message:animation:end",this._animationEnd),this.$dom.removeClass("comment-msg-show"),this._removeEvent(),this.selected=!1,this._barrageView?(this._barrageView.removeMessage(this),this._barrageView=null,this._messageData=null,this.onHide()):this.$dom.remove()},r._addEvent=function(){var t=this;this.$dom.on("touchstart mousedown",function(e){t._downHandle(e)}),this.$dom.on("touchmove mousemove",function(e){t._moveHandle(e)}),this.$dom.on("touchend mouseup",function(e){t._upHandle(e)})},r._downHandle=function(t){this._isDown=!0;var e=this._mapPoint(t);this.offset.x=e.x-this.dom.offsetLeft,this.offset.y=e.y-this.dom.offsetTop},r._mapPoint=function(t){var e=0,s=0,r=t.originalEvent||t;if(r.constructor===n){var a=r.touches[0];e=a.pageX,s=a.pageY}else r.constructor===i&&(e=r.pageX,s=r.pageY);return{x:e,y:s}},r._moveHandle=function(t){if(t.preventDefault(),t.stopPropagation(),this._isDown){var e=this._mapPoint(t),i=e.x-this.offset.x,n=e.y-this.offset.y,s=(this.$dom.css("left"),this.$dom.css("top"),this.$content.width()),r=this.$dom.height(),a=this._barrageView.dom,o=a.clientWidth,l=a.clientHeight;0>i?(i=10,this.$dom.removeClass("comment-message-right").addClass("comment-message-left")):i+s+80>o&&(i=.4*o-10,this.$dom.removeClass("comment-message-left").addClass("comment-message-right")),0>n?n=10:n+r+50>l&&(n=l-r-50),this.$dom.css({left:i+"px",top:n+"px"})}},r._upHandle=function(){this._isDown=!1},r.clear=function(){this.$photoContainer.html(""),this.hide(),this.$dom.removeClass(this._animateClass),this.$dom.off("webkitAnimationEnd animationEnd"),this._animateClass=null},r._removeEvent=function(){this.$dom.off("touchstart mousedown"),this.$dom.off("touchmove mousemove"),this.$dom.off("touchend mouseup")},r.onHide=function(){},t.MessageView=s}(cm),function(t){var e='<div class="comment-reply-txt"> <div class="comment-table-cell"><svg version="1.1" class="img" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="50px" height="50px" viewBox="0 0 1024 1024" enable-background="new 0 0 1024 1024" xml:space="preserve"><path fill="#f4c600" d="M511.999488 744.967304c-245.74903 0-444.967304-199.219297-444.967304-444.967304 0-245.748007 199.218274-444.967304 444.967304-444.967304 245.748007 0 444.967304 199.219297 444.967304 444.967304C956.966793 545.74903 757.747495 744.967304 511.999488 744.967304zM350.072539 533.502102c42.302455 0 76.596516-40.735773 76.596516-90.985224s-34.293037-90.985224-76.596516-90.985224c-42.303478 0-76.596516 40.735773-76.596516 90.985224S307.769061 533.502102 350.072539 533.502102zM509.523087 43.310803c-202.848964 4.956895-237.351779 171.880649-237.351779 171.880649 272.15033-223.125777 474.705606 0 474.705606 0C704.721815 43.273964 517.45678 43.273964 509.523087 43.310803zM674.365436 351.532677c-42.303478 0-76.597539 40.735773-76.597539 90.985224s34.294061 90.985224 76.597539 90.985224c42.302455 0 76.596516-40.735773 76.596516-90.985224S716.667891 351.532677 674.365436 351.532677z" transform="translate(0, 812) scale(1, -1)"></path></svg></div> <div class="comment-table-cell"><input class="comment-reply-input" type="text" placeholder="我要评论(限50字)" maxlength="50"/></div> <div class="comment-table-cell"><span class="comment-sent-btn cno-send-btn"></span></div></div>',i=function(i){t.EventDispatcher.call(this),this.$dom=$("<div>"),this.$dom.addClass("comment-reply-container half-zoom"),this.$dom.html(e),this.maskLayer=$("<div>"),this.maskLayer.addClass("comment-mask-parent"),this.comment=i,this.commentDraft={},this.$sendButton=this.$dom.find(".comment-sent-btn"),this.$inputText=this.$dom.find(".comment-reply-input"),this._isShow=!1,this._replyTarget=null,this.dom=this.$dom[0]};t.inherit(i,t.EventDispatcher);var n=i.prototype;n.show=function(t){var e="";if(e=t?t.objectId:this.comment.pageTplId,!this._isShow){this._addEvent(),this._replyTarget=t,this._isShow=!0,document.body.appendChild(this.maskLayer[0]),document.body.appendChild(this.dom),this.$inputText.focus();var i=this.commentDraft[e],n=i?i:"";this.$inputText.val(n)}},n._addEvent=function(){var e=this;this.$sendButton.on("tap",function(t){t.preventDefault(),t.stopPropagation(),e._sendFn()}),this.maskLayer.on("tap",function(i){i.preventDefault(),i.stopPropagation(),e.hide();var n=t.createEvent("reply:error");e.comment.dispatchEvent(n)}),this.$inputText.on("input",function(){e._checkText()})},n._sendFn=function(){var e=this.$inputText.val();if(e=e.replace(/ /g,""),0!=e.length){e=e.replace(/(^\s*)|(\s*$)/g,""),e=e.replace(/(<)+|(>)+/g,function(t){return"<"==t?"&lt;":"&gt;"}),e.length>50&&(e=e.substring(0,50));var i=t.createEvent("create:reply",null);i.replyTarget=this._replyTarget,i.replyText=e,this.dispatchEvent(i),this.hide()}},n._checkText=function(){var t="",e=this.$inputText.val();e=e.replace(/ /g,""),0==e.length?this.$sendButton.removeClass("cyes-send-btn").addClass("cno-send-btn"):this.$sendButton.removeClass("cno-send-btn").addClass("cyes-send-btn"),t=this._replyTarget?this._replyTarget.objectId:this.comment.pageTplId,this.commentDraft[t]=e},n._removeEvent=function(){this.$sendButton.off("tap"),this.maskLayer.off("tap"),this.$inputText.off("change keyup paste cut")},n.hide=function(){if(this._isShow){var t=this;setTimeout(function(){t._isShow=!1},100),this._removeEvent(),this._replyTarget=null,this.$inputText.val("").blur(),document.body.removeChild(this.maskLayer[0]),document.body.removeChild(this.dom)}},t.ReplyView=i}(cm),function(t){var e='<div class="ocbalert-cancel">取 消</div><div class="ocbalert-ok">完 成</div>';t.OCBAlert=function(){this.$dom=$("<div>"),this.$dom.css({zIndex:9999}),this.$dom.html(e),this.$dom.addClass("comment-ocbalert half-zoom"),this.dom=this.$dom[0],this._isShow=!1,this.okButton=this.$dom.find(".ocbalert-ok")[0],this.cancelButton=this.$dom.find(".ocbalert-cancel")[0];var t=this;this.$dom.on("tap",function(e){t._clickFn(e)})};var i=t.OCBAlert.prototype;i.show=function(t,e){this._isShow||(this._isShow=!0,document.body.appendChild(this.dom),this._okFn=t,this._cancelFn=e)},i.hide=function(){this._isShow&&(document.body.removeChild(this.dom),this._isShow=!1,this._okFn=null,this._cancelFn=null)},i._clickFn=function(t){t.preventDefault(),t.stopPropagation();var e=t.target;e===this.okButton?this._okFn&&this._okFn():this._cancelFn&&this._cancelFn(),this.hide()};var n;t.OCBAlert.show=function(e,i){return n||(n=new t.OCBAlert),n.show(e,i),n},t.OCBAlert.hide=function(){return n?(n.hide(),n):void 0}}(cm),function(){"use strict";var t=window.AudioContext||window.webkitAudioContext,e={defaults:{autoplay:!1,duration:5e3,formats:[],loop:!1,placeholder:"--",preload:"metadata",volume:80,webAudioApi:!1,document:window.document},types:{mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},sounds:[],el:document.createElement("audio"),getAudioContext:function(){if(void 0===this.audioCtx)try{this.audioCtx=t?new t:null}catch(e){this.audioCtx=null}return this.audioCtx},sound:function(t,i){function n(t){for(var e=[],i=t.length-1,n=0;i>=n;n++)e.push({start:t.start(n),end:t.end(n)});return e}function s(t){return t.split(".").pop()}i=i||{};var r=i.document||e.defaults.document,a=0,o=[],l={},c=e.isSupported();if(this.load=function(){return c?(this.sound.load(),this):this},this.play=function(){return c?(this.sound.play(),this):this},this.togglePlay=function(){return c?(this.sound.paused?this.sound.play():this.sound.pause(),this):this},this.pause=function(){return c?(this.sound.pause(),this):this},this.isPaused=function(){return c?this.sound.paused:null},this.stop=function(){return c?(this.setTime(0),this.sound.pause(),this):this},this.isEnded=function(){return c?this.sound.ended:null},this.loop=function(){return c?(this.sound.loop="loop",this.bind("ended.buzzloop",function(){this.currentTime=0,this.play()}),this):this},this.unloop=function(){return c?(this.sound.removeAttribute("loop"),this.unbind("ended.buzzloop"),this):this},this.mute=function(){return c?(this.sound.muted=!0,this):this},this.unmute=function(){return c?(this.sound.muted=!1,this):this},this.toggleMute=function(){return c?(this.sound.muted=!this.sound.muted,this):this},this.isMuted=function(){return c?this.sound.muted:null},this.setVolume=function(t){return c?(0>t&&(t=0),t>100&&(t=100),this.volume=t,this.sound.volume=t/100,this):this},this.getVolume=function(){return c?this.volume:this},this.increaseVolume=function(t){return this.setVolume(this.volume+(t||1))},this.decreaseVolume=function(t){return this.setVolume(this.volume-(t||1))},this.setTime=function(t){if(!c)return this;var e=!0;return this.whenReady(function(){e===!0&&(e=!1,this.sound.currentTime=t)}),this},this.getTime=function(){if(!c)return null;var t=Math.round(100*this.sound.currentTime)/100;return isNaN(t)?e.defaults.placeholder:t},this.setPercent=function(t){return c?this.setTime(e.fromPercent(t,this.sound.duration)):this},this.getPercent=function(){if(!c)return null;var t=Math.round(e.toPercent(this.sound.currentTime,this.sound.duration));return isNaN(t)?e.defaults.placeholder:t},this.setSpeed=function(t){return c?(this.sound.playbackRate=t,this):this},this.getSpeed=function(){return c?this.sound.playbackRate:null},this.getDuration=function(){if(!c)return null;var t=Math.round(100*this.sound.duration)/100;return isNaN(t)?e.defaults.placeholder:t},this.getPlayed=function(){return c?n(this.sound.played):null},this.getBuffered=function(){return c?n(this.sound.buffered):null},this.getSeekable=function(){return c?n(this.sound.seekable):null},this.getErrorCode=function(){return c&&this.sound.error?this.sound.error.code:0},this.getErrorMessage=function(){if(!c)return null;switch(this.getErrorCode()){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return null}},this.getStateCode=function(){return c?this.sound.readyState:null},this.getStateMessage=function(){if(!c)return null;switch(this.getStateCode()){case 0:return"HAVE_NOTHING";case 1:return"HAVE_METADATA";case 2:return"HAVE_CURRENT_DATA";case 3:return"HAVE_FUTURE_DATA";case 4:return"HAVE_ENOUGH_DATA";default:return null}},this.getNetworkStateCode=function(){return c?this.sound.networkState:null},this.getNetworkStateMessage=function(){if(!c)return null;switch(this.getNetworkStateCode()){case 0:return"NETWORK_EMPTY";case 1:return"NETWORK_IDLE";case 2:return"NETWORK_LOADING";case 3:return"NETWORK_NO_SOURCE";default:return null}},this.set=function(t,e){return c?(this.sound[t]=e,this):this},this.get=function(t){return c?t?this.sound[t]:this.sound:null},this.bind=function(t,e){if(!c)return this;t=t.split(" ");for(var i=this,n=function(t){e.call(i,t)},s=0;s<t.length;s++){var r=t[s],a=r;r=a.split(".")[0],o.push({idx:a,func:n}),this.sound.addEventListener(r,n,!0)}return this},this.unbind=function(t){if(!c)return this;t=t.split(" ");for(var e=0;e<t.length;e++)for(var i=t[e],n=i.split(".")[0],s=0;s<o.length;s++){var r=o[s].idx.split(".");(o[s].idx===i||r[1]&&r[1]===i.replace(".",""))&&(this.sound.removeEventListener(n,o[s].func,!0),o.splice(s,1))}return this},this.bindOnce=function(t,e){if(!c)return this;var i=this;return l[a++]=!1,this.bind(t+"."+a,function(){l[a]||(l[a]=!0,e.call(i)),i.unbind(t+"."+a)}),this},this.trigger=function(t,e){if(!c)return this;t=t.split(" ");for(var i=0;i<t.length;i++)for(var n=t[i],s=0;s<o.length;s++){var a=o[s].idx.split(".");if(o[s].idx===n||a[0]&&a[0]===n.replace(".","")){var l=r.createEvent("HTMLEvents");l.initEvent(a[0],!1,!0),l.originalEvent=e,this.sound.dispatchEvent(l)}}return this},this.fadeTo=function(t,i,n){function s(){setTimeout(function(){t>r&&o.volume<t?(o.setVolume(o.volume+=1),s()):r>t&&o.volume>t?(o.setVolume(o.volume-=1),s()):n instanceof Function&&n.apply(o)},a)}if(!c)return this;i instanceof Function?(n=i,i=e.defaults.duration):i=i||e.defaults.duration;var r=this.volume,a=i/Math.abs(r-t),o=this;return this.play(),this.whenReady(function(){s()}),this},this.fadeIn=function(t,e){return c?this.setVolume(0).fadeTo(100,t,e):this},this.fadeOut=function(t,e){return c?this.fadeTo(0,t,e):this},this.fadeWith=function(t,e){return c?(this.fadeOut(e,function(){this.stop()}),t.play().fadeIn(e),this):this},this.whenReady=function(t){if(!c)return null;var e=this;0===this.sound.readyState?this.bind("canplay.buzzwhenready",function(){t.call(e)}):t.call(e)},this.unload=function(){if(this.isPaused()||this.stop(),i.webAudioApi){var t=e.getAudioContext();t&&this.source&&this.source.disconnect(0)}else this.sound.src=""},this.addSource=function(t){var i=this,n=r.createElement("source");return n.src=t,e.types[s(t)]&&(n.type=e.types[s(t)]),this.sound.appendChild(n),n.addEventListener("error",function(t){i.trigger("sourceerror",t)}),n},c&&t){for(var h in e.defaults)e.defaults.hasOwnProperty(h)&&void 0===i[h]&&(i[h]=e.defaults[h]);if(this.sound=r.createElement("audio"),i.webAudioApi){var d=e.getAudioContext();d&&(this.source=d.createMediaElementSource(this.sound),this.source.connect(d.destination))}if(t instanceof Array)for(var u in t)t.hasOwnProperty(u)&&this.addSource(t[u]);else if(i.formats.length)for(var p in i.formats)i.formats.hasOwnProperty(p)&&this.addSource(t+"."+i.formats[p]);else this.addSource(t);i.loop&&this.loop(),i.autoplay&&(this.sound.autoplay="autoplay"),this.sound.preload=i.preload===!0?"auto":i.preload===!1?"none":i.preload,this.setVolume(i.volume)}},group:function(t){function e(){for(var e=i(null,arguments),n=e.shift(),s=0;s<t.length;s++)t[s][n].apply(t[s],e)}function i(t,e){return t instanceof Array?t:Array.prototype.slice.call(e)}t=i(t,arguments),this.getSounds=function(){return t},this.add=function(e){e=i(e,arguments);for(var n=0;n<e.length;n++)t.push(e[n])},this.remove=function(e){e=i(e,arguments);for(var n=0;n<e.length;n++)for(var s=0;s<t.length;s++)if(t[s]===e[n]){t.splice(s,1);break}},this.load=function(){return e("load"),this},this.play=function(){return e("play"),this},this.togglePlay=function(){return e("togglePlay"),this},this.pause=function(t){return e("pause",t),this},this.stop=function(){return e("stop"),this},this.mute=function(){return e("mute"),this},this.unmute=function(){return e("unmute"),this},this.toggleMute=function(){return e("toggleMute"),this},this.setVolume=function(t){return e("setVolume",t),this},this.increaseVolume=function(t){return e("increaseVolume",t),this},this.decreaseVolume=function(t){return e("decreaseVolume",t),this},this.loop=function(){return e("loop"),this},this.unloop=function(){return e("unloop"),this},this.setSpeed=function(t){return e("setSpeed",t),this},this.setTime=function(t){return e("setTime",t),this},this.set=function(t,i){return e("set",t,i),this},this.bind=function(t,i){return e("bind",t,i),this},this.unbind=function(t){return e("unbind",t),this},this.bindOnce=function(t,i){return e("bindOnce",t,i),this},this.trigger=function(t){return e("trigger",t),this},this.fade=function(t,i,n,s){return e("fade",t,i,n,s),this},this.fadeIn=function(t,i){return e("fadeIn",t,i),this},this.fadeOut=function(t,i){return e("fadeOut",t,i),this}},all:function(){return new e.group(e.sounds)},isSupported:function(){return!!e.el.canPlayType},isOGGSupported:function(){return!!e.el.canPlayType&&e.el.canPlayType('audio/ogg; codecs="vorbis"')},isWAVSupported:function(){return!!e.el.canPlayType&&e.el.canPlayType('audio/wav; codecs="1"')},isMP3Supported:function(){return!!e.el.canPlayType&&e.el.canPlayType("audio/mpeg;")},isAACSupported:function(){return!!e.el.canPlayType&&(e.el.canPlayType("audio/x-m4a;")||e.el.canPlayType("audio/aac;"))},toTimer:function(t,e){var i,n,s;return i=Math.floor(t/3600),i=isNaN(i)?"--":i>=10?i:"0"+i,n=Math.floor(e?t/60%60:t/60),n=isNaN(n)?"--":n>=10?n:"0"+n,s=Math.floor(t%60),s=isNaN(s)?"--":s>=10?s:"0"+s,e?i+":"+n+":"+s:n+":"+s},fromTimer:function(t){var e=t.toString().split(":");return e&&3===e.length&&(t=3600*parseInt(e[0],10)+60*parseInt(e[1],10)+parseInt(e[2],10)),e&&2===e.length&&(t=60*parseInt(e[0],10)+parseInt(e[1],10)),t},toPercent:function(t,e,i){var n=Math.pow(10,i||0);return Math.round(100*t/e*n)/n},fromPercent:function(t,e,i){var n=Math.pow(10,i||0);return Math.round(e/100*t*n)/n}};window.buzz=window.buzz||e}(),function(){function t(t){for(var e=0,i=this.lines.length;i>e&&!(t<=this.lines[e].time);e++);return e}function e(t){this.handler.call(this,this.lines[t].txt,{originLineNum:this.lines[t].originLineNum,lineNum:t})}Date.now=Date.now||(new Date).getTime;var i=/\[(\d{2,})\:(\d{2})(?:\.(\d{2,3}))?\]/g,n={title:"ti",artist:"ar",album:"al",offset:"offset",by:"by"},s=function(t,e){function r(t){for(var e,i,n=[],s={},r=t.length-1;r>=0;r--)i=t[r],s[i.time+""]?(e=s[i.time+""],e.txt=i.txt+"<br/>"+e.txt):(n.push(i),s[i.time+""]=i);return n}t=s.trim(t),this.lrc=t,this.handler=e||function(){},this.tags={},this.lines=[],this.txts=[],this.isLrc=s.isLrc(t),this.curLine=0,this.state=0;var a,o,l,c,h=t.split(/\n/);for(var d in n)a=t.match(new RegExp("\\["+n[d]+":([^\\]]*)\\]","i")),this.tags[d]=a&&a[1]||"";i.lastIndex=0;for(var u=0,p=h.length;p>u;u++)for(;l=i.exec(h[u]);)c=i.lastIndex,o=s.trim(h[u].replace(i,"")),i.lastIndex=c,this.lines.push(2==l[3].length?{time:60*l[1]*1e3+1e3*l[2]+10*(l[3]||0),originLineNum:u,txt:o}:{time:60*l[1]*1e3+1e3*l[2]+1*(l[3]||0),originLineNum:u,txt:o}),this.txts.push(o);this.lines=r(this.lines),this.lines.sort(function(t,e){return t.time-e.time}),LrcMap=this.lines};s.prototype={play:function(i,n){var s=this;i=i||0,s._startStamp=Date.now()-i,s.state=1,s.isLrc&&(s.curLine=t.call(s,i),n||s.curLine&&e.call(s,s.curLine-1),s.curLine<s.lines.length&&(clearTimeout(s._timer),s._timer=setTimeout(function r(){e.call(s,s.curLine++),s.lines[s.curLine]?s._timer=setTimeout(function(){r()},s.lines[s.curLine].time-(Date.now()-s._startStamp)):s.stop()},s.lines[s.curLine].time-i)))},pauseToggle:function(){var t=Date.now();this.state?(this.stop(),this._pauseStamp=t):(this.play((this._pauseStamp||t)-(this._startStamp||t),!0),delete this._pauseStamp)},seek:function(t){this._startStamp-=t,this.state&&this.play(Date.now()-this._startStamp)},stop:function(){this.state=0,clearTimeout(this._timer)}},s.trim=function(t){return t.replace(/(^\s*|\s*$)/m,"")},s.isLrc=function(t){return i.test(t)},window.Lrc=window.Lrc||s}(),window.dms=window.dms||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.realTarget=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},window.dms.Event=t}(),window.dms=window.dms||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[t];return s&&this.removeEventListener(t,e,i),s=n[t],s?s.push(e):n[t]=[e],e},e.on=function(t,e,i,n,s,r){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,s),n&&t.remove()},r)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[t];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==e){1==a?delete n[t]:s.splice(r,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t){if("string"==typeof t){var e=this._listeners;if(!e||!e[t])return!1;t=new window.dms.Event(t)}else t.realTarget&&t.clone&&(t=t.clone());try{t.realTarget=this}catch(i){}if(t.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!t.propagationStopped;r--)s[r]._dispatchEvent(t,1+(0==r));for(r=1;a>r&&!t.propagationStopped;r++)s[r]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n=1==e?this._captureListeners:this._listeners;if(t&&n){var s=n[t.type];if(!s||!(i=s.length))return;try{t.currentTarget=this}catch(r){}try{t.eventPhase=e}catch(r){}t.removed=!1,s=s.slice();for(var a=0;i>a&&!t.immediatePropagationStopped;a++){var o=s[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},window.dms.EventDispatcher=t}();var dms=window.dms||{};dms.IMAGE_LOAD_ERROR="imageLoadError",dms.IMAGE_LOADED="image_loaded",dms.VERSION=2,dms.animationMouseLock={},dms.triggerEvent=$({}),dms.PAUSE_OTHER_AUDIOS="pauseOtherAudios",dms.PAUSE_MAIN_AUDIO="pauseMainAudio",dms.REPLAY_MAIN_AUDIO="replayMainAudio",dms.dispatcher=new dms.EventDispatcher,dms.MANI_AUDIO_PLAY="mainAudioPlay",dms.OTHER_AUDIO_PLAY="otherAudiosPlay",dms.OTHER_AUDIO_END="otherAudioEnd",dms.SWIPE_TOUCH_END="swipeTouchEnd",dms.VIDEO_PLAY="videoPlay",dms.VIDEO_END="videoEnd",dms.pageAnimation={},dms.inherits=function(t,e){Agile.Utils.inherits(t,e)},dms.inherit=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},dms.isString=function(t){return"string"==typeof t||"[object String]"==Object.prototype.toString.call(t)},dms.isObject=function(t){return"object"==typeof t||"[object Object]"==Object.prototype.toString.call(t)},dms.id=0|998*Math.random(),dms.defaultDepth=100,dms.getNewID=function(){return this.id++,this.id},dms.isJsonObject=function(t){return t&&0==t.indexOf("{")&&t.lastIndexOf("}")==t.length-1?!0:!1},dms.toJSON=function(t){return new Function("","return "+t)()},dms.isPC=function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,n=0;n<e.length;n++)if(t.indexOf(e[n])>0){i=!1;break}return i},dms.isIOS=function(){for(var t=navigator.userAgent,e=new Array("iPhone","iPad","iPod"),i=!1,n=0;n<e.length;n++)if(t.indexOf(e[n])>0){i=!0;break}return i},dms.changeQiNiuUrl=function(t){var e="";return e=t.indexOf("imageView2")>-1?t+"/interlace/1":t+"?imageView2/2/interlace/1"},dms.createEvent=function(t,e){var i=new dms.Event(t);return i.target=e,i},dms.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},dms.cloneJSONObject=function(t){var e,i;if(dms.isArray(t)){e=[];var n,s=t.length;for(n=0;s>n;n++)i=t[n],e[n]="object"==typeof i?dms.cloneJSONObject(i):i}else for(n in e={},t)"prototype"!=n&&(i=t[n],e[n]="object"==typeof i?dms.cloneJSONObject(i):i);return e},dms.getEventName=function(){return dms.isPC()?"click":"tap"},function(t){var e=function(){this.element||(this.element=document.createElement("div"));var e=this.element.style;this._style=e,e.position="absolute",this._x=0,this._y=0,this._z=0,this._left=0,this._top=0,this._alpha=1,this._rotationX=0,this._rotationY=0,this._rotationZ=0,this._scaleX=1,this._scaleY=1,this._scaleZ=1,this._width=0,this._height=0,this._scWidth=640,this._scHeight=1008,this._regX=null,this._regY=null,this._regZ=null,this._zIndex=t.defaultDepth,this.maxChildrenDepth=0,this.zIndex=this._zIndex,this.parent=null,this._backgroundImage=null,this._backgroundColor=null,this.children=[],this.numChildren=0,this.left=0,this.top=0};e.prototype={get left(){return this._left},set left(t){this._left=t,this._style.left=t+"px"},get top(){return this._top},set top(t){this._top=t,this._style.top=t+"px"},get x(){return this._x},set x(t){this._x=t,this.transform()},get y(){return this._y},set y(t){this._y=t,this.transform()},get z(){return this._z},set z(t){this._z=t,this.transform()},get width(){return this._width},set width(t){this._width=t,this.element.style.width=t+"px"},get height(){return this._height},set height(t){this._height=t,this.element.style.height=t+"px"},get backgroundImage(){return this._backgroundImage},set backgroundImage(t){this._backgroundImage=t,this.element.style.backgroundImage="url("+t+")"},get backgroundColor(){return this._backgroundColor},set backgroundColor(t){this._backgroundColor=t,this.element.style.backgroundColor=t},get alpha(){return this._alpha},set alpha(t){this._alpha=t,this.element.style.opacity=t},get rotationX(){return this._rotationX},set rotationX(t){this._rotationX=t,this.transform()},get rotationY(){return this._rotationY},set rotationY(t){this._rotationY=t,this.transform()},get rotationZ(){return this._rotationZ},set rotationZ(t){this._rotationZ=t,this.transform()},get rotation(){return this.rotationZ
},set rotation(t){this.rotationZ=t},get scaleX(){return this._scaleX},set scaleX(t){this._scaleX=t,this.transform()},get scaleY(){return this._scaleY},set scaleY(t){this._scaleY=t,this.transform()},get scaleZ(){return this._scaleZ},set scaleZ(t){this._scaleZ=t,this.transform()},get regX(){return this._regX},set regX(t){this._regX=t,this.resetReg()},get regY(){return this._regY},set regY(t){this._regY=t,this.resetReg()},get zIndex(){return this._zIndex},set zIndex(t){this._zIndex=t,this.css2("zIndex",this.zIndex)}};var i=e.prototype;i.addChild=function(t){this._setChild(t),this.contentElement.appendChild(t.element)},i._setChild=function(e){this.maxChildrenDepth++,e.zIndex=t.defaultDepth+this.maxChildrenDepth,e.parent!=this&&(this.children.push(e),this.numChildren++,e.parent=this)},i.addChildren=function(t){for(var e,i=document.createDocumentFragment(),n=t.length,s=0;n>s;s++)e=t[s],this._setChild(e),i.appendChild(e.element);this.element.appendChild(i)},i.addChildAt=function(t,e){this.addChild(t),t.zIndex=e},i.removeChild=function(e){var i;(i=this.children.indexOf(e))>-1&&(this.children.splice(i,1),this.numChildren--,this.element.removeChild(e.element),e.zIndex=t.defaultDepth,e.parent=null)},i.addClass=function(e){t.Css.addClass(this.element,e)},i.removeClass=function(e){t.Css.removeClass(this.element,e)},i.transform=function(){var t="translate3d("+this._x+"px,"+this._y+"px,"+this._z+"px) ",e="rotateX("+this._rotationX+"deg) rotateY("+this._rotationY+"deg) rotateZ("+this._rotationZ+"deg) ",i="scale3d("+this._scaleX+","+this._scaleY+","+this._scaleZ+") ";this.css3("transform",t+e+i)},i.resetReg=function(){if(0==this._regX&&0==this._regY)throw new Error("SB");if(null===this._regX&&null===this._regY)this.css3("transformOrigin","");else{this._regX=this._regX||0,this._regY=this._regY||0;var t=100*parseFloat(this._regX)+"%",e=100*parseFloat(this._regY)+"%";this.css3("transformOrigin",t+" "+e)}},i.css3d=function(t){this.element.parentNode.parentNode.style.webkitPerspective="1000px",this.element.parentNode.parentNode.style.perspective="1000px",this.element.parentNode.parentNode.style.overflow="hidden",this.element.parentNode.style.backfaceVisibility="hidden",this.element.parentNode.style.webkitTransformStyle="preserve-3d",this.element.parentNode.style.transformStyle="preserve-3d",this.element.parentNode.style.webkitTransition="webkit-transform "+t+"s",this.element.parentNode.style.transition="transform "+t+"s"},i.css2d=function(){this.element.parentNode.style.webkitTransformStyle="flat",this.element.parentNode.style.transformStyle="flat",this.element.parentNode.style.webkitTransition="all 0s",this.element.parentNode.style.transition="all 0s"},i.parentCss3=function(e,i){t.Css.css3(this.element.parentNode,e,i)},i.css3=function(e,i){t.Css.css3(this.element,e,i)},i.parentCss2=function(e,i){t.Css.css2(this.element.parentNode,e,i)},i.css2=function(e,i){t.Css.css2(this.element,e,i)},i.addEventListener=function(t,e,i){this.element.addEventListener(t,e,i)},i.removeEventListener=function(t,e,i){this.element.removeEventListener(t,e,i)},i.pp3D=function(t){t.style["-webkit-perspective"]="1000",t.style["-webkit-backface-visibility"]="hidden"},i.destroy=function(){for(var t=this.children.length-1;t>=0;t--)this.children[t].destroy();this.children=[],this._animateClassObjects=[],this.element=null},t.DisplayObject=e}(dms),function(t){var e=t.RenderObject=function(){t.DisplayObject.call(this),this.transformElement=document.createElement("div"),this.contentElement||(this.contentElement=document.createElement("div")),this.userObject={},this.transformElement.appendChild(this.contentElement),this.element.appendChild(this.transformElement),this.pp3D(this.contentElement),this.contentElement.style.position="relative",this.transformElement.style.position="relative",this._translateXPercent=0,this._translateYPercent=0,this._sx=0,this._sy=0,this._sScaleX=1,this._sScaleY=1,this._sScaleZ=1,this._sRotateX=0,this._sRotateY=0,this._sRotateZ=0,this._contentWidth=0,this._contentHeight=0,this._onClick=null,this._listneEvent=t.getEventName(),this.$el=$(this.element),this._animationIndex=0,this._animateClassObjects=[]};t.inherit(t.RenderObject,t.DisplayObject),t.RenderObject.prototype.setContentWidth=function(t){this._contentWidth=t,this.contentElement.style.width=t+"px"},t.RenderObject.prototype.setContentHeight=function(t){this._contentHeight=t,this.contentElement.style.height=t+"px"},t.RenderObject.prototype.setScale=function(t,e){this._translateXPercent||(this._translateXPercent=(t-1)/2*100,this._translateYPercent=(e-1)/2*100),this._sScaleX=t,this._sScaleY=e,this.elementTransform()},t.RenderObject.prototype.setRotate=function(t,e,i){this._sRotateX=t,this._sRotateY=e,this._sRotateZ=i,this.elementTransform()},t.RenderObject.prototype.elementTransform=function(){var e="translate3d("+this._translateXPercent+"%,"+this._translateYPercent+"%,0) ",i="rotateX("+this._sRotateX+"deg) rotateY("+this._sRotateY+"deg) rotateZ("+this._sRotateZ+"deg) ",n="scale3d("+this._sScaleX+","+this._sScaleY+","+this._sScaleZ+") ";t.Css.css3(this.transformElement,"transform",e+i+n)},t.RenderObject.prototype.destroy=function(){this.$el.unbind(this._listneEvent),this._onClick=null,this.userObject&&(this.userObject.magazineDisplay=null,delete this.userObject.magazineDisplay,this.userObject=null),$(this.contentElement).off("webkitAnimationEnd"),t.DisplayObject.prototype.destroy.call(this)},Object.defineProperties(t.RenderObject.prototype,{onClick:{set:function(t){this._onClick?(this.$el.unbind(this._listneEvent,this._onClick),this._onClick=null,this._onClick=t.bind(this),this.$el.on(this._listneEvent,this._onClick)):(this._onClick=t.bind(this),this.$el.on(this._listneEvent,this._onClick))}},userData:{get:function(){return this._userData},set:function(t){this._userData=t}},dataItemHref:{set:function(t){var e=this.contentElement;e.style.pointerEvents="auto",e.setAttribute("data-item-href",t)}}}),t.RenderObject.prototype.dmsStage=null,t.RenderObject.createObject=function(e){var i=new t.RenderObject;return i.userData=e,i.uid=(e.item_id||t.getNewID())+"",i},t.RenderObject.prototype.resetAttribute=function(){if(this.userData){this._cyanAnimationScript=null;{var e=this.userData,i=this.contentElement;i.style}this.left=e.item_left,this.top=e.item_top,this.element.setAttribute("o-left",e.item_left),this.element.setAttribute("o-top",e.item_top);var n=e.item_display_status;this.element.style.display=1==n?"none":"block";var s=e.rotate_angle;this.setRotate(0,0,s);var r=e.x_scale,a=e.y_scale;this.setScale(r,a),this.alpha=(1==e.item_opacity?100:e.item_opacity)/100;var o=e.item_href,l=e.item_type,c=e.open_link_way;if(o&&8!=l&&24!=l&&25!=l&&29!=l&&31!=l&&36!=l&&37!=l&&41!=l&&42!=l&&(this.dataItemHref=o,c)){var i=this.contentElement;i.setAttribute("open-link-way",c)}var h=e.item_border,d=e.bd_radius+"",u=e.bd_color||"#000",p=e.bd_side,m=e.bd_style||"solid";h?p&&(p.indexOf("top")>-1&&(i.style.borderTop=h+"px "+m+" "+u),p.indexOf("right")>-1&&(i.style.borderRight=h+"px "+m+" "+u),p.indexOf("bottom")>-1&&(i.style.borderBottom=h+"px "+m+" "+u),p.indexOf("left")>-1&&(i.style.borderLeft=h+"px "+m+" "+u)):i.style.border="none",d&&(i.style.borderRadius=d.indexOf("%")>-1?d:d.indexOf("px")>-1?d:d+"px"),i.style.boxSizing="border-box";var f=e.item_animation,g=e.item_animation_val,v=this.userData.item_animation_script;v?t.AnimationScriptParser.call(this,v):t.ParseAnimation(this,f,g)}};var i=e.prototype,n=9999999;i.readyToTimeline=function(){var e;if(e=this._cyanAnimationScript){var i=this.userData.item_animation_val,s="timeline_"+this.uid,r=this.dmsStage,a=this.userObject.compPrefix+r.page.pageIndex,o=this.userObject.magazineDisplay;if("undefined"!=i&&i){var l=e.loop;if(l){l="infinite"!=l?parseInt(l):n;var c=0;Cyan.Symbol.bindTimelineAction(a,"stage",s,"complete",function(t){c++,l>c&&t.playTimeline(s,e.loopOnTime)})}var h,d,u;if(h=e.act_on_time){var p=e.act_count||{};for(var m in h){d=1e3*parseFloat(m),u=h[m];var f=p[m]||n;Cyan.Symbol.bindTriggerAction(a,"stage",s,d,function(e,i){var n=0;return function(){if(n++,e>n&&i&&i.length>0)for(var s,r=0;r<i.length;r++){s=i[r];for(var a in s)t.ActList[a]&&t.ActList[a].call(o,s[a])}}}(f,u))}}}}};var s=function(){if(this._symbolId)return this._symbolId;var t=$(this.element).parent("div[data-type=stage]");return t[0]?this._symbolId=t[0].id:null},r=function(){var t=s.call(this);if(t){var e=Cyan.Symbol.get("#"+t);return e}},a=function(t){return"timeline_"+t};i.resetPlayTimeline=function(){var t=this._cyanAnimationScript;if(t){var e=this;t.autoPlay&&(t.delay?setTimeout(function(){e.playTimeline(0)},t.delay):e.playTimeline(0))}},i.playTimeline=function(t){var e=r.call(this);if(e){var i=a(this.uid);void 0!==t?e.playTimeline(i,t):e.playTimeline(i)}},i.stopTimeline=function(){var t=r.call(this);if(t){var e=a(this.uid);t.stopTimeline(e)}},i.pauseTimeline=function(){var t=r.call(this);if(t){var e=a(this.uid);t.stopTimeline(e)}},i.resetAnimation=function(){this._animationIndex=0,this.playCSSAnimation()},i.playCSSAnimation=function(t){t=void 0===t?this._animationIndex:t,this._animationIndex=t;var e=this._animationNames;if(e&&!(t>=e.length)){var i=this._animationVals;if(e[t]&&"undefined"!=e[t]&&(this.contentElement.className=e[t]+" animated",!this._initAnimationEvent)){this._initAnimationEvent=!0;var n=this;$(this.contentElement).on("webkitAnimationEnd",function(){n._animationIndex++,n.playCSSAnimation(n._animationIndex)})}var s=this.contentElement,r=.3,a=s.style;if(e[t]&&"undefined"!=e[t]&&i[t]){var o=i[t];o.delay&&(r=parseFloat(o.delay)+r),o.duration&&(a.WebkitAnimationDuration=o.duration+"s",a.animationDuration=o.duration+"s"),o.infinite&&t==e.length-1?(a.WebkitAnimationIterationCount=o.infinite,a.animationIterationCount=o.infinite):(a.WebkitAnimationIterationCount=1,a.animationIterationCount=1)}a.WebkitAnimationDelay=r+"s",a.animationDelay=r+"s"}}}(dms);var ROSetItemId=function(t,e){t.data_for&&(this.userProperties=e.getObject(t.data_for)),this.uid=(t.item_id||dms.getNewID())+"",this.contentElement.id="cyan_"+this.uid};dms.BaseText=function(t){dms.DisplayObject.call(this),this._textStr=t,this._textColor="#000000",this._fontSize="20px",this._textAlign="left",this._fontFamily="Arial",this._textWidth=0,this._textHeight=0,this.textColor=this._textColor,this.fontSize=this._fontSize,this.textAlign=this._textAlign,this.fontFamily=this._fontFamily},dms.inherit(dms.BaseText,dms.DisplayObject),Object.defineProperties(dms.BaseText.prototype,{htmlText:{get:function(){return this._textStr},set:function(t){this._textStr=t,this.element.innerHTML=t}},textColor:{get:function(){return this._textColor},set:function(t){this.element.style.color=t}},fontSize:{get:function(){return this._fontSize},set:function(t){this._fontSize=t,this.element.style.fontSize=t}},textAlign:{get:function(){return this._textAlign},set:function(t){this.element.style.textAlign=t}},textWidth:{get:function(){return this._textWidth},set:function(t){this._textWidth=t,this.element.style.width=t+"px"}},textHeight:{get:function(){return this._textHeight},set:function(t){this._textHeight=t,this.element.style.height=t+"px"}},fontFamily:{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t,this.element.style.fontFamily=t}}}),dms.Image=function(){this.element=document.createElement("img"),dms.DisplayObject.call(this),this._image=null,this.loaded=!1,this.delayEventTime=5},dms.inherit(dms.Image,dms.DisplayObject),Object.defineProperties(dms.Image.prototype,{image:{get:function(){return this._image},set:function(t){var e=this.element,i=this;this._image=dms.ImageLoader.getImage(t,function(t){i.element&&(t?(i._width||(i.width=t.width),i._height||(i.height=t.height),e.src=t.src,i._dispatchImageLoadedEvent()):i._dispatchImageLoadErrorEvent())})}}}),dms.Image.prototype._dispatchImageLoadedEvent=function(t){var e=this;e.element&&setTimeout(function(){t&&t();try{var i=document.createEvent("CustomEvent");i.initCustomEvent(dms.IMAGE_LOADED,!1,!1),e.element.dispatchEvent(i)}catch(n){var i=document.createEvent("HTMLEvents");i.initEvent(dms.IMAGE_LOADED,!1,!1),e.element.dispatchEvent(i)}e.loaded=!0},e.delayEventTime)},dms.Image.prototype._dispatchImageLoadErrorEvent=function(){var t=this;t.element&&setTimeout(function(){try{var e=document.createEvent("CustomEvent");e.initCustomEvent(dms.IMAGE_LOAD_ERROR,!1,!1),t.element.dispatchEvent(e)}catch(i){var e=document.createEvent("HTMLEvents");e.initEvent(dms.IMAGE_LOAD_ERROR,!1,!1),t.element.dispatchEvent(e)}t.loaded=!1},t.delayEventTime)},dms.Text=function(t,e,i,n){this._text||(this._text=new dms.BaseText(t,e,i,n)),this.contentElement=this._text.element,dms.RenderObject.call(this)},dms.inherit(dms.Text,dms.RenderObject),function(t){var e=function(){var e=this.contentElement=document.createElement("div");t.RenderObject.call(this),e.style.backgroundRepeat="no-repeat",this._imageUrl="",this._imageRect=null,this.loaded=!1,this.delayEventTime=5};t.inherit(e,t.RenderObject);var i=e.prototype;Object.defineProperties(i,{image:{get:function(){return this._imageUrl},set:function(e){var i=this;this._imageUrl=t.ImageLoader.getImage(e,function(t){i.contentElement&&(t?(i._contentWidth||i.setContentWidth(t.width),i._contentHeight||i.setContentHeight(t.height),i.contentElement.style.backgroundImage="url('"+t.src+"')",i._dispatchImageLoadedEvent()):i._dispatchImageLoadErrorEvent())})}},imageRect:{set:function(t){var e=this.contentElement;if(t){this._imageRect=t;var i=parseInt(t[0]),n=parseInt(t[1]);e.style.backgroundPosition=i+"px "+n+"px"}}}}),i._dispatchImageLoadedEvent=function(e){var i=this;i.element&&setTimeout(function(){e&&e();try{var n=document.createEvent("CustomEvent");n.initCustomEvent(t.IMAGE_LOADED,!1,!1),i.element.dispatchEvent(n)}catch(s){var n=document.createEvent("HTMLEvents");n.initEvent(t.IMAGE_LOADED,!1,!1),i.element.dispatchEvent(n)}i.loaded=!0},i.delayEventTime)},i._dispatchImageLoadErrorEvent=function(){var e=this;e.element&&setTimeout(function(){try{var i=document.createEvent("CustomEvent");i.initCustomEvent(t.IMAGE_LOAD_ERROR,!1,!1),e.element.dispatchEvent(i)}catch(n){var i=document.createEvent("HTMLEvents");i.initEvent(t.IMAGE_LOAD_ERROR,!1,!1),e.element.dispatchEvent(i)}e.loaded=!1},e.delayEventTime)},i.destroy=function(){t.RenderObject.prototype.destroy.call(this)},t.AnimateSprite=e}(dms),dms.Audio=function(){var t=this;this._playAudio=document.createElement("audio"),dms.RenderObject.call(this),this.contentElement.appendChild(this._playAudio),this.onClick=function(e){if(e.stopPropagation(),e.preventDefault(),"play-normal"==t._playAudio.getAttribute("play-status"))t.playAudio();else{t.pauseAudio();var i=dms.createEvent(dms.OTHER_AUDIO_END,"");dms.dispatcher.dispatchEvent(i)}},this._playAudio.onended=function(){t.pauseAudio();var e=dms.createEvent(dms.OTHER_AUDIO_END,"");dms.dispatcher.dispatchEvent(e)},this._playAudio.addEventListener("ended",function(){t.pauseAudio(),t.endScript&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",t.endScript))}),dms.dispatcher.on(dms.SWIPE_TOUCH_END,function(e){e.stopPropagation(),e.preventDefault(),t.pauseAudio&&t.pauseAudio()}),dms.dispatcher.on(dms.VIDEO_PLAY,function(e){e.stopPropagation(),e.preventDefault(),e.target||t.pauseAudio&&t.pauseAudio()})},dms.inherit(dms.Audio,dms.RenderObject),dms.Audio.prototype.pauseAudio=function(){this._playAudio.setAttribute("play-status","play-normal"),this._playAudio.pause(),this.contentElement.style.background='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaAgMAAADK7ZTuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAAD///8AAABzxoNxAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAARSURBVAjXYwhlYGAIZRiUJABDnxFF8v/L5gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNi0wMS0yMFQxNDo0MTo0NCswODowMLxKhIoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTYtMDEtMjBUMTQ6NDE6NDQrMDg6MDDNFzw2AAAAAElFTkSuQmCC") no-repeat center rgba(0,0,0,.5)'},dms.Audio.prototype.playAudio=function(){this.changePlayStatus(),this._playAudio.play()},dms.Audio.prototype.changePlayStatus=function(){var t=this.stage||this.parent.stage;t[0]&&t[0].querySelector("*[play-status='play-current']")&&t[0].querySelector("*[play-status='play-current']").setAttribute("play-status","play-normal"),this._playAudio.setAttribute("play-status","play-current");var e=dms.createEvent(dms.OTHER_AUDIO_PLAY,"");dms.dispatcher.dispatchEvent(e),this.contentElement.style.background='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAgCAMAAADOixOHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABGlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAACz+Fa2AAAAXHRSTlMAhHeK/mmR+jxx5RSHnwO2OwYW674Hs6QBXjkKuHUC05z4JVryCEb8qO1CgP0dg+R0X359MdlKEfDJDn/P+1ISeD3d2qlkF2Kmha4QDESBCekNBNxNbMXAP5ahFZTSyTUAAAABYktHRACIBR1IAAAACXBIWXMAAAsSAAALEgHS3X78AAABLklEQVQoz22S11bDMBAFBYgaIISShBaaTTMh9G7A9FBC7/v/38G9CvKxj6wHa3ZWWq8lK5UeLa0qa7SJbs/QHSLS2eX6bnjpybmJXib6XN+fh9cDSVUo8Dk4hMRwQo8US2XOo6w0FuvxCZFJQmUKfjr2rDszS5oDeb718wsIF0n+Emg53hAgWqmSSqDV2Ps1hGukdUAR80bzqDYR5glbgG1o0Ts2rBF2AXtm2T7DAzZudvKT1SGeRyYMQeyvYjwS+pg6hzAknJg6SJya5RHCM/ui8/SdXBAu//tsjisP4TXpBlC3unzLY7kD3XPBg/UNdtmwZbzH5PE8PQNeXtM3GYh+4/zOjVHiwgLTbpXVP9x7/+THfjn+m1V+HF03/9Wv49lVGCmVlcj6b21XSv0Br5lN9OvlDGIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTYtMDEtMjBUMTQ6NDE6NTcrMDg6MDBBCJ6JAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE2LTAxLTIwVDE0OjQxOjU3KzA4OjAwMFUmNQAAAABJRU5ErkJggg==") no-repeat center rgba(0,0,0,.5) '},dms.Audio.prototype.destroy=function(){dms.RenderObject.prototype.destroy.call(this),dms.dispatcher.removeAllEventListeners(dms.SWIPE_TOUCH_END),dms.dispatcher.removeAllEventListeners(dms.VIDEO_PLAY)},dms.Button=function(){dms.RenderObject.call(this)},dms.inherit(dms.Button,dms.RenderObject),dms.Clip=function(){dms.RenderObject.call(this)},dms.inherit(dms.Clip,dms.RenderObject),dms.DateCountdown=function(t){dms.Text.call(this,t),this.timestamp=0,this.dateInterval=0},dms.inherit(dms.DateCountdown,dms.Text),dms.DateCountdown.prototype.returnFormattedToDate=function(t){var e=Math.floor(t/86400),i=Math.floor(t%86400/3600);i=10>i?"0"+i:i;var n=Math.floor(t%86400%3600/60);n=10>n?"0"+n:n;var s=Math.floor(t%86400%3600%60);return s=10>s?"0"+s:s,e+"天 "+i+":"+n+":"+s},dms.DateCountdown.prototype.returnFormattedToDate2=function(t){var e=new Date(t),i=e.getFullYear(),n=e.getMonth(),s=e.getDate(),r=e.getHours();r=10>r?"0"+r:r;var a=e.getMinutes();a=10>a?"0"+a:a;var o=e.getSeconds();return o=10>o?"0"+o:o,i+"年"+(n+1)+"月"+s+"日<br/>"+r+":"+a+":"+o},dms.DateCountdown.prototype.startDate=function(){var t=this,e=this.dateInfor.tplType,i=this.dateInfor.tplUser,n=fmacloud.User.current(),s="";n&&(s=n.id),10==e||i==s||t.timestamp<=0?setTimeout(function(){t.endScript&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",t.endScript))},8e3):t.timestamp>0&&(clearInterval(this.dateInterval),this.dateInterval=setInterval(function(){t.timestamp--,t.timestamp<=0&&(clearInterval(t.dateInterval),t.endScript&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",t.endScript)))},1e3))},dms.DateCountdown.prototype.destroy=function(){dms.Text.prototype.destroy.call(this),this.timestamp=0,clearInterval(this.dateInterval),this.dateInterval=0},dms.Disorderly=function(t,e,i,n){this._text||(this._text=new dms.BaseText(t,e,i,n)),this.contentElement=this._text.element,dms.RenderObject.call(this)},dms.inherit(dms.Disorderly,dms.RenderObject),dms.Disorderly.prototype.disorderlyTxt=function(t,e){var i="",n=t.split("");switch(e){case"0":n=n.sort(function(){return Math.random()-.5});break;case"1":for(var s=new Array(n),r=0;r<n.length;r++)r%2==0?s[r+1]=n[r]:s[r-1]=n[r];n=s;break;case"2":n=n.reverse()}return i=n.join("")},function(t){var e=function(){var e=this.contentElement=document.createElement("img");t.RenderObject.call(this),e.style.backgroundRepeat="no-repeat",e.style.display="block",this._imageUrl="",this._imageRect=null,this.loaded=!1,this.delayEventTime=5};t.inherit(e,t.RenderObject);var i=e.prototype;Object.defineProperties(i,{image:{get:function(){return this._imageUrl},set:function(e){var i=this;this._imageUrl=t.ImageLoader.getImage(e,function(t){i.contentElement&&(t?(i._contentWidth||i.setContentWidth(t.width),i._contentHeight||i.setContentHeight(t.height),i.contentElement.src=t.src,i._dispatchImageLoadedEvent()):i._dispatchImageLoadErrorEvent())})}},imageRect:{set:function(t){var e=this.contentElement;if(!t||t.length<2)return void(e.style.backgroundSize="100% 100%");this._imageRect=t;var i=parseInt(t[0]),n=parseInt(t[1]);e.style.backgroundPosition=i+"px "+n+"px",e.style.backgroundSize=""}}}),i._dispatchImageLoadedEvent=function(e){var i=this;i.element&&setTimeout(function(){e&&e();try{var n=document.createEvent("CustomEvent");n.initCustomEvent(t.IMAGE_LOADED,!1,!1),i.element&&i.element.dispatchEvent(n)}catch(s){var n=document.createEvent("HTMLEvents");n.initEvent(t.IMAGE_LOADED,!1,!1),i.element&&i.element.dispatchEvent(n)}i.loaded=!0},i.delayEventTime)},i._dispatchImageLoadErrorEvent=function(){var e=this;e.element&&setTimeout(function(){try{var i=document.createEvent("CustomEvent");i.initCustomEvent(t.IMAGE_LOAD_ERROR,!1,!1),e.element&&e.element.dispatchEvent(i)}catch(n){var i=document.createEvent("HTMLEvents");i.initEvent(t.IMAGE_LOAD_ERROR,!1,!1),e.element&&e.element.dispatchEvent(i)}e.loaded=!1},e.delayEventTime)},i.destroyImage=function(){},i.resumeImage=function(){},i.destroy=function(){t.RenderObject.prototype.destroy.call(this)},t.ImageSprite=e}(dms),dms.InfiniteChallenge=function(){this._challengeTxt=document.createElement("input"),this._challengeBtn=document.createElement("label"),dms.RenderObject.call(this),this.contentElement.appendChild(this._challengeTxt),this.contentElement.appendChild(this._challengeBtn)},dms.inherit(dms.InfiniteChallenge,dms.RenderObject),dms.InfiniteChallenge.prototype._checkOK=function(t,e){var i=this._challengeTxt.value,n="",s="";if(e&&e.indexOf("success")>-1&&e.indexOf("error")>-1)try{var r=JSON.parse(e);n=r.success,s=r.error}catch(a){console.log(a)}t==i?n&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",n)):s&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",s))},dms.InfiniteChallenge.prototype.destroy=function(){dms.RenderObject.prototype.destroy.call(this)},dms.InnerBrowse=function(t){dms.Text.call(this,t)},dms.inherit(dms.InnerBrowse,dms.Text),dms.InnerBrowse.prototype._showIframeView=function(){var t=this.stage||this.parent.stage;this.containerEl=this.parent.element,new dms.IframePopupView(t[0],this.containerEl,this.userData.item_val)},dms.InnerBrowse.prototype.destroy=function(){dms.Text.prototype.destroy.call(this)},dms.InputText=function(t){this._text=new dms.DomText(t,document.createElement("input")),dms.Text.call(this,t)},dms.inherit(dms.InputText,dms.Text),dms.Label=function(){dms.RenderObject.call(this)},dms.inherit(dms.Label,dms.RenderObject),dms.Label.prototype.destroy=function(){dms.RenderObject.prototype.destroy.call(this)},dms.LongPress=function(){dms.RenderObject.call(this)},dms.inherit(dms.LongPress,dms.RenderObject),dms.LongPress.prototype.goTouchStart=function(t){var e=this;return this.timeOutEvent=setTimeout(function(){e.longPress(t)},500),!1},dms.LongPress.prototype.goTouchEnd=function(){return clearTimeout(this.timeOutEvent),0!=this.timeOutEvent,!1},dms.LongPress.prototype.goTouchMove=function(){return clearTimeout(this.timeOutEvent),this.timeOutEvent=0,!1},dms.LongPress.prototype.longPress=function(t){this.timeOutEvent=0;var e=dms.createEvent("long:press",t);dms.dispatcher.dispatchEvent(e)},dms.MailText=function(t){this._text=new dms.DomText(t,document.createElement("a")),dms.Text.call(this,t)},dms.inherit(dms.MailText,dms.Text),dms.Map=function(t,e,i){dms.ImageSprite.call(this,t,e,i)},dms.inherit(dms.Map,dms.ImageSprite),dms.Map.prototype._showMapIframeView=function(){var t=this.stage||this.parent.stage;this.containerEl=this.parent.element,new dms.IframePopupView(t[0],this.containerEl,this.userData.item_val,this.userData.item_type)},dms.Map.prototype.destroy=function(){dms.ImageSprite.prototype.destroy.call(this)},dms.MultiFrame=function(){dms.RenderObject.call(this);var t=this.element;t.style.overflow="hidden"},dms.inherit(dms.MultiFrame,dms.RenderObject),dms.MultiSelect=function(){dms.RenderObject.call(this)},dms.inherit(dms.MultiSelect,dms.RenderObject),dms.PanoramicPhoto=function(t,e,i){dms.ImageSprite.call(this,t,e,i)},dms.inherit(dms.PanoramicPhoto,dms.ImageSprite),dms.PanoramicPhoto.prototype.addEvent=function(){var t=this;this.contentElement.addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault();var i=e.originalEvent?e.originalEvent.changedTouches[0]:e.touches[0];t.startPosX=i.clientX,t.startPosY=i.clientY,t.manuallyStart=!0,t.lastToLeft=0}),this.contentElement.addEventListener("touchmove",function(e){e.stopPropagation(),e.preventDefault();{var i=e.changedTouches?e.changedTouches[0]:e.touches[0],n=Math.floor(i.clientX);Math.floor(i.clientY)}n<t.minLeft&&(n=t.minLeft),n>t.maxLeft&&(n=t.maxLeft);var s=new Date;t.changeImgSrc(t.startPosX-n),t.lastToLeft=t.startPosX-n,t.startPosX=n,t.moveTime=s.getTime()}),this.contentElement.addEventListener("touchend",function(e){var i=e.changedTouches?e.changedTouches[0]:e.touches[0],n=(Math.floor(i.clientX),Math.floor(i.clientY));Math.abs(n-t.startPosY)>100;var s=new Date;t.endTime=s.getTime(),t.manuallyStart=!1;var r=t.endTime-t.moveTime;20>r&&(t.lastNum=2*(20-r),t.spinningSpeed=10),e.stopPropagation(),e.preventDefault()})},dms.PanoramicPhoto.prototype.changeImgSrc=function(t){var e=this;0!=t&&(t>0?e.showIndex++:e.showIndex--,e.showIndex<0?e.showIndex=e.bgArr.length-1:e.showIndex>e.bgArr.length-1&&(e.showIndex=0),this.contentElement.src=e.getHref(e.showIndex))},dms.PanoramicPhoto.prototype.inertiaChange=function(){var t=this;t.manuallyStart||0==t.lastToLeft||t.lastNum<=0||(t.lastNum--,t.changeImgSrc(t.lastToLeft),setTimeout(t.inertiaChange(),10+t.spinningSpeed))},dms.PanoramicPhoto.prototype.getHref=function(t){return t=0>t?this.reLoadIndex:t,this.bgArr[t]},dms.PanoramicPhoto.prototype.loadImg=function(){for(var t=this;this.reLoadIndex<this.bgArr.length;)t.reLoad(),this.reLoadIndex++},dms.PanoramicPhoto.prototype.reLoad=function(){var t=this,e=document.createElement("img");e.src=this.getHref(-1),e.onload=function(){t.reLoadEdNum++,t.reLoadEdNum>=t.bgArr.length}},dms.PanoramicPhoto.prototype.destroy=function(){dms.ImageSprite.prototype.destroy.call(this)},dms.Password=function(){this._passwordTxt=document.createElement("input"),this._passwordBtn=document.createElement("label"),dms.RenderObject.call(this),this.contentElement.appendChild(this._passwordTxt),this.contentElement.appendChild(this._passwordBtn),this.currErrorCount=0},dms.inherit(dms.Password,dms.RenderObject),dms.Password.prototype._checkOK=function(t,e){var i=this,n=this._passwordTxt.value,s="",r="";if(e&&e.indexOf("success")>-1&&e.indexOf("error")>-1)try{var a=JSON.parse(e);s=a.success,r=a.error}catch(o){console.log(o)}if(t==n)s&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",s));else{var l=this.stage||this.parent.stage,c="回答错误,仔细想想？",h="好的";i.currErrorCount+=1;var d=i.currErrorCount+i.historicalErrorCount;if(11==i.tplType){var u={},p={};p.ext_attr_31=d,u.invalid_detail=JSON.stringify(p),d==i.errorCount&&(u.tpl_invalid=1),d==i.errorCount-1||d>=i.errorCount&&(u.tpl_invalid=1)}if(this._passwordTxt.value="",d>3)return c="作品已经失效了！",void new dms.MsgBox(l[0],c,h);if(r.length>=1&&3>=d){var m=d-1;r[m]&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",r[m]))}11==i.tplType&&3>=d&&dms.model.updateTpl(i.tplId,u,function(t){console.log(t)},function(t){console.log(t)})}},dms.Password.prototype.destroy=function(){dms.RenderObject.prototype.destroy.call(this),this.currErrorCount=0},dms.PhoneText=function(t){this._text=new dms.DomText(t,document.createElement("a")),dms.Text.call(this,t)},dms.inherit(dms.PhoneText,dms.Text),dms.Photos=function(){dms.RenderObject.call(this)},dms.inherit(dms.Photos,dms.RenderObject),dms.Photos.prototype.initSwipe=function(){this._photosSwipe||(this._photosSwipe=new dms.PhotoSwipe(this.contentElement,this.userData))},dms.PicFrame=function(t,e,i){dms.ImageSprite.call(this,t,e,i)},dms.inherit(dms.PicFrame,dms.ImageSprite),dms.Radio=function(){dms.RenderObject.call(this)},dms.inherit(dms.Radio,dms.RenderObject),dms.RedEnvelopes=function(t,e,i){dms.ImageSprite.call(this,t,e,i)},dms.inherit(dms.RedEnvelopes,dms.ImageSprite),dms.RedEnvelopes.prototype.destroy=function(){dms.ImageSprite.prototype.destroy.call(this)},dms.Reward=function(t){dms.Text.call(this,t)},dms.inherit(dms.Reward,dms.Text),dms.Reward.prototype.destroy=function(){dms.Text.prototype.destroy.call(this)},dms.SVG=function(){dms.RenderObject.call(this)},dms.inherit(dms.SVG,dms.RenderObject),dms.SVG.prototype.destroy=function(){dms.RenderObject.prototype.destroy.call(this)},dms.Scratch=function(t,e,i,n){this._text||(this._text=new dms.BaseText(t,e,i,n)),this.contentElement=this._text.element,dms.RenderObject.call(this)},dms.inherit(dms.Scratch,dms.RenderObject),dms.Shake=function(){var t=this;dms.RenderObject.call(this),this.endScript="";var e=this.contentElement;e.setAttribute("data-type","me-shake"),e.id="shake"+dms.getNewID(),this.shakeHandle=null,dms.dispatcher.on("start:shake:handle",function(){t.startShake&&t.startShake()}),dms.dispatcher.on("stop:shake:handle",function(){t.stopShake&&t.stopShake()})},dms.inherit(dms.Shake,dms.RenderObject),dms.Shake.prototype.startShake=function(){var t=this;if(window.DeviceMotionEvent){var e=$(this.contentElement);e.hasClass("yaoYiYao")||e.addClass("yaoYiYao");var i=800,n=0,s=0,r=0,a=0,o=0,l=0,c=0;this.shakeHandle=function(e){var h=e.accelerationIncludingGravity,d=(new Date).getTime();if(d-n>300){var u=d-n;n=d,h&&(s=h.x,r=h.y,a=h.z);var p=Math.abs(s+r+a-o-l-c)/u*1e4;p>i&&t.endScript&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",t.endScript)),o=s,l=r,c=a}},this.shakeHandle&&window.addEventListener("devicemotion",this.shakeHandle,!1)}},dms.Shake.prototype.stopShake=function(){window.DeviceMotionEvent&&(window.removeEventListener("devicemotion",this.shakeHandle,!1),this.shakeHandle=null)},dms.Shake.prototype.destroy=function(){dms.RenderObject.prototype.destroy.call(this),dms.dispatcher.removeAllEventListeners("start:shake:handle"),dms.dispatcher.removeAllEventListeners("stop:shake:handle"),this.stopShake()},dms.TextInText=function(){dms.RenderObject.call(this),this._backText=new dms.Text,this._frontText=null,this.addChild(this._backText)},dms.inherit(dms.TextInText,dms.RenderObject),dms.TextInText.prototype.addFrontText=function(t){this._frontText=t,this.addChild(t)},dms.TextInText.prototype.resetClip=function(){var t=this._backText,e=this._frontText,i=t._text.element,n=e._text.element,s=i.parentNode,r=n.parentNode;s&&s.removeChild(i),r&&r.removeChild(n),document.body.appendChild(i),document.body.appendChild(n);var a=t.getScaleY(),o=i.clientHeight,l=i.clientWidth,c=n.clientHeight*e.getScaleY()/a;document.body.removeChild(i),document.body.removeChild(n),s.appendChild(i),r.appendChild(n);var h=e.top,d=t.top,u=(h-d)/a,p=l+"px "+u+"px,"+l+"px 0px,0px 0px,0px "+u+"px,"+l+"px "+u+"px,"+l+"px "+(u+c)+"px,0px "+(u+c)+"px,0px "+o+"px,"+l+"px "+o+"px,"+l+"px "+(u+c)+"px";i.style["-webkit-clip-path"]="polygon("+p+")"},dms.Timer=function(t){dms.Text.call(this,t),this.timerTime=0,this.timerInterval=0},dms.inherit(dms.Timer,dms.Text),dms.Timer.prototype.returnFormattedToSeconds=function(t){var e=Math.floor(t/60),i=Math.round(t-60*e);return e=10>e?"0"+e:e,i=10>i?"0"+i:i,e+":"+i},dms.Timer.prototype.startTimer=function(){if(this.timerTime>0){var t=this;clearInterval(this.timerInterval),this.timerInterval=setInterval(function(){t.timerTime--,t.contentElement.innerHTML=t.returnFormattedToSeconds(t.timerTime),t.timerTime<=0&&(clearInterval(t.timerInterval),t.endScript&&dms.dispatcher.dispatchEvent(dms.createEvent("countdown:over",t.endScript)))
},1e3)}},dms.Timer.prototype.stopTimer=function(){clearInterval(this.timerInterval),this.timerTime=this.initTimerTime,this.contentElement.innerHTML=this.returnFormattedToSeconds(this.initTimerTime)},dms.Timer.prototype.destroy=function(){dms.Text.prototype.destroy.call(this),this.timerTime=0,this.initTimerTime=0,clearInterval(this.timerInterval),this.timerInterval=0},dms.Video=function(){this._playButton=document.createElement("div"),this._playButtonAnimation=document.createElement("div"),dms.RenderObject.call(this)},dms.inherit(dms.Video,dms.RenderObject),dms.Video.prototype._showVideoContent=function(){var t=this.userData.item_href;if(t&&(this.containerEl=this.parent.element,t.indexOf("iframe")>-1)){var e=this.stage||this.parent.stage;new dms.IframeVideoPlayer(e[0],this.containerEl,t);var i=dms.createEvent(dms.VIDEO_PLAY,"iframe");dms.dispatcher.dispatchEvent(i)}},dms.Video.prototype.destroy=function(){dms.RenderObject.prototype.destroy.call(this),this._videoPlayer&&this._videoPlayer.destroy()},dms.Vote=function(){dms.RenderObject.call(this)},dms.inherit(dms.Vote,dms.RenderObject),dms.WaterMark=function(t,e,i){dms.ImageSprite.call(this,t,e,i)},dms.inherit(dms.WaterMark,dms.ImageSprite),dms.Container=function(t){this.element=t,dms.DisplayObject.call(this)},dms.inherit(dms.Container,dms.DisplayObject),function(t){var e=/\S+/g,i=/[\t\r\n]/g,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,s="X".trim,r=t.Css={select:function(t){return 0==t.indexOf("#")||0==t.indexOf(".")||"body"==t?document.querySelector(t):document.getElementById(t)},createElement:function(t){var t=t||"div",e=document.createElement(t);return e},css:function(t,e,i){if("object"==typeof e){var i=i||2;for(var n in e)2==i?r.css2(t,n,e[n]):r.css3(t,n,e[n]);return null}return r.css2(t,e,i)},css2:function(t,e,i){if(void 0!==i)return t.style[""+e]=i,i;var n=getComputedStyle(t,"");return t.style[""+e]||n.getPropertyValue(""+e)},css3j:function(t,e,i){t.style[e]="-webkit-"+i,t.style[e]="-moz-"+i,t.style[e]="-ms-"+i,t.style[e]="-o-"+i,t.style[e]=""+i},css3:function(t,e,i){var n=e.charAt(0).toUpperCase()+e.substr(1);return void 0===i?r.getCss3(t,e):(t.style["webkit"+n]=i,t.style["moz"+n]=i,t.style["ms"+n]=i,t.style["o"+n]=i,t.style[""+e]=i,void 0)},getCss3:function(t,e){var i=getComputedStyle(t,""),n=t.style[""+e]||t.style["-webkit-"+e]||t.style["-o-"+e]||t.style["-ms-"+e]||t.style["-moz-"+e],s=i.getPropertyValue(""+e)||i.getPropertyValue("-webkit- "+e)||i.getPropertyValue("-o-"+e)||i.getPropertyValue("-ms-"+e)||i.getPropertyValue("-moz-"+e);return n||s},bakCss3:function(t,e,i){if(void 0!==i)return t.style["-webkit-"+e]=i,t.style["-moz-"+e]=i,t.style["-ms-"+e]=i,t.style["-o-"+e]=i,t.style[""+e]=i,i;var n=getComputedStyle(t,""),s=t.style[""+e]||t.style["-webkit-"+e]||t.style["-o-"+e]||t.style["-ms-"+e]||t.style["-moz-"+e],r=n.getPropertyValue(""+e)||n.getPropertyValue("-webkit- "+e)||n.getPropertyValue("-o-"+e)||n.getPropertyValue("-ms-"+e)||n.getPropertyValue("-moz-"+e);return s||r},addClass:function(t,n){var s,r,a,o,l="string"==typeof n&&n;if(l&&(s=(n||"").match(e)||[],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(i," "):" "))){for(o=0;a=s[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");t.className=this.trim(r)}},removeClass:function(t,n){var s,r,a,o,l=0===arguments.length||"string"==typeof n&&n;if(l&&(s=(n||"").match(e)||[],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(i," "):""))){for(o=0;a=s[o++];)for(;r.indexOf(" "+a+" ")>=0;)r=r.replace(" "+a+" "," ");t.className=n?this.trim(r):""}},hasClass:function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},trim:s&&!s.call("﻿ ")?function(t){return null==t?"":s.call(t)}:function(t){return null==t?"":(t+"").replace(n,"")},getDynamicSheet:function(){if(!r.dynamicSheet){var t=document.createElement("style");t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),r.dynamicSheet=t.sheet}return r.dynamicSheet},getTestElement:function(){return r.testElement||(r.testElement=document.createElement("div")),r.testElement},getPrefix:function(t){for(var e="",t=t||1,i=["Moz","Webkit","ms","O",""],n=0,s=i.length;s>n;n++){var a=i[n];if(a+"Transition"in r.getTestElement().style)return 1!=t?(e=a.toLocaleLowerCase(),""!==e&&(e="-"+e+"-")):e=a,e}return e},support3d:function(){var t,e=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var n in i)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(i[n]));return document.body.removeChild(e),void 0!==t&&t.length>0&&"none"!==t}}}(dms),dms.DomText=function(t,e){e&&(this.element=e),dms.BaseText.call(this,t)},dms.inherit(dms.DomText,dms.BaseText),dms.ImageLoader={imageBuffer:{}},dms.ImageLoader.getImage=function(t,e){if("string"==typeof t){if(dms.ImageLoader.imageBuffer[t])e(dms.ImageLoader.imageBuffer[t]);else{var i=new Image;i.onload=function(){e(i)},i.src=t,i.onerror=function(){e(null)}}return t}return"object"==typeof t?(e(t),t.src):void 0},dms.Stage=function(){this.width=0,this.height=0,this.page={pageIndex:-1},this.pageLoadManager=null},Object.defineProperties(dms.Stage.prototype,{pageIndex:{get:function(){return this.page.pageIndex},set:function(t){this.page.pageIndex=t}}}),function(){function t(t){return t+="",t.indexOf("px")<0&&t.indexOf("%")<0&&"0"!==t&&(t+="px"),t}function e(t){return t+="",t.indexOf("deg")<0&"0"!==t&&(t+="deg"),t}function i(t,e){return e||(e="-"),t.replace(/[a-z][A-Z]/g,"$1"+e+"$2").toLowerCase()}function n(t){var e=/ms|s|m|h$/.exec(t)[0],i={ms:1,s:1e3,m:6e4,h:36e5};return parseFloat(t)*i[e]}var s=/^matrix3d\((?:[-\d.]+,\s*){12}([-\d.]+),\s*([-\d.]+)(?:,\s*[-\d.]+){2}\)/,r=/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/,a=/^(translate|rotate|scale)(X|Y|Z|3d)?|(matrix)(3d)?|(perspective)|(skew)(X|Y)?$/i,o=(/android/gi.test(navigator.appVersion),/iphone|ipad/gi.test(navigator.appVersion),"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix),l={translate:function(t,e,i,n,s,r,a){this.doTransition(t,{translate:[s,r]},{duration:e,timingFunction:i,delay:n,callback:a})},doTransition:function(s,r,l){function c(t){b||(s.removeEventListener("webkitTransitionEnd",c,!1),t&&t.srcElement!==s||(b=!0,setTimeout(l.callback,10)))}var h,d=[l.duration,l.timingFunction||"ease",l.delay||"0s"].join(" "),u="",p=[],m={};for(var f in r){var g=r[f];if(h=f.match(a)){g instanceof Array||(g=[g]);var v=h[1]||h[3]||h[5]||h[6],y=h[2]||h[4]||h[7]||"";"translate"===v&&""===y&&o&&(y="3d",g.push(0)),"translate"===v?g=g.map(t):("rotate"===v||"skew"===v)&&(g=g.map(e)),u+=v+y+"("+g.join(",")+")"}else p.push(i(f)+" "+d),m[f]=g;u&&p.push("-webkit-transform "+d)}var b=!1;l.callback&&s.addEventListener("webkitTransitionEnd",c,!1),setTimeout(c,1.2*n(l.duration)),console.log(u),setTimeout(function(){s.style.webkitTransition=p.join(", "),u.length&&(s.style.webkitTransform=u);for(var t in m)s.style[t]=m[t]},10)},genCubicBezier:function(t,e){return[[(t/3+(t+e)/3-t)/(e-t),(t*t/3+t*e*2/3-t*t)/(e*e-t*t)],[(e/3+(t+e)/3-t)/(e-t),(e*e/3+t*e*2/3-t*t)/(e*e-t*t)]]},makeTranslateString:function(e,i){return e=t(e),i=t(i),o?"translate3d("+e+", "+i+", 0)":"translate("+e+", "+i+")"},getTransformOffset:function(t){var e,i,n={x:0,y:0},a=getComputedStyle(t).webkitTransform;return"none"!==a&&(i=a.indexOf("matrix3d")>-1?s:r,(e=a.match(i))&&(n.x=parseInt(e[1])||0,n.y=parseInt(e[2])||0)),n}};window.CSSAnimation=l}(window),dms.ObjectConfig={1:dms.ImageSprite,18:dms.ImageSprite,2:dms.Text,11:dms.Text,12:dms.PhoneText,13:dms.MailText,14:dms.InputText,15:dms.Map,3:dms.WaterMark,4:dms.AnimateSprite,5:null,6:null,7:dms.Audio,8:dms.Video,9:null,10:dms.PicFrame,17:dms.MultiFrame,19:dms.Button,20:dms.Radio,21:dms.MultiSelect,22:dms.Vote,24:dms.Clip,25:dms.LongPress,26:dms.TextInText,27:dms.Shake,28:dms.Disorderly,29:dms.Clip,30:dms.Timer,31:dms.Password,32:dms.DateCountdown,34:dms.MultiFrame,35:dms.InnerBrowse,36:dms.Reward,37:dms.Photos,38:dms.Label,39:dms.SVG,40:dms.PanoramicPhoto,41:dms.RedEnvelopes,42:dms.InfiniteChallenge},dms.SlideAnimationConfig={A10001:function(){return dms.AniFade},A10002:function(){return dms.AniLeftRight3D},A10003:function(){return dms.AniScaleFade},A10004:function(){return dms.AniSlide},A10005:function(){return dms.AniSlideScale},A10006:function(){return dms.AniUpDown3D},A10007:function(){return dms.AniOpenDoor}},dms.SlideGesture={ud:"upDown",lr:"leftRight",c:"click"},dms.CloundFont={loadedMap:null,callback:null,fontPrefix:"css-font-",loadFont:function(t,e){null==this.loadedMap&&(this.loadedMap={});var i=this._checkExistFont(t,e);if(i)return i;i=this.fontPrefix+dms.getNewID(),t=t.replace(/\n|\&|<br\/>|<br>/g,"");var n=dms.fontServer;n=n?n:"http://agoodme.com:3000";var s=this;return fmacapi.cfs_loadfont(n,"fixed",e,t,function(r){if("undefined"!=r.src&&r.src){var a=i;s.loadedMap[t+"-"+e]=a,s._applyFont(a,n+r.src,r.type)}else;},function(){}),i},_applyFont:function(t,e,i){var n=document.createElement("style");n.type="text/css",n.id="style-"+t;var s="";s+="@font-face {\n",s+="  font-family: '"+t+"';\n",s+="  src: url('"+e+"') format('"+i+"');\n",s+="}\n",n.innerHTML=s,document.head.appendChild(n)},_checkOver:function(){this.loadedCount<=0&&(this.loadedCount=0,this.callback&&(this.callback(),this.callback=null))},_checkExistFont:function(t,e){var i=t.replace(/\n/g,""),n=this.loadedMap;for(var s in n)if(-1!=s.indexOf(i)&&-1!=s.indexOf(e))return n[s];return!1},loadFonts:function(t,e){this.callback=e;var i,n,s,r=this.loadedMap;for(i=t.length-1;i>=0;i--)n=t[i],("兰亭细黑"==n.fontFamily||"microsoft yahei"==n.fontFamily.toLowerCase())&&t.splice(i,1);for(i=t.length-1;i>=0;i--){n=t[i],s=n.text.replace(/\n/g,"");for(var a in r)(-1!=a.indexOf(s)&&-1!=a.indexOf(n.fontFamily)||"兰亭细黑"==n.fontFamily)&&t.splice(i,1)}if(0==t.length)return void(this.callback&&(this.callback(),this.callback=null));for(t=this.unique(t),this.loadedCount=t.length,i=0;i<t.length;i++)this.loadFont(t[i].text,t[i].fontFamily)},unique:function(t){for(var e,i,n=[],s={},r=t.length-1;r>=0;r--)i=t[r],s[i.fontFamily]?(e=s[i.fontFamily],e.text.length+i.text.length>100?(n.push(i),s[i.fontFamily]=i):e.text+=i.text):(n.push(i),s[i.fontFamily]=i);return n},clearFont:function(){if(this.loadedMap){var t;for(var e in this.loadedMap){t=this.loadedMap[e];var i=document.getElementById("style-"+t);i&&i.parentNode&&i.parentNode.removeChild(i)}}this.loadedMap=null}};var CustomerData=fmacloud.Object.extend("me_customerdata");!function(t){function e(t){t.forEach(function(t){t.readyToTimeline()})}function i(t){var e=this.pagePrefix+t;return Cyan.compositions[e]}var n=function(e){this.sectionContainers=[],this._addArr=[],this.id=t.getNewID(),this.pagePrefix="page_"+this.id+"_",this.pageContainers=[],this.frameSize=[640,1008],this._initAnimation=!1,this._loadingTpl=['<div class="magazine-display-loading">',"</div>"],this._loadingTpl=this._loadingTpl.join(""),this._pageContainerTpl='<div class="magazine-page-container hide"></div>',this._sectionTpl="<section class=\"swiper-slide\" style='display:none;border:0;overflow-y: auto;overflow-x: hidden;-webkit-box-sizing:border-box;-webkit-overflow-scrolling:touch;-webkit-touch-callout:none'>",this._commentTpl='<div class="comment-discuss pointerEventsClose"  data-type="me-comments"></div>',this._htmlTpl=this._sectionTpl+this._loadingTpl+this._pageContainerTpl+this._commentTpl+"</section>",this._scriptParser=null,this._containerName=e,this.swiper=null,this._currentPage=0,this._animationName="scrollY",this._pageLength=0,this.$swiperContainer=$(this._containerName),this.$wrapper=this.$swiperContainer.find(".swiper-wrapper"),this.$wrapper.attr("id","swiper-wrapper-"+this.id),this._created=[],this._isLoop=!1,this._symbols={},this._symbolInit={},this._pageTriggerAction={},this._pageTimelineAction={},this._animationMode={name:"scrollY",autoplay:!1,interval:1e4,direction:1,lock:!1},this._scWidth=640,this._scHeight=1008,this.userAgent=navigator.userAgent.toLowerCase(),this._submitCallbackData=null,this._map=null,this._showIndex=0,this._pauseOtherAudios=null,this._pausePlayAudio=null,this._tplClass=0,this._mouseLock=!1,this._initDispatchEvent=!0,this.musicPlayer=null,this.hasLongPage=!1,this._initEvent(),this._randomAnmation={0:["leftRight3DX","openDoorX","scrollX"],1:["leftRight3DY","openDoorY","fade","slideCoverIn","scrollY","bomb","bombY","flowCover","slideCover","zoom","zoomY"]}},s=n.prototype,r=function(t){var e=t.target;this.itemHrefHandle(e)};s._initEvent=function(){t.dispatcher.on("countdown:over",r,this)},s._initScreen=function(){var t=this.$swiperContainer[0];if(t){var e=t.clientWidth,i=t.clientHeight,n=this.$wrapper[0];if(n){var s=n.clientWidth,r=n.clientHeight,a=0;i>r&&(a=(i-r)/2);var o=t.parentNode;if(o){var l=o.clientWidth,c=o.clientHeight,h=1,d=1,u=1;e>l||i>c?(e>l&&(h=l/e),i>c&&(d=c/i),u=Math.min(h,d)):(h=l/e,d=c/i,u=Math.min(h,d));this.$swiperContainer.css(this.hasLongPage?{zoom:u,"backface-visibility":"hidden","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,perspective:1e3}:{transform:"translateZ(0) scale3d("+u+","+u+",1)","-webkit-transform":"translateZ(0) scale3d("+u+","+u+",1)","transform-origin":"0% 0%","-webkit-transform-origin":"0% 0%","backface-visibility":"hidden","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,perspective:1e3}),this.$swiperContainer.attr("zoom-scale",u),a=0;var p=0;a=(c-r*u)/2,p=(l-s*u)/2,this.$swiperContainer.css({top:a+"px",left:p+"px"})}}}},s._initSwiper=function(){if(this.$wrapper&&this.$wrapper.get(0)){var e=this.swiper=new pageSwitch(this.$wrapper.get(0),{duration:800,direction:1,start:this._currentPage,loop:this.isLoop,ease:"ease",transition:"scrollY",freeze:this._animationMode.lock,mouse:!0,mousewheel:!0,autoplay:this._animationMode.autoplay,filterCla:"pro-wrapper",interval:this._animationMode.interval}),i=t.pageAnimation;for(var n in i)e.addTransition(n,i[n]);var s=this,r=0;e.on("after",function(){s._resetPage(s._currentPage),s._stopSymbol(s._currentPage),s._destroyImage(s._currentPage,e.current),window.clearTimeout(r),r=setTimeout(function(){s._launchPage()},200)}),e.on("dragStart",function(){}),e.on("dragEnd",function(){}),e.on("dragMove",function(){}),this._lastPos={x:0,y:0}}},s._destroyImage=function(t,e){var i=null,n=this.pageLength;if(!(3>=n)&&(e>t?i=e-2:t>e&&(i=e+2),null!==i)){0>i?i=n+i:i>n-1&&(i-=n);var s=this._getPageObjects(i);s&&s.length&&s.forEach&&s.forEach(function(t){t.destroyImage&&t.destroyImage()})}},s._launchPage=function(){if(this._scriptParser){var e=this.swiper,i=this;i._currentPage=e.current,i.createPage(e.current),i._playSymbol(i._currentPage);var n=i._scriptParser.getPageByIndex(i._currentPage);if(i.setCurrentPageAnimation(),e.current==i.pageLength-1&&i.onSwipeEnd(),n&&n.length&&n.forEach&&n.forEach(function(t){t.resetAnimation(),t.resumeImage&&t.resumeImage()}),!i._initDispatchEvent){var s=t.createEvent(t.SWIPE_TOUCH_END,"");t.dispatcher.dispatchEvent(s)}i._initDispatchEvent=!1,i.swipeTouchEnd()}},s._resetPage=function(t){var e=this.swiper.pages[t];$(e).find("*[data-change=true]").each(function(){var t=$(this);t.stop(!0,!0);this.style;t.css({x:"0px",y:"0px",rotate:"0",scale:"1",skewX:"0deg",skewY:"0deg"}),this.setAttribute("data-change","false")});var i=$(e).find("div.magazine-page-container");i.stop(!0),i.css({x:"0px",y:"0px"})},s.installMusicPlayer=function(){if(!this._isMusicPlayerSetup){var e;this._scriptParser&&(e=this._scriptParser._tpl)&&(this.musicPlayer=new t.MusicPlayer({lrcContainer:this.$swiperContainer[0],url:e.tpl_music,lrcConfig:e.tpl_music_lrc?new t.toJSON(e.tpl_music_lrc):"",loop:e.tpl_music_replay,autoplay:!1,lrcOn:e.tpl_lrc_on}),this._isMusicPlayerSetup=!0)}},s.uninstallMusicPlayer=function(){this._isMusicPlayerSetup&&this.musicPlayer&&(this.musicPlayer.destroy(),this._isMusicPlayerSetup=!1)},s._initTpl=function(){},s.setCurrentPageAnimation=function(){if(this._scriptParser){var t,e,i=this._scriptParser.getPageAnimation(this._currentPage),n=this._scriptParser.getPageSizes()[this._currentPage],s=1,r=this.animationName,a=!1;if(i?(s=void 0===i.direction?1:i.direction,r=i.name||r,t=i.lock_scroll,e=i.interval,a=i.lock||!1,!this._animationMode.lock&&this.swiper&&this.swiper.freeze&&this.swiper.freeze(a)):(s=void 0===this._animationMode.direction?1:this._animationMode.direction,r=this._animationMode.name||r,t=this._animationMode.lock_scroll,e=this._animationMode.interval,!this._animationMode.lock&&this.swiper&&this.swiper.freeze&&this.swiper.freeze(a)),"random"==r){var o=Math.round(Math.random());s=o;var l=this._randomAnmation[o],c=Math.floor(Math.random()*l.length);this.swiper.setTransition(l[c])}else this.swiper.setTransition(r);if(this.swiper.setInterval(e),this.swiper.direction=s,this.swiper.mouseLock=n&&(n[0]>this._scWidth||n[1]>this._scHeight)?!0:!1,t){var h=this.swiper.pages[this._currentPage];h.style.overflow="hidden"}this.animationName=r;var d=this.$swiperContainer.find("*[data-type='magazine-arrow']");d.addClass("noEvents");var u=this.$swiperContainer.find("*[data-type='arrow-horizontal']");u.addClass("noEvents"),this.pageLength>1&&!this._animationMode.lock&&(0==s?(d.removeClass("show").addClass("hide"),a?u.removeClass("show").addClass("hide"):u.removeClass("hide").addClass("show")):(u.removeClass("show").addClass("hide"),1==this._tplClass&&this._currentPage==this._pageLength-1?d.removeClass("show").addClass("hide"):a?d.removeClass("show").addClass("hide"):d.removeClass("hide").addClass("show"))),("leftRight3DX"==r||"leftRight3DY"==r||"leftRight3D"==r)&&(r="scrollY"),this.swiper.setTransition(r)}},Object.defineProperty(s,"animationName",{set:function(t){this._animationName=t,this.swiper},get:function(){return this._animationName}}),s.swipeTouchEnd=function(){var e,i=this.pageContainers[this._currentPage];if(i&&(e=i.element.querySelector("*[data-type='me-shake']"))){var n=t.createEvent("start:shake:handle","");t.dispatcher.dispatchEvent(n)}else{var n=t.createEvent("stop:shake:handle","");t.dispatcher.dispatchEvent(n)}this.onSwipeTouchEnd()},s.createPageContainer=function(e){if(this.pageContainers[e])return this.pageContainers[e];var i=this._htmlTpl,n=$(i),s=n.find(".magazine-page-container").get(0),r=new t.Container(s),a=this._scriptParser.getPageBackgroundColors()[e],o=this._scriptParser.getPageBackgroundImages()[e];a&&(r.backgroundColor=a),o&&(r.backgroundImage=o);var l=this._scriptParser.getPageSizes()[e];r.width=l[0],r.height=l[1],s.setAttribute("data-height",l[1]),this.userAgent.indexOf("qq/")>-1&&l[1]>1008&&/android/gi.test(navigator.appVersion)&&(this.hasLongPage=!0),n.css({});return r.element.style.border="none",this.pageContainers[e]=r,this.sectionContainers[e]=n,r},s._initSymbol=function(t){var e;if((e=this._symbols[this.pagePrefix+t])&&!this._symbolInit[this.pagePrefix+t]){var i=this.pagePrefix+t;this._symbolInit[i]=!0,Cyan.registerCompositionDefn(i,e)}},s.createPage=function(t){var e=this._scriptParser;if(e){var i=this._pageLength;0>t?t=0:t>i-1&&(t=i-1),this._createPage(t);var n=t;n--,this._createPage(n),n--,this._createPage(n),n=t,n++,this._createPage(n),n++,this._createPage(n)}},s._createPage=function(t){var e=this._pageLength;0>t?t=e+t:t>e-1&&(t-=e),0>t?t=0:t>e-1&&(t=e-1),this._created[t]||this._createContainerAndObjects(t)},s._createContainerAndObjects=function(t){var i,n;i=this.createPageContainer(t);var s=this._scriptParser;s&&(n=s.getPageByIndex(t),n.length>0&&(this._created[t]=!0,i.element.id=this.pagePrefix+t,$(i.element).attr("data-type","stage"),this._addDisplayObjectsToContainer(n,i),this._createSymbol(t),this._initSymbol(t),Cyan.okToLaunchComposition(this.pagePrefix+t),e(n)))},s._createSymbol=function(t){if(!this._symbols[this.pagePrefix+t]){this._pageTimelineAction[t]={};var e=(this._pageTimelineAction[t].actions=[],{}),i=e.timelines={};e.gpuAccelerate=!1;{var n,s,r,a=this._getPageObjects(t),o=a.length,l=!1;"stage"+this.id+"_"+t}for(n=0;o>n;n++)if(s=a[n],r=s._cyanAnimationScript){var c="timeline_"+s.uid;i[c]=r,l=!0}l&&(this._symbols[this.pagePrefix+t]={},this._symbols[this.pagePrefix+t].stage=e)}},s._getPageObjects=function(t){var e=this._scriptParser;return e.getPageByIndex(t)},s._addDisplayObjectsToContainer=function(t,e){var i=t.length;e.addChildren(t);for(var n=0;i>n;n++)t[n].stage=this.$swiperContainer,t[n].userObject={compPrefix:this.pagePrefix,magazineDisplay:this},t[n].resetAttribute()},s.showMagazine=function(e,i){this._tplClass=e.tpl_class,this._currentPage=i||0,this._showIndex=i,this.$wrapper.css({width:(e.tpl_width||640)+"px",height:(e.tpl_height||1008)+"px",margin:"0 auto"}),this.$swiperContainer.css({width:"640px",height:"1008px"});var n=this;n._dataHandle(e),n.jumpTarget(e),this._pauseOtherAudios=this.pauseOtherAudios.bind(this),this._pausePlayAudio=this.pausePlayAudio.bind(this),t.dispatcher.on(t.OTHER_AUDIO_PLAY,this._pauseOtherAudios),t.dispatcher.on(t.MANI_AUDIO_PLAY,this._pausePlayAudio),t.dispatcher.on(t.VIDEO_PLAY,this._pausePlayAudio),t.dispatcher.on("long:press",function(t){var e=t.target;e&&(t.stopPropagation(),t.preventDefault(),n.itemHrefHandle(e,t))})},s.appendSlide=function(t,e){var i=this._createSection(t);(null==e||void 0===e)&&(e=this._pageLength),e<=this._currentPage&&this._currentPage++,this._addArr[e]=!0,this._insertArr(this._created,e,!0),this._insertArr(this.sectionContainers,e,i),this._insertArr(this.pageContainers,e,null),this._scriptParser?(this._scriptParser.insertEmpty(e),this._pageLength=this._scriptParser.getPageSizes().length):this._pageLength=this.pageContainers.length,this.swiper?this.swiper.append(i[0],e):this.insertSection(i,e)},s._createSection=function(t){t=t||"";var e=this._sectionTpl+t+this._commentTpl+"</section>";return $(e)},s._insertArr=function(t,e,i){t.length<e?t[e]=i:t.splice(e,0,i)},s.setCurrentPage=function(t,e){if(this._scriptParser){var i=this._scriptParser.getPageSizes();0>=t?t=0:t>=i.length-1&&(t=i.length-1),this._currentPage=t,this.createPage(t),this.swiper&&(this.setCurrentPageAnimation(),e?this.swiper.slide(t,e):this.swiper.slide(t))}},s._playSymbol=function(t){for(var e=i.call(this,t),n=this._getPageObjects(t),s=0;s<n.length;s++){var r=n[s];r.resetPlayTimeline()}e?Cyan.Symbol.startClock():Cyan.Symbol.stopClock()},s._pauseSymbol=function(){},s._stopSymbol=function(t){var e=i.call(this,t);e&&e.stop()},s._dataHandle=function(e){this._initTpl(),this._scriptParser=new t.ScriptParser(e),this._scriptParser.mergeArr(this._created);var i=this._scriptParser.pageLoadManager,n=this._scriptParser.getPageSizes().length;this._pageLength=n;var s=this;if(i.onPageLoaded=function(t){s._showIndex==t&&window.LoadingWave&&!window.LoadingWave.paused&&window.LoadingWave.end(),s.onPageResourceLoaded(t),s._displayLoading(t,"none")},e.animation_mode){var r=JSON.parse(e.animation_mode);for(var a in r)this._animationMode[a]=r[a]}this._initUI()},s.onPageResourceLoaded=function(){},s._displayLoading=function(t,e){var i,n=this.pageContainers[t];n&&(i=n.element)&&(i.className="magazine-page-container show",i&&(i=i.parentNode)&&(i=i.firstChild)&&(i.style.display=e))},Object.defineProperties(s,{currentPage:{get:function(){return this._currentPage}},pageLength:{get:function(){return this._pageLength}},isLoop:{get:function(){return this._isLoop},set:function(t){this._isLoop=t,this.swiper&&(this.swiper.loop=t)}}}),s._initUI=function(){if(!this.swiper){for(var t=this._scriptParser.getPageSizes(),e=0;e<t.length;e++)if(!this._created[e]){var i=(this.createPageContainer(e),this.sectionContainers[e]);this._showIndex==e&&window.LoadingWave&&i.find(".magazine-display-loading").css("display","none"),this.insertSection(i,e)}this._initSwiper(),this._initScreen(),this.setCurrentPage(this._currentPage),this.swipeTouchEnd()}},s.insertSection=function(t,e){for(var i,n=e-1;!this.sectionContainers[n]&&n>=0;)n--;if(i=this.sectionContainers[n])t.insertAfter(i);else{for(n=e+1;!this.sectionContainers[n]&&n<this.sectionContainers.length;)n--;(i=this.sectionContainers[n])?t.insertBefore(i):this.$wrapper.append(t[0])}},s.onSwipeDown=function(){},s.onSwipeTouchEnd=function(){},s.onSwipeEnd=function(){},s.clear=function(){this._currentPage=0,this._pageLength=0,this._isLoop=!1,this._map=null,this._mouseLock=!1,this._initDispatchEvent=!0,this.hasLongPage=!1,this.$wrapper.html(""),this._scriptParser&&this._scriptParser.destroy(),this._scriptParser=null},n.prototype.jumpTarget=function(e){var i=this,n=t.getEventName();this.$wrapper.unbind(n).bind(n,function(t){if(!i._mouseLock){i._mouseLock=!0,setTimeout(function(){i._mouseLock=!1},30);var n=$(t.target);"INPUT"!=t.target.nodeName&&$("input").blur();var s=n.attr("data-item-href");s||(s=n.parent().attr("data-item-href")),s&&("submit"===s?i.insertUserFeedback(e,t):(t.stopPropagation(),t.preventDefault(),i.itemHrefHandle(s,t)))}})},s._fixPageToIndex=function(t){for(var e=this._addArr,i=t,n=0;n<e.length;n++)e[n]&&t>=n&&i++;return i},n.prototype.insertUserFeedback=function(e,i){i.stopPropagation(),i.preventDefault();var n=this;t.model.addFeedbackInfor(e,this.$swiperContainer,this._submitCallbackData,function(t){n._submitCallbackData=t,console.log(t)})},s.getPageCommentsParentDom=function(t){var e=(this._pageLength,null),i=this.sectionContainers[t];return e=i.find(".comment-discuss"),e[0]},s.destroy=function(){this.clear(),this.pageContainers=[],this.swiper&&(this.swiper.animationPages=[],this.swiper.animationInPages=[],this.swiper.animationOutPages=[],this.swiper.destroy()),Cyan.destroyAll(),this.uninstallMusicPlayer(),this.$wrapper=null,this.$swiperContainer=null,this._submitCallbackData=null,t.dispatcher.removeAllEventListeners(t.OTHER_AUDIO_PLAY),t.dispatcher.removeAllEventListeners(t.MANI_AUDIO_PLAY),t.dispatcher.removeAllEventListeners(t.VIDEO_PLAY),t.dispatcher.removeAllEventListeners("long:press"),t.dispatcher.off("countdown:over",r),this._pauseOtherAudios=null,this._pausePlayAudio=null},s.pauseOtherAudios=function(){if(this.$wrapper){var t=this.$wrapper.find("*[play-status='play-normal']");if(t.length>0)for(var e=0;e<t.length;e++)t[e].pause(),t[e].parentNode.style.background='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaAgMAAADK7ZTuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAAD///8AAABzxoNxAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAARSURBVAjXYwhlYGAIZRiUJABDnxFF8v/L5gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNi0wMS0yMFQxNDo0MTo0NCswODowMLxKhIoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTYtMDEtMjBUMTQ6NDE6NDQrMDg6MDDNFzw2AAAAAElFTkSuQmCC") no-repeat center rgba(0,0,0,.5)'}},s.pausePlayAudio=function(){if(this.$wrapper){var t=this.$wrapper.find("*[play-status='play-current']");t.length>0&&(t[0].pause(),t[0].setAttribute("play-status","play-normal"),t[0].parentNode.style.background='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaAgMAAADK7ZTuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAAD///8AAABzxoNxAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAARSURBVAjXYwhlYGAIZRiUJABDnxFF8v/L5gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNi0wMS0yMFQxNDo0MTo0NCswODowMLxKhIoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTYtMDEtMjBUMTQ6NDE6NDQrMDg6MDDNFzw2AAAAAElFTkSuQmCC") no-repeat center rgba(0,0,0,.5)')}},s.getDisplayObjectByUID=function(t){return this._scriptParser.getDisplayObjectByUID(t)},s.itemHrefHandle=function(e,i){function n(t){for(var e=t.split("|"),i="",n=0;n<e.length;n++)i+="{"+e[n]+"},";return i=i.substring(0,i.length-1)}var s=this;if(0==e.indexOf("pageto:")){var r=e.split(":");if(r.length>=1){var a=s._fixPageToIndex(parseInt(r[1]));s.setCurrentPage(a,0)}}else if(0===e.indexOf("http")){var o=e.replace("&amp;","&"),l="";if(window.app&&window.app.VERSION&&(l=window.app.VERSION),l)if(o.indexOf("tid=")>-1){var c=o.split("&")[0],h=(c.split("tid=")[1],window.open(o,"_blank")),d=t.createEvent(t.OTHER_AUDIO_PLAY,"");t.dispatcher.dispatchEvent(d),h&&h.addEventListener("exit",function(e){var e=t.createEvent(t.OTHER_AUDIO_END,"");t.dispatcher.dispatchEvent(e),h=null})}else window.open(o,"_blank");else{var u="_self";i&&(u=$(i.target).attr("open-link-way")||"_self"),"_blank"!=u?s.userAgent.indexOf("micromessenger")>-1?window.location.href=o:s.userAgent.indexOf("qq/")>-1?window.location.href=o:window.open(o,"_blank"):new t.IframePopupView(s.$swiperContainer[0],s.pageContainers[s.currentPage].element,o)}}else if(e.indexOf("show_el")>-1||e.indexOf("play_el")>-1||e.indexOf("hide_el")>-1||e.indexOf("pause_el")>-1||e.indexOf("count_el")>-1||e.indexOf("shake_el")>-1||e.indexOf("timer_el")>-1||e.indexOf("shake_end_el")>-1||e.indexOf("timer_end_el")>-1){var p="["+n(e)+"]";try{p=t.toJSON(p);for(var m=0;m<p.length;m++){var f=p[m];for(var g in f){var v,y,b=f[g],_=0,A=1,w=1,x="{}";t.isObject(b)?(v=b.id,y=b.item_animation,_=b.delay,A=b.duration,w=b.infinite,x=JSON.stringify(b)):v=b;var T=s._scriptParser.getDisplayObjectByUID(v);if(T)if("play_el"===g){var S=T.userData.item_type;T.playAudio&&T.playAudio(),8==S&&(T._showVideoContent&&T._showVideoContent(),T._videoPlayer&&T._videoPlayer.play&&T._videoPlayer.play())}else if("pause_el"===g){var S=T.userData.item_type;T.pauseAudio&&T.pauseAudio(),8==S&&T._videoPlayer&&T._videoPlayer.pause&&T._videoPlayer.pause()}else if("show_el"===g)t.ParseAnimation(T,y,x),T.element.style.display="";else if("hide_el"===g)if(t.ParseAnimation(T,y,x),y){var E=$(T.contentElement);E.on("webkitAnimationEnd",function(t,e){return function(){t.off("webkitAnimationEnd"),e.element.style.display="none"}}(E,T))}else T.element.style.display="none";else if("count_el"===g){var E=$(T.contentElement),C=Number(E.text());C+=1,E.text(C+"")}else"shake_el"===g?T.startShake&&T.startShake():"shake_end_el"===g?T.stopShake&&T.stopShake():"timer_el"===g?T.startTimer&&T.startTimer():"timer_end_el"===g&&T.stopTimer&&T.stopTimer()}}}catch(i){}}},t.MagazineDisplay=n}(dms),function(t){var e=function(t){this._sound=null,this._lrcPlayer=null,this._lrcLayer=null,this._initConfig(t),this._initPlayer()},i=e.prototype;i._initConfig=function(t){this.lrcContainer=t.lrcContainer||document.createElement("div"),t=t||{},t.url=t.url||"",t.lrcConfig=t.lrcConfig||{},t.loop=!!t.loop,t.autoplay=!!t.autoplay,t.lrcOn=!!t.lrcOn,this.lrcConfig=t.lrcConfig,this.lrcConfig.frame_size=this.lrcConfig.frame_size||[600,100],this.lrcConfig.color=this.lrcConfig.color||"#FFFFFF",this.lrcConfig.singing_color=this.lrcConfig.singing_color||"#ffffff",this.lrcConfig.font_size=this.lrcConfig.font_size||"24px",this.lrcConfig.pos=this.lrcConfig.pos||[20,30],this.lrcOn=t.lrcOn,t.lrcContainer=null,delete t.lrcContainer,this.config=t,t.lrcConfig=null,delete t.lrcConfig},Object.defineProperties(i,{lrcOn:{get:function(){return!!this._lrcOn},set:function(t){function e(t){i._initLrcPlayer(t)}if(this._lrcOn=!!t,t&&!this._lrcPlayer&&this.lrcConfig.url){var i=this;$.ajax({url:this.lrcConfig.url,dataType:"text",contenttype:"application/x-www-form-urlencoded;charset=utf-8",success:function(t){e(t)}})}if(t&&!this._lrcLayer){this._lrcLayer=document.createElement("div");var n=this._lrcLayer.style;switch(n.color=this.lrcConfig.color,n.fontSize=this.lrcConfig.font_size,n.position="absolute",n.zIndex="999999",n.left=this.lrcConfig.pos[0]+"px",n.top=this.lrcConfig.pos[1]+"px",n.width=this.lrcConfig.frame_size[0]+"px",n.height=this.lrcConfig.frame_size[1]+"px",n.overflow="hidden",n.pointerEvents="none",this.lrcContainer.appendChild(this._lrcLayer),this.lrcConfig.show_type){case"bottom":this._animationFn=LrcBottomAnimation;break;case"scroll":this._animationFn=LrcScrollAnimation;break;default:this._animationFn=LrcOneRowFadeAnimation}this._animationFn=this._animationFn(this._lrcLayer,this.lrcConfig)}t&&this._lrcPlayer?(this._lrcLayer.style.display="block",!this.isPaused()&&this._sound&&this._lrcPlayer.play(1e3*this._sound.getTime())):!t&&this._lrcPlayer&&(this._lrcLayer.style.display="none",this._lrcPlayer.stop())}}}),i._initLrcPlayer=function(t){var e=this;this._lrcPlayer=new Lrc(t,function(t,i){e._updateLrc(t,i)})},i._initPlayer=function(){var t=this.config;if(t.url){this._sound=new buzz.sound(this.config.url,{loop:t.loop,autoplay:t.autoplay,preload:!0});
var e=this,i=t.autoplay;this._sound.bind("canplaythrough",function(){i&&e.play()})}},i._updateLrc=function(t){this._animationFn(t,this._lrcPlayer,this)},i.enable=function(){return!!this._sound},i._playLrc=function(){this._sound&&!this._sound.isPaused()&&this.lrcOn&&this._lrcPlayer&&this._lrcPlayer.play(1e3*this._sound.getTime())},i._stopLrc=function(){this._lrcPlayer&&this._lrcPlayer.stop()},i.play=function(){this._sound&&this._sound.play(),this._playLrc()},i.setTime=function(t){this._sound&&this._sound.setTime(t),this._lrcPlayer&&this._lrcPlayer.play(1e3*t)},i.pause=function(){this._sound&&this._sound.pause(),this._stopLrc()},i.stop=function(){this._sound&&this._sound.stop(),this._stopLrc()},i.togglePlay=function(){this._sound&&this._sound.togglePlay(),this._sound&&this._sound.isPaused()?this._stopLrc():this._sound&&!this._sound.isPaused()&&this._playLrc()},i.destroy=function(){this._stopLrc(),this._sound&&this._sound.unload(),this._lrcPlayer&&(this._lrcPlayer.handler=null),this.lrcContainer=null},i.getTime=function(){return this._sound?this._sound.getTime():0},i.isPaused=function(){return this._sound?this._sound.isPaused():!1},t.MusicPlayer=e}(dms),function(t){var e=function(){this._loadObjects=[],this.pageLoadedContext=null};e.prototype.addLoad=function(t){if(t.dmsStage){var e=this._loadObjects;if(e.indexOf(t)<0){this._loadObjects.push(t);for(var i=!1,n=t.dmsStage.pageIndex,s=e.length-1;s>=0;s--){var r=e[s],a=r.dmsStage.pageIndex;if(n===a){i=!0;break}}i||this.onStartPageLoad&&this.onStartPageLoad(n)}}},e.prototype.getPageLoadStatus=function(t){for(var e=this._loadObjects,i=e.length-1;i>=0;i--){var n=e[i];if(n&&n.dmsStage&&n.dmsStage.pageIndex===t)return!1}return!0},e.prototype.removeLoad=function(t){if(t.dmsStage){var e=t.dmsStage.pageIndex,i=this._loadObjects,n=i.indexOf(t);if(n>=0){i.splice(n,1);for(var s=!1,r=i.length-1;r>=0;r--){var a=i[r];if(a.dmsStage.pageIndex===e){s=!0;break}}s||this.onPageLoaded&&this.onPageLoaded.call(this.pageLoadedContext,e)}}},e.prototype.destroy=function(){this._loadObjects=[],this.onPageLoaded=null},e.prototype.onStartPageLoad=null,e.prototype.onPageLoaded=null,t.PageLoadManager=e}(dms),dms.addImageToLoad=function(t,e){e=e||t.dmsStage,e.pageLoadManager.addLoad(t);var i=function(){e.pageLoadManager.removeLoad(t),t.removeEventListener(dms.IMAGE_LOADED,i),t.removeEventListener(dms.IMAGE_LOAD_ERROR,n)},n=function(){e.pageLoadManager.removeLoad(t),t.removeEventListener(dms.IMAGE_LOAD_ERROR,n)};t.addEventListener(dms.IMAGE_LOAD_ERROR,n),t.addEventListener(dms.IMAGE_LOADED,i)},function(t){t.AnimationScriptParser=function(){var e=this.userData,i=e.item_animation_script,n={},s=e.item_animation_val,r={autoplay:!0,loop:0,delay:0};if("undefined"!=s&&s){var a=t.toJSON(s);a.loop=a.loop||a.infinite,r.autoPlay=void 0===a.autoplay?!0:!!a.autoplay,r.loop=void 0===a.loop?0:a.loop,r.loopOnTime=void 0===a.loop_on_time?0:a.loop_on_time,r.delay=a.delay||0,n.act_on_time=a.act_on_time}n.autoPlay=void 0===r.autoPlay?!0:!!r.autoPlay,n.timeline=[],n.loop=r.loop,n.loopOnTime=1e3*r.loopOnTime,n.delay=1e3*r.delay;var o="["+i+"]";o=t.toJSON(o),n.timeline=o;var l,c,h;for(h=0;h<o.length;h++)l=o[h],c=l.tween,c[1]="${_cyan_"+this.uid+"}";this._cyanAnimationScript=n},t.ActList={play_el:function(){},animate_el:function(e){var i,n=0;if(t.isObject(e)?(i=e.id,e.from_time&&(n=e.from_time)):i=e,i){var s=this.getDisplayObjectByUID(i);s&&s.playTimeline(n)}},stop_animate_el:function(t){var e=t;if(e){var i=this.getDisplayObjectByUID(e);i&&i.stopTimeline()}},move_el:function(e){if(t.isObject(e)){var i=e.id,n=this.getDisplayObjectByUID(i);if(n){{var s=(this.frameSize[0],this.frameSize[1],$(n.element));$(n.contentElement)}s.attr("data-change","true");var r=parseInt(s.css("left")),a=parseInt(s.css("top")),o=e.to.x,l=e.to.y,c={};o&&(o-=r,c.x=o),l&&(l-=a,c.y=l);var h=e.speed||.5,d=this,u=e.easing||"linear";h=1e3*h;var p,m=e.focus_screen;if(m){var f=this.currentPage;p=this.$wrapper.find("div[data-type='stage']").eq(f)}if(setTimeout(function(){s.stop(!0,!0).transition(c,{duration:h,easing:u,complete:function(){if(e.end_act)for(var i=e.end_act,n=0;n<i.length;n++){var s=i[n];for(var r in s)t.ActList[r].call(d,s[r])}},step:function(){}})},0),m&&p[0]&&!p[0].moving){var g=0,v=0;if(c.x&&(g=c.x),c.y&&(v=c.y),(0!=g||0!=v)&&!p[0].moving){p[0].moving=!0;var y=parseInt(p.css("x")),b=parseInt(p.css("y"));c={x:y-g,y:b-v},p.transition(c,h,u,function(){p[0].moving=!1})}}}}},move_screen:function(t){var e=t.pos,i=this.frameSize[0],n=this.frameSize[1];if(!e){var s=t.el;if(s){var r=this.getDisplayObjectByUID(s);if(r){var a=parseInt(r.element.style.left),o=parseInt(r.element.style.top);e={x:i/2-a,y:n/2-o}}}}if(e){var l=0,c=this.currentPage;l=this.$wrapper.find("div[data-type='stage']").eq(c);var h=t.speed||500,d="linear",u=parseInt(l.css("x")),p=parseInt(l.css("y"));if(e.x=e.x?u+e.x:u,e.y=e.y?p+e.y:p,(e.x<=0||e.x>e.x+i)&&delete e.x,(e.y<=0||e.y>e.y+n)&&delete e.y,!e.x&&!e.y)return;if(l[0].moving)return;l[0].moving=!0,l.stop(!0).transition(e,h,d,function(){l[0].moving=!1})}}}}(dms),function(t){var e=function(e){this._tpl=e,this._displayObjectPages=[],this._pageSizes=[],this._pageStages=[];var i=this._tpl.page_value;this._pageDatas=[];for(var n=0;n<i.length;n++)this._pageDatas.push(i[n]);this.__currentTplData=null,this.__currentStage=null,this.__currentPageObjects=null,this._pageBackgroundColors=[],this._pageBackgroundImages=[],this._pageAnimations=[],this.pageLoadManager=new t.PageLoadManager(i.length);for(var n=0;n<i.length;n++){this._displayObjectPages.push(null);var s=i[n],r=s.page_width,a=s.page_height;this._pageSizes.push([r,a]),this._pageBackgroundColors[n]=null,this._pageBackgroundImages[n]=null;var o=s.color_code;s.color_off&&(this._pageBackgroundColors[n]=o),s.img_off&&(this._pageBackgroundImages[n]=o);var l=s.page_animation;this._pageAnimations.push(l?t.toJSON(l):null)}},i=e.prototype;i.getPageAnimation=function(t){return this._pageAnimations[t]},i.getPageByIndex=function(e){if(this._displayObjectPages[e])return this._displayObjectPages[e];var i,n,s=this._pageDatas,r=this._displayObjectPages;this.__currentTplData=s[e],i=this.__currentTplData.page_width,n=this.__currentTplData.page_height,this._pageSizes[e]=[i,n],this.__currentStage=new t.Stage,this.__currentStage.pageLoadManager=this.pageLoadManager,this.__currentStage.pageIndex=e,this.__currentStage.width=i,this.__currentStage.height=n,this._pageStages[e]=this.__currentStage;var a=this.__currentTplData.item_object;return a&&a.length>0&&(r[e]=this._getItemDisplayObjects(a)),this.__currentTplData=null,this.__currentStage=null,this.__currentPageObjects=null,r[e]},i.getPageSizes=function(){return this._pageSizes},i.getDisplayObjectPages=function(){return this._displayObjectPages},i.getPageBackgroundColors=function(){return this._pageBackgroundColors},i.getPageBackgroundImages=function(){return this._pageBackgroundImages},i._getItemDisplayObjects=function(t){this.__currentPageObjects=t;{var e;t.length}t=t.sort(function(t,e){var i=parseInt(t.item_layer),n=parseInt(e.item_layer);return i-n});var i,n=[],s=t.length;for(e=0;s>e;e++){i=t[e];var r=this._getItemDisplayObject(i,t);r&&n.push(r)}return n},i.getPageData=function(){return this._pageDatas},i._getItemDisplayObject=function(t){var e=(this.__currentPageObjects,t.group_id),i=t.item_type+"";if(e>0){if("3"==i&&2==t.frame_style)return null;if(17==i||26==i||34==i){var n=this._createDisplayObject(t);return n}return null}return this._createDisplayObject(t)},i._createDisplayObject=function(e){var i=(this.__currentPageObjects,null),n=e.item_type+"";e.__key_id=this.__currentTplData.key_id;var s=t.ObjectConfig[n];if(!s)return null;if(!s.createObject)return null;if(i=s.createObject(e,this)){if("22"==n){var r=this.__currentTplData.objectId||"",a=this.__currentTplData.page_vote||0;i.voteInfor={pageId:r,voteNum:a}}if("31"==n){var o=this._tpl.tpl_id||"",l=this._tpl.tpl_type||10,c=this._tpl.invalid_detail||"";i.passwordInfor={tplId:o,tplType:l,invalidDetail:c}}if("32"==n){var l=this._tpl.tpl_type||10,h=this._tpl.author||"";i.dateInfor={tplType:l,tplUser:h}}if("36"==n){var d={};d.tplId=this._tpl.tpl_id||"",d.pageId=this.__currentTplData.objectId||"",d.userId=this._tpl.author||"",d.userHeaderSrc=this._tpl.author_img||"",d.userName=this._tpl.author_name||"",d.userLeave=this._tpl.author_vip_level||0,i.rewardInfor=d}if("41"==n){var u={};u.tplId=this._tpl.tpl_id||"",u.pageId=this.__currentTplData.objectId||"",u.userId=this._tpl.author||"",u.userHeaderSrc=this._tpl.author_img||"",u.userName=this._tpl.author_name||"",i.redEnvelopesInfo=u}i.userData=e,i.dmsStage=this.__currentStage}return i},i.mergeArr=function(t){for(var e=0;e<t.length;e++)t[e]&&this.insertEmpty(e)},i.insertEmpty=function(t){this._insertArr(this._pageSizes,t,null),this._insertArr(this._displayObjectPages,t,{}),this._insertArr(this._pageBackgroundColors,t,null),this._insertArr(this._pageBackgroundImages,t,null),this._insertArr(this._pageAnimations,t,null),this._insertArr(this._pageDatas,t,{}),this._insertArr(this._pageStages,t,null),this.resetPageIndex()},i._insertArr=function(t,e,i){t.length<e?t[e]=i:t.splice(e,0,i)},i.resetPageIndex=function(){for(var t=this._pageStages,e=0;e<t.length;e++)t[e]&&(t[e].pageIndex=e)},i.getDisplayObjectByUID=function(e){var i,n=this._displayObjectPages,s=(n.length,null);e+="";for(var r,a=0;a<n.length;a++)if(n[a]){i=n[a];for(var o=i.length,l=0;o>l;l++){if(r=i[l],r&&r.uid===e){s=i[l];break}if(r.constructor==t.MultiFrame){for(var c=r.children,h=0;h<c.length;h++)if(c[h].uid===e){s=c[h];break}if(s)break}}if(s)break}return s},i.getFieldValue=function(){},i.getObject=function(t){for(var e,i,n=this._pageDatas,s=0;s<n.length;s++){e=n[s].item_object;for(var r=0;r<e.length;r++)if(i=e[r],i.item_id==t)return i}return null},i.destroy=function(){if(this._pageSizes=[],this.pageLoadManager=null,this._displayObjectPages){for(var t=this._displayObjectPages.length-1;t>=0;t--){var e=this._displayObjectPages[t];if(e)for(var i=e.length-1;i>=0;i--){var n=e[i];n.dmsStage.pageLoadManager=null,n.dmsStage=null,n.stage=null,n.destroy()}}this._displayObjectPages=[]}this._pageDatas=[],this._tpl=null},t.ScriptParser=e}(dms),dms.model={getTplObjById:function(t,e,i){fmacapi.tpl_get_tpl_json(t,function(t){t&&e(t)},function(t){i(null,t)},!0)},getTplPagesById:function(t,e,i){fmacapi.tpl_get_data_json(t,function(t){e(t)},function(){this.cld_get_tpl_data_LocalFun(t,function(t){e(t)},function(t){i(null,t)})})},cld_get_tpl_data_LocalFun:function(t,e,i){var n={log:""},s=function(t){i(t.message)};if(!t)return void s("作品id为空!");try{var r=function(e,i,n,s,a){return e?void n(e[i],function(){i<e.length-1?r(e,i+1,n,s,a):s(e)},a):(console.log(t+" its pages data is destroyed "),void a(t+" its pages data is destroyed!"))},a=function(t){for(var e=t.toJSON(),i=t.get("pages"),n=[],s=0;s<i.length;s++){for(var r=i[s],a=r.toJSON(),o=r.get("item_object"),l=[],c=0;c<o.length;c++){var h=o[c];l[c]=h.toJSON()}a.item_object=l,n[s]=a}return e.pages=n,e},o=function(t){n.data=t,e(a(t))},l=function(t,e,i,n){r(t,e,function(t,e,i){t.fetch().then(e,i)},function(t){i(t)},n)},c=AV.Object.extend("pages_data"),h=new AV.Query(c);h.equalTo("key_id",t),h.descending("createdAt"),h.find().then(function(t){if(t.length>0){var e=t[0],i=e.get("pages");l(i,0,function(t){r(t,0,function(t,e,i){var n=t.get("item_object");l(n,0,e,i)},function(){var t=e.get("pages")[0];t.get("item_object")[0].get("item_id")?o(e):s(new AV.Error(3201,"元素数据可能已受到损坏。"))},s)},s)}else s(new AV.Error(3202,"指定ID的数据不存在。"))},function(t){s(t)})}catch(d){console.log("ME作品数据出错！"+d.message),s(t+"作品数据出错！"+d.message)}},getTplById:function(t,e){var i,n,s=!1;fmacapi.tpl_get_tpl_json(t,function(t){i=t,n&&!s&&(i.page_value=n,s=!0,e(i))},function(t){s||(s=!0,e(null,t))},!0),fmacapi.tpl_get_data_json(t,function(t){n=t.pages,i&&!s&&(i.page_value=n,s=!0,e(i))},function(t){s||(s=!0,e(null,t))})},queryUserLevelByUserId:function(t,e,i){var n=new fmacloud.Query("_User");n.equalTo("objectId",t),n.first({success:e,error:i})},queryUserTplByUserId:function(t,e,i,n,s,r,a,o){var l=new fmacloud.Query("tplobj");l.equalTo("author",s),l.equalTo("tpl_privacy","public"),l.notEqualTo("tpl_state",1),l.equalTo("tpl_type",11),t.length>0&&l.equalTo(t,e),i.length>0&&(n?l.descending(i):l.ascending(i)),l.limit(r),l.find({success:a,error:o})},queryHotTpl:function(t,e){var i=new fmacloud.Query("appconf");i.first({success:t,error:e})},addPagesVote:function(t,e,i){if(!t)return void e("");var n=new fmacloud.Query("page");n.equalTo("objectId",t),n.descending("createdAt"),n.first({success:function(t){var n=t.get("page_vote")||0;t.set("page_vote",n+1),t.save(null,{success:e,error:i})},error:i})},addFeedbackInfor:function(t,e,i){var n=!1,s={},r={},a=[],o=e.find("input[data-input='user-input']");o.each(function(){var t=($(this).attr("data-fb-field"),$(this).attr("data-objectId")),e=$(this).val();if(e&&t){var i={};i[t]=e,a.push(i)}e&&(n=!0)}),a.length>0&&(r.input_content=a,s.cd_input=JSON.stringify(r));var l=e.find("input[data-radio='user-radio']");l.each(function(){var t=($(this).attr("data-fb-field"),$(this).attr("data-objectId"));if($(this).prop("checked")){n=!0;var e=$(this).val();t&&e&&(s.cd_radio=t,s.cd_radio_val=e)}});var c=e.find("input[data-checkbox='user-checkbox']"),h="",d="";if(c.each(function(){$(this).attr("data-fb-field");d=$(this).attr("data-objectId"),$(this).prop("checked")&&(n=!0,h+=$(this).val()+"|")}),d&&h&&(s.cd_checkbox=d,s.cd_checkbox_val=h),!n)return void new dms.MsgBox(i[0],"请填写表单");var u=null;u=new CustomerData,t.tpl_id&&u.set("cd_tplid",t.tpl_id),t.author&&u.set("cd_userid",t.author),u.set("cd_userhead","http://ac-hf3jpeco.clouddn.com/XqjQmhDhDLz4rQzeKaQVyVW7OKqPU4CvQ7QKJlPm.jpg");for(var p in s)u.set(p,s[p]);u.save(null,{success:function(t){o.each(function(){$(this).val("")}),l.each(function(){$(this).prop("checked",!1)}),c.each(function(){$(this).prop("checked",!1)}),new dms.MsgBox(i[0],"感谢您的参与"),console.log(t)},error:function(t,e){console.log("Failed to create new object, with error code: "+e.message)}})},updateTpl:function(t,e,i,n){if(!t)return void n("作品id为空!");var s=new AV.Query("tplobj");s.equalTo("tpl_id",t),s.first({success:function(t){for(var n in e)t.set(n,e[n]);t.save(null,{success:function(t){i(t)}})},error:function(){n(err.message)}})}},new Array("X","Y","").forEach(function(t){dms.pageAnimation["flip3D"+t]=function(){var e=!1;return function(i,n,s,r,a,o){if(!(!i||!s||Math.abs(n)>1||Math.abs(r)>1)){e||(e=!0),i.parentNode.parentNode.style["-webkit-perspective"]="1000px",i.parentNode.parentNode.style.perspective="1000px",i.parentNode.style["-webkit-transformStyle"]="preserve-3d",i.parentNode.style.transformStyle="preserve-3d";var l=t||["X"],c="X"==l?-1:1,h=c*(0>n?1:-1),d=i["offset"+("X"==l?"Height":"Width")]/2;i.parentNode.style["-webkit-transform"]="translateZ(-"+d+"px) rotate"+l+"(0deg)",i.parentNode.style.transform="translateZ(-"+d+"px) rotate"+l+"(0deg)",i.style["-webkit-transform"]="rotate"+l+"(0) translateZ("+d+"px)",i.style.transform="rotate"+l+"(0) translateZ("+d+"px)",s&&(s.style["-webkit-transform"]="rotate"+l+"("+90*h+"deg) translateZ("+d+"px)",s.style.transform="rotate"+l+"("+90*h+"deg) translateZ("+d+"px)"),setTimeout(function(){i.parentNode.style["-webkit-transition"]="all "+a+"ms",i.parentNode.style.transition="all "+a+"ms",i.parentNode.style["-webkit-transform"]="translateZ(-"+d+"px) rotate"+l+"("+90*n*c+"deg)",i.parentNode.style.transform="translateZ(-"+d+"px) rotate"+l+"("+90*n*c+"deg)"},100);var u=i.parentNode,p=function(){u.removeEventListener("webkitTransitionEnd",p),e=!1,i.parentNode.style["-webkit-transition"]="none",i.parentNode.style.transition="none",i.parentNode.parentNode.style["-webkit-perspective"]="none",i.parentNode.parentNode.style.perspective="none",i.parentNode.style["-webkit-transformStyle"]="flat",i.parentNode.style.transformStyle="flat",i.parentNode.style["-webkit-transform"]="translateZ(0px) rotateX(0deg)",i.parentNode.style.transform="translateZ(0px) rotateX(0deg)",s&&(s.style["-webkit-transform"]="rotate"+l+"(0deg) translateZ(0px)",s.style.transform="rotate"+l+"(0deg) translateZ(0px)"),o()};u.addEventListener("webkitTransitionEnd",p)}}}()}),new Array("X","Y").forEach(function(t){dms.pageAnimation["leftRight3D"+t]=function(){var e,i,n,s,r,a;return function(o,l,c,h,d,u){if(!(!o||!c||Math.abs(l)>1||Math.abs(h)>1)){r="XY".indexOf(t),a=r?"X":"Y",e=$(o).width(),i=$(o).height(),n=new dms.Container(o),c&&(s=new dms.Container(c)),n.parentCss3("perspective","300px"),c&&(s.zIndex=101);var p=0;n.css3("transition","none"),c&&s.css3("transition","none"),n.css3("transform","translate3d(0%,0%,0px) scale(1) rotate"+a+"(0deg)"),c&&s.css3("transform","translate3d(0%,0%,-200px) scale(1) rotate"+a+"(0deg)"),setTimeout(function(){p=10,n.css3("transition","all "+d/2+"ms"),c&&s.css3("transition","all "+d/2+"ms"),n.css3("transform","translate3d("+50*l*(1-r)+"%,"+50*l*r+"%,-100px) scale(0.8) rotate"+a+"("+20*l*(r?1:-1)+"deg)"),c&&s.css3("transform","translate3d("+50*l*-1*(1-r)+"%,"+50*l*-1*r+"%,-100px) scale(0.8) rotate"+a+"("+20*l*(r?-1:1)+"deg)")},100);var m=function(){return 10==p?void setTimeout(function(){p=100,n.css3("transform","translate3d(0%,0%,-200px) scale(1) rotate"+a+"(0deg)"),c&&s.css3("transform","translate3d(0%,0%,0px) scale(1) rotate"+a+"(0deg)")},10):(o.removeEventListener("webkitTransitionEnd",m),n.css3("transition","none"),c&&s.css3("transition","none"),void u())};o.addEventListener("webkitTransitionEnd",m)}}}()}),dms.animationMouseLock.openDoorX=!0,dms.animationMouseLock.openDoorY=!0,new Array("X","Y").forEach(function(t){dms.pageAnimation["openDoor"+t]=function(){var e,i,n,s,r,a,o,l,c;return function(h,d,u,p,m,f){if(c="XY".indexOf(t),o=h.offsetWidth,l=h.offsetHeight,e=new dms.Container(h),i=new dms.Container(u),r=0>d?h.cloneNode(!0):u&&u.cloneNode(!0),a=0>d?h.cloneNode(!0):u&&u.cloneNode(!0),r&&a){h.parentNode.appendChild(r),h.parentNode.appendChild(a),n=new dms.Container(r),s=new dms.Container(a),n.css2("clip","rect(0px,"+o/(c+1)+"px,"+l/(2-c)+"px,0px)"),s.css2("clip","rect("+(1-c)*l/2+"px,"+o+"px,"+l+"px,"+c*o/2+"px)");var g=0>d?0:-50,v=0>d?-50:0,y=0>d?0:50,b=0>d?50:0,_=c?"X":"Y";if(n.css3("transform","translate"+_+"("+g+"%)"),s.css3("transform","translate"+_+"("+y+"%)"),n.css2("overflow","hidden"),s.css2("overflow","hidden"),n.zIndex=102,s.zIndex=102,0>d){for(var A=$(n.element).find(".animated"),w=0;w<A.length;w++)A[w]&&A[w].className.indexOf("animated")>=0&&$(A[w]).css({"animation-play-state":"paused","-webkit-animation-play-state":"paused"});A=$(s.element).find(".animated");for(var w=0;w<A.length;w++)A[w]&&A[w].className.indexOf("animated")>=0&&$(A[w]).css({"animation-play-state":"paused","-webkit-animation-play-state":"paused"});i.zIndex=100,i.css2("opacity","0"),i.css3("transform","scale(0.6)"),e.css2("display","none"),document.execCommand("Refresh"),n.css3("transition","all "+m+"ms"),s.css3("transition","all "+m+"ms"),i.css3("transition","all "+m+"ms"),i.css2("opacity","1"),i.css3("transform","scale(1)"),n.css3("transform","translate"+_+"("+v+"%)"),s.css3("transform","translate"+_+"("+b+"%)")}else e.zIndex=100,i.zIndex=100,i.css2("opacity","0"),setTimeout(function(){n.css3("transition","all "+m+"ms"),s.css3("transition","all "+m+"ms"),e.css3("transition","all "+m+"ms"),e.css2("opacity","0"),e.css3("transform","scale(0.6)"),n.css3("transform","translate"+_+"("+v+"%)"),s.css3("transform","translate"+_+"("+b+"%)")},100);var x=0>d?u:h,T=function(){x.removeEventListener("webkitTransitionEnd",T),r&&(r.parentNode&&r.parentNode.removeChild(r),r=null),a&&(a.parentNode&&a.parentNode.removeChild(a),a=null),i.css2("opacity","1"),i.css3("transition","none"),i.css2("opacity","1"),e.css2("display","none"),e.css2("opacity","1"),e.css3("transition","none"),e.css3("transform","scale(1)"),f()};x.addEventListener("webkitTransitionEnd",T)}}}()}),function(t){var e=function(e,i){this.__container=e;var n=null;try{n=JSON.parse(i.item_val)}catch(s){return void console.log(s.name+": "+s.message)}if(null!=n){var r=n.title,a=n.options,o=i.bg_color,l=i.bd_color||"#000000",c=i.bd_style||"solid",h=i.item_border,d=i.item_color,u=i.font_size,p=i.fb_field,m=i.objectId,f=document.createElement("div");f.innerHTML=r+"（可多选）";var g=f.style;g.width="100%",g.height="100px",g.background=o,g.fontSize=u,g.color=d,g.lineHeight="100px",g.paddingLeft="10px",g.boxSizing="border-box",this.__container.appendChild(f);for(var v=a.length,y="checkbox"+t.getNewID(),b=0;v>b;b++){var _=document.createElement("div"),A=_.style;A.width="100%",A.height="87px",A.fontSize=u,A.color="#000",A.lineHeight="87px",A.paddingLeft="10px",A.boxSizing="border-box",A.verticalAlign="middle",h&&b!=v-1&&(A.borderBottom=h+"px "+c+" "+l);var w="checkbox"+t.getNewID(),x=document.createElement("input");x.setAttribute("data-type","common-check-radio"),x.type="checkbox",x.name=y,x.value=a[b],x.id=w;var T=x.style;T.display="none",x.setAttribute("data-checkbox","user-checkbox"),x.setAttribute("data-objectId",m),p&&x.setAttribute("data-fb-field",p);var S=document.createElement("label");S.innerText=a[b],S.setAttribute("for",w),S.setAttribute("data-type","common-label");var E=S.style;E.display="inline-block",E.width="80%",E.height="100%",_.appendChild(x),_.appendChild(S),this.__container.appendChild(_)}}};t.CheckboxCreator=e}(dms),function(t){var e=function(t,e,i){this._container=t;var n=this,s=e.item_opacity,r=e.item_color,a=e.font_size,o=e.item_val,l=e.item_left||0,c=e.item_top||0,h=e.item_type;this.clipPercent=e.clip_percent;var d=e.item_href,u=e.item_width||640,p=e.item_height||1008;if(this.endScript=e.animate_end_act,d){this._clipPopupView||(this._clipPopupView=document.createElement("canvas")),this._clipPopupView.width=u,this._clipPopupView.height=p;var m=this._clipPopupView.style;if(m.position="absolute",m.zIndex="100000",m.left="0",m.top="0",29==h){m.left=l+"px",m.top=c+"px",s=100-s;var f=e.item_animation,g=e.item_animation_val;this.addAnimation(f,g)}i&&(o=i),m.opacity="1",m.WebkitTransition="opacity .5s",m.transition="opacity .5s",this._container.appendChild(this._clipPopupView),this._clipCtx=this._clipPopupView.getContext("2d"),this._clipCtx.globalAlpha=(100-s)/100,n._clipCtx.font=a?a+" Arial":"36px Arial",this.x1=0,this.y1=0,this.a=30,this.timeout=null,this.totimes=100,this.distance=30,this.saveDot=[],this._img=new Image;var v=d;this._img.onload=function(){var t=n._img.width/n._clipPopupView.width,i=n._img.height/n._clipPopupView.height;if(t>i){var s=i*n._clipPopupView.width,d=(n._img.width-s)/2;n._clipCtx.drawImage(n._img,d,0,s,n._img.height,0,0,n._clipPopupView.width,n._clipPopupView.height)}else{var m=i*n._clipPopupView.height,f=(n._img.height-m)/2;n._clipCtx.drawImage(n._img,0,f,n._img.width,m,0,0,n._clipPopupView.width,n._clipPopupView.height)}var g=36;if(a&&(g=parseInt(a.substring(0,a.length-2))),o){if(29==h&&(l=u/2-g*o.length/2,c=p/2+g/2),29!=h){var v=g+46,y=(v+g)/2-6,b=c-y,_=l-20,A=g*o.length+20,w=v/2;n.roundRect(_,b,A,v,w),n._clipCtx.fill()}if(n._clipCtx.fillStyle=r?r:"#909090",29==h){var x=.1025*u,T=.1*p,S=.8159*u,E=e.line_height,C=n._clipCtx.measureText(o).width,D=o.split(/(?:\r\n|\r|\n)/);if(D.length<=1&&C>S)for(var P=Math.ceil(C/S),k=o.length,I=Math.floor(S/g),O=0;P>O;O++){var L=I>k-O*I?k-O*I:I,M=o.substr(O*I,L);n._clipCtx.fillText(M,x,(g+E)*(O+1)+T)}else for(var O=0;O<D.length;O++)n._clipCtx.fillText(D[O],0,g*(O+1))}else n._clipCtx.fillText(o,l,c)}n.tapClip()},this._img.crossOrigin="anonymous",this._img.src=v}};e.prototype.getClipArea=function(t,e){t.preventDefault(),t.stopPropagation();var i=e?t.targetTouches[0].pageX:t.clientX,n=e?t.targetTouches[0].pageY:t.clientY,s=this._clipPopupView;if(s){var r=s.getBoundingClientRect();return i=(i-r.left)*(s.width/r.width),n=(n-r.top)*(s.height/r.height),{x:i,y:n}}},e.prototype.tapClip=function(){var e,i,n,s=this,r=t.isPC()?!1:!0,a=r?"touchstart":"mousedown",o=r?"touchmove":"mousemove",l=r?"touchend":"mouseup";s._clipCtx.lineCap="round",s._clipCtx.lineJoin="round",s._clipCtx.lineWidth=2*s.a,s._clipCtx.globalCompositeOperation="destination-out",s._clipPopupView.addEventListener(a,function(c){function h(t){clearTimeout(s.timeout),t.preventDefault(),t.stopPropagation(),e=s.getClipArea(t,r),e&&(i=e.x,n=e.y,s.drawLine(s.x1,s.y1,i,n),s.x1=i,s.y1=n)}clearTimeout(s.timeout),c.preventDefault(),c.stopPropagation(),e=s.getClipArea(c,r),e&&(s.x1=e.x,s.y1=e.y,s.drawLine(s.x1,s.y1),this.addEventListener(o,h),this.addEventListener(l,function(e){e.preventDefault(),e.stopPropagation(),this.removeEventListener(o,h),s.timeout=setTimeout(function(){var e;if(s._clipCtx){e=s._clipCtx.getImageData(0,0,s._clipPopupView.width,s._clipPopupView.height);for(var i=0,n=0;n<e.width;n+=s.distance)for(var r=0;r<e.height;r+=s.distance){var c=4*(r*e.width+n);e.data[c+3]>0&&i++}}if(e){var h=.8;s.clipPercent&&(h=(100-s.clipPercent)/100),h+=t.isPC()?.15:.25,i/(e.width*e.height/(s.distance*s.distance))<h&&(s._clipPopupView.className="noOp",this.removeEventListener(l),this.removeEventListener(o),s._clipPopupView.removeEventListener(a),s.endScript&&t.dispatcher.dispatchEvent(t.createEvent("countdown:over",s.endScript)),s._destroy())}},s.totimes)}))})},e.prototype.drawLine=function(t,e,i,n){var s=this;s._clipCtx.save(),s._clipCtx.beginPath(),2==arguments.length?(s._clipCtx.arc(t,e,s.a,0,2*Math.PI),s._clipCtx.fill()):(s._clipCtx.moveTo(t,e),s._clipCtx.lineTo(i,n),s._clipCtx.stroke()),s._clipCtx.restore()},e.prototype._destroy=function(){this._clipPopupView&&(this.x1=0,this.y1=0,this.a=30,this.timeout=null,this.totimes=100,this.distance=30,this.saveDot=[],this._img=null,this._clipCtx=null,this._container.removeChild(this._clipPopupView),this._clipPopupView=null)},e.prototype.roundRect=function(t,e,i,n,s){this._clipCtx.beginPath(),this._clipCtx.fillStyle="rgba(0,0,0,.5)",this._clipCtx.moveTo(t+s,e),this._clipCtx.arcTo(t+i,e,t+i,e+n,s),this._clipCtx.arcTo(t+i,e+n,t,e+n,s),this._clipCtx.arcTo(t,e+n,t,e,s),this._clipCtx.arcTo(t,e,t+i,e,s),this._clipCtx.closePath()},e.prototype.addAnimation=function(e,i){var n=this._clipPopupView;if(e&&t.Css.addClass(this._clipPopupView,e+" animated"),"undefined"!=i&&i){var s=JSON.parse(i),r=n.style,a=.3;s.delay&&(a=parseFloat(s.delay)+a),r.WebkitAnimationDelay=a+"s",r.animationDelay=a+"s",s.duration&&(r.WebkitAnimationDuration=s.duration+"s",r.animationDuration=s.duration+"s"),s.infinite&&(r.WebkitAnimationIterationCount=s.infinite,r.animationIterationCount=s.infinite)}},t.ClipPopupView=e}(dms),function(t){var e=function(e,i,n,s){var r=this;e.parentNode&&(e=e.parentNode);var a=t.getEventName();this._iframeContainer=e,this._iframeBlurLayer=i,this._iframeBlurLayer.style.WebkitFilter="blur(7px)";var o=n;if(s&&"15"==s){var l=JSON.parse(o);o="http://www.agoodme.com/views/map.html?lng="+l.lng+"&lat="+l.lat+"&zoom="+l.zoom}this._iframeSupernatant||(this._iframeSupernatant=document.createElement("div")),this._iframeSupernatant.className="half-zoom";var c=this._iframeSupernatant.style;c.position="absolute",c.zIndex="100000",c.left="0",c.top="0",c.width="100%",c.height="100%",c.overflow="auto",c.WebkitOverflowScrolling="touch",c.backgroundColor="rgba(0,0,0,.65)";var h=document.createElement("div"),d=h.style;d.position="absolute",d.zIndex="2",d.left="0",d.top="0",d.width="126px",d.height="126px",d.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAV1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC7u7uRkZHs7OycnJwAAADxN0xuAAAAHHRSTlMABidFWm9+hIoKOmqHG1sXYUoYdTOGQ0zQvPDAdFT41AAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAFLSURBVEjHpZfZmoMgDIXB9VSpdevq+7/nWNvOFCcsenInX34hIYGDUpLpJM3yogTKIs/SRKtIO1S1gWWmrg4R4LFZcW+6OQbAUwuntScPqDsDj5nOGXQ/IGBDL5PjOUQC51EiL2HwaZf/5DWOBK475xTmHeNJwIq3j8jQV66+8qyDu2Lb8Le/3TYS6H6rz2xFzacm263kXM/vXrEGb3fZ+X6zPl991Nguj0kip4f9y2bpbLN2miRyNWievV8F3cShakbr8BTSQuq5HISdWbmKIRitEjkpU4AEEpUiwDpIpCqDn3WRyFQOL+skkasCPtZNolAlPKyHRKkAD+shAQYlFkykidgcoiSIQiTKn2g6otWZA4Y41ojDlDnCiYuDua6IS5K5mglBwMgQRvwwkosReoy8ZEQtI6UVIeCXPtr7bFgkzd7HyivomCfSDxqOYr3jUPvqAAAAAElFTkSuQmCC') center no-repeat",$(h).on(a,function(){r._destroy()}),this._myIframe||(this._myIframe=document.createElement("iframe"));$(window).height()-126;this._myIframe.name="showframe",this._myIframe.width="100%",this._myIframe.marginwidth="0",this._myIframe.marginheight="0",this._myIframe.hspace="0",this._myIframe.vspace="0",this._myIframe.frameborder="0",this._myIframe.scrolling="yes",this._myIframe.src=o;var u=this._myIframe.style;u.position="relative",u.height="100%",this._iframeSupernatant.appendChild(h),this._iframeSupernatant.appendChild(this._myIframe),this._iframeContainer.appendChild(this._iframeSupernatant)};e.prototype._destroy=function(){this._iframeSupernatant&&(this._myIframe.src="",this._iframeSupernatant.removeChild(this._myIframe),this._myIframe=null,this._iframeContainer.removeChild(this._iframeSupernatant),this._iframeBlurLayer.style.WebkitFilter="blur(0)",this._iframeSupernatant=null)},t.IframePopupView=e}(dms),function(t){var e=function(e,i,n){e.parentNode&&(e=e.parentNode);var s=t.getEventName();this.__container=e,this.__blurLayer=i,this.__blurLayer.style.WebkitFilter="blur(7px)",n=n.replace("width=","width='100%'  ").replace("width:","width:100%; ").replace("&lt;","<").replace("&gt;",">");var r=this;this._supernatant||(this._supernatant=document.createElement("div")),this._supernatant.className="half-zoom";var a=this._supernatant.style;a.position="absolute",a.zIndex="100000",a.left="0",a.top="0",a.width="100%",a.height="100%",a.backgroundColor="rgba(0,0,0,.65)";var o=document.createElement("div"),l=o.style;l.position="absolute",l.left="34px",l.top="34px",l.width="58px",l.height="58px",l.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAV1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC7u7uRkZHs7OycnJwAAADxN0xuAAAAHHRSTlMABidFWm9+hIoKOmqHG1sXYUoYdTOGQ0zQvPDAdFT41AAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAFLSURBVEjHpZfZmoMgDIXB9VSpdevq+7/nWNvOFCcsenInX34hIYGDUpLpJM3yogTKIs/SRKtIO1S1gWWmrg4R4LFZcW+6OQbAUwuntScPqDsDj5nOGXQ/IGBDL5PjOUQC51EiL2HwaZf/5DWOBK475xTmHeNJwIq3j8jQV66+8qyDu2Lb8Le/3TYS6H6rz2xFzacm263kXM/vXrEGb3fZ+X6zPl991Nguj0kip4f9y2bpbLN2miRyNWievV8F3cShakbr8BTSQuq5HISdWbmKIRitEjkpU4AEEpUiwDpIpCqDn3WRyFQOL+skkasCPtZNolAlPKyHRKkAD+shAQYlFkykidgcoiSIQiTKn2g6otWZA4Y41ojDlDnCiYuDua6IS5K5mglBwMgQRvwwkosReoy8ZEQtI6UVIeCXPtr7bFgkzd7HyivomCfSDxqOYr3jUPvqAAAAAElFTkSuQmCC')",$(o).on(s,function(){r._destroy()});var c=document.createElement("div");c.id="videoDiv";var h=c.style;h.width="100%",h.WebkitTransform="translate(-50%,-50%)",h.transform="translate(-50%,-50%)",h.position="relative",h.top="50%",h.left="50%",h.textAlign="center",c.innerHTML=n,this._supernatant.appendChild(o),this._supernatant.appendChild(c),this.__container.appendChild(this._supernatant)};e.prototype._destroy=function(){if(this._supernatant){this.__container.removeChild(this._supernatant),this.__blurLayer.style.WebkitFilter="blur(0)",this._supernatant=null;var e=t.createEvent(t.OTHER_AUDIO_END,"iframe");t.dispatcher.dispatchEvent(e)}},t.IframeVideoPlayer=e}(dms),function(t){var e=function(t,e){this.__container=t;var i=e.item_val,n=e.item_val_sub,s=e.item_width,r=e.item_height,a=e.ext_attr,o=e.font_size,l=e.item_color;n=JSON.parse(n);var c="";for(var h in n)c=n[h];var d=document.createElement("div"),u=d.style;u.position="relative",u.width="32px",u.height=r+"px",u.float=a;var p=document.createElement("div"),m=p.style;m.position="absolute",m.zIndex=2,m.width="100%",m.height="100%",m.background="url("+c+") no-repeat center";var f=document.createElement("div"),g=f.style;g.position="absolute",g.zIndex=1,g.width="32px",g.height="32px",g.top="calc(50% - 16px)",g.left="calc(50% - 16px)",g.top="-webkit-calc(50% - 16px)",g.left="-webkit-calc(50% - 16px)",g.background="rgba(0, 0, 0, 0.7)",g.margin="0 auto",g.WebkitAnimationName="player-button",g.WebkitAnimationDuration="1.6s",g.WebkitAnimationIterationCount="infinite",g.WebkitAnimationTimingFunction="linear",g.borderRadius="100%";
var v=document.createElement("div");v.innerHTML=i;var y=v.style;y.width=s-33+"px",y.height=r+"px",y.fontSize=o,y.lineHeight=r+"px",y.textAlign="center",y.color=l,y.border="none","left"==a?(y.float="right",v.className="label-text-left",y.borderBottomRightRadius="10px",y.borderTopRightRadius="10px"):"right"==a&&(y.float="left",v.className="label-text-right",y.borderBottomLeftRadius="10px",y.borderTopLeftRadius="10px"),this.__container.appendChild(d),d.appendChild(p),d.appendChild(f),this.__container.appendChild(v)};t.LabelCreator=e}(dms),function(t){var e=function(e,i,n,s){this.__container=e;var r=this;this._supernatantDiv||(this._supernatantDiv=document.createElement("div"));var a=t.getEventName(),o=this._supernatantDiv.style;o.position="absolute",o.zIndex="100000",o.left="0",o.top="0",o.width="100%",o.height="100%",o.backgroundColor="rgba(0,0,0,.4)";var l=document.createElement("div"),c=l.style;c.position="relative",c.width="460px",c.height="246px",c.margin="0 auto",c.top="38%",c.background="#FFFFFF",c.borderRadius="12px";var h=document.createElement("div");h.innerHTML=i;var d=h.style;d.fontSize="32px",d.textAlign="center",d.color="#000",d.width="100%",d.height="171px",d.lineHeight="171px",d.position="absolute",d.top="0";var u=document.createElement("div");u.innerHTML=n||"确认";var p=u.style;p.position="absolute",p.bottom="0",p.fontSize="28px",p.textAlign="center",p.color="#005BFF",p.width="100%",p.height="75px",p.lineHeight="75px",p.border="none",p.borderTopWidth="1px",p.borderTopStyle="solid",p.borderTopColor="#D3D3D7",p.background="transparent",p.outline="0",p.WebkitUserSelect="none",p.userSelect="none",p.boxSizing="border-box",p.borderBottomRightRadius="12px",p.borderBottomLeftRadius="12px",p.letterSpacing="2em",p.paddingLeft="55px",$(u).on(a,function(t){t.stopPropagation(),t.preventDefault(),$(this).blur(),r._destroy(),s&&s()}),l.appendChild(h),l.appendChild(u),this._supernatantDiv.appendChild(l),this.__container.appendChild(this._supernatantDiv)};e.prototype._destroy=function(){this._supernatantDiv&&(this.__container.removeChild(this._supernatantDiv),this._supernatantDiv=null)},t.MsgBox=e}(dms),function(t){var e=function(e,i){this.__container=e;var n=this,s=i.item_width,r=i.item_height;this.myPhotosSwipe=null,this._photosWrapper||(this._photosWrapper=document.createElement("div")),this._photosWrapperId="photos-swipe"+t.getNewID(),this._photosWrapper.id=this._photosWrapperId;var a=this._photosWrapper.style;a.overflow="hidden",a.width=s+"px",a.height=r+"px",a.position="relative",a.visibility="hidden",a.position="absolute",a.zIndex="-1",this.photosScroller=document.createElement("div");var o=this.photosScroller.style;o.overflow="hidden",o.height="100%",o.position="relative",this._photosDot||(this._photosDot=document.createElement("div"));var l=this._photosDot.style;l.width="100%",l.position="absolute",l.textAlign="center",l.height="15px",l.overflow="hidden",l.lineHeight="15px",l.zIndex="6";var c=$(window).width(),h=30;c>640&&828>c?h=45:c>=828&&(h=53),l.bottom=h+"px",this._photosDotId="photos-dot"+t.getNewID(),this._photosDot.id=this._photosDotId,this.photosDotUl=document.createElement("div");var d=this.photosDotUl.style;d.width="100%",d.height="15px",d.textAlign="center",this._photosWrapper.appendChild(this.photosScroller),this.__container.appendChild(this._photosWrapper),this._photosDot.appendChild(this.photosDotUl),this.__container.appendChild(this._photosDot),this.loadPhotosData(i),t.dispatcher.on("restart:photo:swipe:handle",function(t){t.stopPropagation(),t.preventDefault(),n.killPhotosSwipe(),n.photosDataLoaded()})};e.prototype.loadPhotosData=function(t){for(var e=this,i=[],n=[],s=t.item_val,r=t.item_href,a=t.item_width,o=t.item_height,l=s.split("|"),c=r.split("@"),h=l.length,d=0,u=0;h>u;u++){var p=l[u],m="",f="",g=new Image;g.__index=u,g.onload=function(){var t=c[this.__index];m="undefined"!=t&&""!=t&&null!=t&&" "!=t?"<img style='float:left; width: "+a+"px;  height: "+o+"px; position: relative;' data-item-href="+t+" src="+this.src+" />":"<img style='float:left; width: "+a+"px;  height: "+o+"px;  position: relative;' src="+this.src+" />",i[this.__index]=m,f=0==d?"<span style ='width: 15px; height: 15px; box-sizing: border-box;margin-left: 15px; border-radius: 100%; background: rgba(255,255,255,.5); border : 1px solid rgba(0,0,0,.5); list-style: none; display: inline-block;' class='photos-on' ></span>":"<span style ='width: 15px;height: 15px; box-sizing: border-box; margin-left: 15px; border-radius: 100%; background: rgba(255,255,255,.5); border : 1px solid rgba(0,0,0,.5); list-style: none; display: inline-block;'></span>",d++,n.push(f),h==d&&(e.photosScroller.innerHTML=i.join(""),e.photosDotUl.innerHTML=n.join(""),e.photosDataLoaded())},g.src=p}},e.prototype.photosDataLoaded=function(){var t=this,e=$(this.photosDotUl).find("span");setTimeout(function(){t.myPhotosSwipe=new Swipe(t._photosWrapper,{startSlide:0,speed:800,auto:2e3,continuous:!0,disableScroll:!1,stopPropagation:!1,callback:function(t){for(var i=e.size();i--;)e.get(i).className="";e.get(t)&&(e.get(t).className="photos-on")}})},100)},e.prototype.killPhotosSwipe=function(){if(this.myPhotosSwipe){for(var t=$(this.photosDotUl).find("span"),e=0;e<t.length;e++)t[e].className="";t[0].className="photos-on",this.myPhotosSwipe.kill(),this.myPhotosSwipe=null}},e.prototype.destroy=function(){this._photosWrapper&&(t.dispatcher.removeAllEventListeners("restart:photo:swipe:handle"),this.myPhotosSwipe&&this.myPhotosSwipe.kill(),this.myPhotosSwipe=null,this.__container.removeChild(this._photosWrapper))},t.PhotoSwipe=e}(dms),function(t){var e=function(e,i){this.__container=e;var n=null;try{n=JSON.parse(i.item_val)}catch(s){return void console.log(s.name+": "+s.message)}if(null!=n){var r=n.title,a=n.options,o=i.bg_color,l=i.bd_color||"#000000",c=i.bd_style||"solid",h=i.item_border,d=i.item_color,u=i.font_size,p=i.fb_field,m=i.objectId,f=document.createElement("div");f.innerHTML=r;var g=f.style;g.width="100%",g.height="100px",g.background=o,g.fontSize=u,g.color=d,g.lineHeight="100px",g.paddingLeft="10px",g.boxSizing="border-box",this.__container.appendChild(f);for(var v=a.length,y="radio"+t.getNewID(),b=0;v>b;b++){var _=document.createElement("div"),A=_.style;A.width="100%",A.height="87px",A.fontSize=u,A.color="#000",A.lineHeight="87px",A.paddingLeft="10px",A.boxSizing="border-box",A.verticalAlign="middle",h&&b!=v-1&&(A.borderBottom=h+"px "+c+" "+l);var w="radio"+t.getNewID(),x=document.createElement("input");x.setAttribute("data-type","common-check-radio"),x.type="radio",x.name=y,x.value=a[b],x.id=w;var T=x.style;T.display="none",x.setAttribute("data-radio","user-radio"),x.setAttribute("data-objectId",m),p&&x.setAttribute("data-fb-field",p);var S=document.createElement("label");S.innerText=a[b],S.setAttribute("for",w),S.setAttribute("data-type","common-label");var E=S.style;E.display="inline-block",E.width="80%",E.height="100%",_.appendChild(x),_.appendChild(S),this.__container.appendChild(_)}}};t.RadioCreator=e}(dms),function(t){var e=function(e,i,n){this.__container=e;var s=this;this.startPlay=!0;var r=t.getEventName(),a=i.item_href;this._videoDiv||(this._videoDiv=document.createElement("div"));var o=this._videoDiv.style;o.position="absolute",o.zIndex="1000000",o.width="100%",o.height="100%",this._video||(this._video=document.createElement("video"));i.item_width,i.item_height;this._video.width=i.item_width,this._video.height=i.item_height,this._video.setAttribute("id","vjs_video_1"),this._video.preload="auto",this._video.controls="controls",this._video.setAttribute("x-webkit-airplay","true"),this._video.setAttribute("webkit-playsinline","true");var l=i.item_val;l&&(this._video.poster=l,this._video.setAttribute("poster",l),this._video.setAttribute("autobuffer","Autobuffer")),this.endScript=i.animate_end_act;var c=this._video.style;c.position="absolute",c.zIndex="1";var h=document.createElement("source");h.src=a,h.type="video/mp4";var d=document.createElement("div");d.setAttribute("id","playPauseDiv");var u=d.style;u.position="absolute",u.zIndex="2",u.width="70px",u.height="70px",u.left="0",u.bottom="0";var p=document.createElement("div");p.setAttribute("id","fullScreenDiv");var m=p.style;m.position="absolute",m.zIndex="2",m.width="70px",m.height="70px",m.right="0",m.bottom="0",this._video.appendChild(h),this._videoDiv.appendChild(this._video),this._videoDiv.appendChild(d),this._videoDiv.appendChild(p),this.pauseDiv=document.createElement("div");var f=this.pauseDiv.style;f.position="absolute",f.display="none",f.zIndex="1000003",f.width="100%",f.height="100%",l&&(f.backgroundImage='url("'+l+'")',f.backgroundPosition="center",f.backgroundSize=n,f.backgroundRepeat="no-repeat");var g=document.createElement("div"),v=g.style;v.position="relative",v.zIndex="1",v.width="100%",v.top="0",v.left="0",v.height="100%",v.background="rgba(0,0,0,.65)";var y=document.createElement("div");y.setAttribute("id","replayBtn");var b=y.style;b.position="absolute",b.zIndex="3",b.width="88px",b.height="88px",b.top="50%",b.left="50%",b.transform="translate(-50%, -50%)",b.transform="-webkit-translate(-50%, -50%)",b.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACBCAMAAADQfiliAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACkVBMVEUAAAD////////////5+fns7Ozs7Ozv7+/09PT4+Pj////////////5+fns7Oz+/v7g4OC4uLiRkZFwcHBWVlZDQ0MtLS0gICATExMQEBD////7+/vt7e39/f3j4+Ojo6NlZWU0NDQJCQkAAAD29vby8vL29vavr69iYmIaGhr////9/f3w8PD29vampqZNTU0HBwf////y8vL6+vrOzs5jY2MLCwv////x8fH8/PyoqKgzMzP////x8fH7+/uYmJgeHh709PSenp78/Pz29vbExMQuLi7x8fHu7u78/Pz5+fmfn5/////v7+9LS0v////09PS7u7sXFxf8/Pz5+fmBgYECAgL19fX19fVMTEz////x8fHp6ekwMDDx8fHY2NgbGxv////y8vLOzs7JyckPDw8XFxdvb2+VlZWZmZmBgYE3Nzdqamrk5OTs7Oy6uro0NDRaWlrr6+vp6emhoaEcHBzW1tbg4OCOjo5/f3/Gxsbj4+OLi4sJCQk4ODhlZWXV1dXZ2dltbW0xMTHExMQGBgaCgoLg4ODKyspOTk67u7sVFRWcnJzn5+e1tbUuLi6ysrKgoKAZGRlKSkrJycnh4eGFhYUHBwfX19dpaWmHh4fGxsZISEgrKysxMTG3t7ebm5tPT0/Y2NjU1NRkZGRERESjo6Ourq4pKSk1NTXm5uaZmZkSEhJTU1POzs7e3t59fX1ycnLa2trS0tJfX18NDQ2Pj4/BwcE/Pz8fHx+mpqbq6uqsrKwkJCQ6Ojq8vLzm5uaTk5MQEBBZWVnNzc3d3d15eXkEBAR4eHjb29vQ0NAODg6RkZG+vr47Ozurq6upqak/Pz+/v79eXl6enp7d3d0eHh6/v7+rq6uXl5cAAACejrBqAAAA2nRSTlMACR0sO05ZYmhrbgUeOFZuamtubm5ubm5ubhU2Wm5qbW5ubm49ZWxsbm4GLl9tbW5uDkNsa25uEk1tbW4PTG1ubj5tKGlsblVsKmttB2xuE2NtbiZsbm44bW4CSWxuUmxuBFVsbW5zipeZkHqJu8CmeoS/vpx0tLmVj6u6k3B7h7O1iXmrb5C6roCmc5q+pHijm3N/rbqScLSIkqx/eHqlmoG2soZ+naF3er2YcoKvuI6LtrKFcZWpfXWevqB2e6i8lnKDsLeOb423sXKWqHyfnnyohZu4damgmBCGal4AAAABYktHRACIBR1IAAAACXBIWXMAAAsSAAALEgHS3X78AAAFkElEQVR42s2c92MURRTHN/3S2yW5S09eer/US7v03tuRnpCAKOLSxAbYQlNEAUVQsaBYEDt2BLFGxV5Q/xt37hLJJXe3s7OzzHx/yf0we+9zs7Ozb16JIJDIw9PL28fXT+cfgOSv8/P18fby9CD6LsUKDAoO0YWGhUdE6qOiYwxGo9EQEx2lj4wIDwvVhQQHBWprPjYuPiExKTklFZwpNSU5KTEhPi5WM/Np6RmZWdngXtlZmRnpaRpA5OTm5RcUFgGOigoL8vNyc6jaNxWXlJaVY5m3q7ystKTYRM1+hbmyqlqBebuqqyrNFVTs19Ra6uoV20eqr7PU1qi2n9NgaSSzb2NotDSoXA9NzS2txPaRWluam1TYN7W161XZR9K3txEvyY7OLqNqAABjV2cHkf1uc08vBftIvT3mbuUAff0Dg5QAAAYH+vuUAgwNj1ipAQBYR4aHlAGsGx2jaB9pbHSdAvvjE5NTlAEApiYnxrEBpmdmqQMAzM5MYyKsn5s3aAAAYJifW481A3MbNmoCALBxwxzGLIxPz2sFICHMY9yIiRltboFdhpkJ2cdwUotFeF2zkzIP5dAo/cfQUVOjbremvmHaG9FajQ272aC7+0c0BwAY6Xf9mjIP0HwXuJJ1wOwKoKOH3tvQnQZ7XPgLpk5a/oCcejude01tXTcIAKCrzRlAUzsNlwxPxnYn7mtOs3qnFF/65rVOfEPLDQQAaGlYDVBjUXcuUKpWy+rTVG0jxmU3bbr5ls230kForHUEqLBgHM223CYibd1Gg6De4nisNdfJX7N9h2jXztt3UUCoc9gZTZUYU3CHKN551933IIbde/aqn4TKldtScZX8FbukH3+v9Pe++xHDAw+qfoVUFa/YC0owAhQLorjP9mH/gYOI4dBDKgmqS67vCbmlGBdsE8WHlz4efuQIYnh0QR1Cae7/BHllyggAHjtqW5LHjqshKMtbBojNxwlSORAAPP4EYjjx5ElygvL85aBfWgHO+FUE0vZwCjGceoocoSBtiSC9kIgATj59AjE8c5qUoDB96SZkYAUq1xIAHD+2EzEcfZaMoCjDfhviMrGGOyMAeO55hHDkhcNECJlxNoL4LBUEAGcOIYaDB/YTEGTFI4DABLlgtXsCsG56ETG8dFY5QXYCSgYEJeKNdkkAsHfPbsSw72XFCIlBEkFwkmoC6aXxClqSO159TSFBUrBEEJJMgQDg3FY0Da+ff0MRQXKIRKBLoUIA8OZbiOHtd5QsyRSdlLQKTcUbLEsA1nffQwwX3scnSA31EDzDMAfLEwB88KHNkfvoY2yEME/BK5wiAcAnn15ES/KzS5jfGu4leEdQJQC4/DmahitffIn1rRHegk8kZQKAr75GDN98u4gxNtJH8MU9rOETwOJ33yOGH7bLD9X7Cn5R9AkArv54BTH89LPcwCg/QRetBQHApV/Qkrz4q4wfF60T/GO0IQD47Xfb7uAeIcZfCMANYComAPjjgoTwp9shhgAhADduQUAAi+dF8S+3I4waE8A1aRKYEuDNAfN1oOGz8Dfes8B+P9B2T7wsN1DaE9m/F9i/G9n7B9r4SP8o8JGo+olXSfxE9r4y+/MC5TPTvwRnJirnxmtqzo3sz87s4weUYiibyWMo6uJICzTiSOxjaezjiSpjqltI7a+IqRLFlU/TjCuzj61zkF8gy7GcUWffIceiKM90Vos8Ewe5Nvb5RmU513MU7K/JubLPO3OQe2dff8BBDQb7OhQOanE4qEdiX5PFQV0aB7V57OsTOajR5KBOlYNaXQ7qldnXbHNQt85B7T4H/QsC+x4OgYM+Fg56eTjoZxLY93QJHPS1Cex7+wQO+hsF9j2eSKz7XJFY9/oise53tolxz/cSBNu+d7sY9/4vi+b/P/gPvWFgn17yT0wAAAAASUVORK5CYII=') center no-repeat",b.backgroundSize="cover",g.appendChild(y),this.pauseDiv.appendChild(g),this.endDiv=document.createElement("div");var _=this.endDiv.style;_.position="absolute",_.display="none",_.zIndex="1000005",_.width="100%",_.height="100%",l&&(_.backgroundImage='url("'+l+'")',_.backgroundPosition="center",_.backgroundSize=n,_.backgroundRepeat="no-repeat");var A=document.createElement("div"),w=A.style;w.position="relative",w.zIndex="1",w.width="100%",w.top="0",w.left="0",w.height="100%",w.background="rgba(0,0,0,.65)";var x=document.createElement("span");x.innerHTML="重新开始",x.setAttribute("id","endSpan");var T=x.style;T.position="absolute",T.zIndex="3",T.display="inline-block",T.padding="0 20px",T.top="50%",T.left="50%",T.transform="translate(-50% ,-50%)",T.transform="-webkit-translate(-50% ,-50%)",T.height="70px",T.fontSize="30px",T.textAlign="center",T.borderRadius="20px",T.background="#1b1b1b",T.lineHeight="70px",T.color="#fff",T.letterSpacing="5px",A.appendChild(x),this.endDiv.appendChild(A),this.__container.appendChild(this._videoDiv),this.__container.appendChild(this.pauseDiv),this.__container.appendChild(this.endDiv),$("#playPauseDiv").on(r,function(){s._video.paused?s.play():s.pause()}),$("#fullScreenDiv").on(r,function(){s._video.requestFullscreen?s._video.requestFullscreen():s._video.mozRequestFullScreen?s._video.mozRequestFullScreen():s._video.webkitRequestFullscreen?s._video.webkitRequestFullscreen():s._video.msRequestFullscreen&&s._video.msRequestFullscreen()}),$("#replayBtn").on(r,function(t){t.stopPropagation(),t.preventDefault(),s.play()}),$(A).on(r,function(t){t.stopPropagation(),t.preventDefault(),s.play()}),A.addEventListener(r,function(t){t.stopPropagation(),t.preventDefault(),s.play()}),s.endDiv.addEventListener(r,function(t){t.stopPropagation(),t.preventDefault(),s.play()}),this._video.addEventListener("ended",function(){s.endDiv.style.display="block";var e=t.createEvent(t.OTHER_AUDIO_END,"");t.dispatcher.dispatchEvent(e),s.endScript&&t.dispatcher.dispatchEvent(t.createEvent("countdown:over",s.endScript))}),this._video.addEventListener("loadedmetadata",function(){}),$(this._video).on(r,function(t){t.stopPropagation(),t.preventDefault(),s.startPlay&&(s.play(),s.startPlay=!1)}),this._video.addEventListener("loadstart",function(){}),this._video.addEventListener("play",function(){var e=t.createEvent(t.VIDEO_PLAY,"");t.dispatcher.dispatchEvent(e)},!1),t.dispatcher.on(t.MANI_AUDIO_PLAY,this.pause.bind(this)),t.dispatcher.on(t.OTHER_AUDIO_PLAY,this.pause.bind(this)),t.dispatcher.on(t.SWIPE_TOUCH_END,this.pause.bind(this))};e.prototype.play=function(){$(this.pauseDiv).hide(),$(this.endDiv).hide(),this._video.play()},e.prototype.pause=function(){this._video.paused||(this.pauseDiv.style.display="block",this._video.pause())},e.prototype.destroy=function(){this._videoDiv&&(this._video&&(this._video.pause(),this._video.src="",this._videoDiv.removeChild(this._video)),this.__container.removeChild(this._videoDiv),this.__container.removeChild(this.pauseDiv),this.__container.removeChild(this.endDiv),this._videoDiv=null,t.dispatcher.removeAllEventListeners(t.MANI_AUDIO_PLAY),t.dispatcher.removeAllEventListeners(t.OTHER_AUDIO_PLAY),t.dispatcher.removeAllEventListeners(t.SWIPE_TOUCH_END))},t.VideoPlayer=e}(dms),function(){function t(t,i){var n=document.createElement("div"),s=n.style;s.position="absolute",s.width="100%",s.height="inherit",n.innerHTML=e,t.appendChild(n);var r=n.querySelector(".bottom-left-lrc"),a=n.querySelector(".bottom-left-mask-lrc");a.style.color=i.singing_color;var o=n.querySelector(".bottom-right-lrc"),l=n.querySelector(".bottom-right-mask-lrc");l.style.color=i.singing_color;var c=0;return function(e,i,s,h){if(h)t.removeChild(n);else{var d=s._lrcPlayer;if(2==c||0==c){r.innerHTML=e,a.innerHTML=e;var u=d.lines[i.curLine]&&d.lines[i.curLine].txt;u?(o.innerHTML=u,l.innerHTML=u):(o.innerHTML="",l.innerHTML=""),c=0,a.style.width=0,l.style.width=0}var p,m;0==c&&e?(p=r.offsetWidth,m=p*(1e3*s.getTime()-i.lines[i.curLine-1].time)/(i.lines[i.curLine].time-i.lines[i.curLine-1].time),a.style.width=m+"px",$(a).animate({width:p},i.lines[i.curLine].time-1e3*s.getTime())):1==c&&e&&(p=o.offsetWidth,i.lines[i.curLine]?(m=p*(1e3*s.getTime()-i.lines[i.curLine-1].time)/(i.lines[i.curLine].time-i.lines[i.curLine-1].time),l.style.width=m+"px",$(l).animate({width:p},i.lines[i.curLine].time-1e3*s.getTime()-100),l.style.left=o.offsetLeft+"px"):$(l).animate({width:p},2e3)),c++}}}var e="<div style='width: 100%;position: absolute;height: 50%;'><span class='bottom-left-lrc'style='position: absolute;left: 0;z-index: 0;overflow: hidden;word-break:keep-all;white-space:nowrap;'></span><span class='bottom-left-mask-lrc' style='position: absolute;left: 0;z-index: 1;overflow: hidden;word-break:keep-all;white-space:nowrap;'></span></div><div style='width: 100%;position: absolute;height: 50%;bottom: 0;text-align: right'><span class='bottom-right-lrc' style='position: absolute;right: 0;z-index: 0;overflow: hidden;word-break:keep-all;white-space:nowrap;'></span><span class='bottom-right-mask-lrc' style='left: 0;z-index: 1;overflow: hidden;word-break:keep-all;white-space:nowrap;position:absolute'></span></div>";window.LrcBottomAnimation=t}(),function(){function t(t,e){var i=document.createElement("div");i.style.position="absolute",i.style.top="100%",i.style.textAlign="center",i.style.width="100%",i.style.height=e.font_size+"px",i.style.webkitTransform="translateY(-100%)",i.style.transform="translateY(-100%)",i.className="clipLeftLrc",t.appendChild(i);{var n;parseInt(e.font_size),t.clientHeight}return function(t,e,s,r){r?n=null:(n!=e.lines&&(n=e.lines),""!=t&&(i.style.display="none",i.innerHTML=t,setTimeout(function(){i.style.display="block"},20),console.log("当前行="+e.curLine+"："+t)))}}window.LrcOneRowAnimation=t}(),function(){function t(t,e){var i=document.createElement("div");i.style.position="absolute",i.style.top="100%",i.style.textAlign="center",i.style.width="100%",i.style.height=e.font_size+"px",i.style.fontSize=e.font_size+"px",i.style.webkitTransform="translateY(-100%)",i.style.transform="translateY(-100%)",i.className="fadeLrc",t.appendChild(i);var n;return function(t,e,s,r){r?n=null:(n!=e.lines&&(n=e.lines),""!=t&&(i.style.display="none",i.innerHTML=t,setTimeout(function(){i.style.display="block"},20),console.log("当前行="+e.curLine+"："+t)))}}window.LrcOneRowFadeAnimation=t}(),function(){function t(t,e){var i=document.createElement("div"),n=i.style;n.width="100%",n.position="absolute",n.textAlign="center";var s;t.appendChild(i);var r=parseInt(e.font_size),a=t.clientHeight,o=r+3,l=r/2+o,c=parseInt(a/l),h=1*a/c,d=parseInt(c/2)*h;return console.log("####="+a,l,d,h,c),function(t,r,a,o){if(o)s=null;else{if(s!=r.lines){s=r.lines;var l="";n.top=d+"px";for(var c=0;c<s.length;c++){var h=s[c];l+="<div style='margin:0 auto;'><span style='text-align:center;overflow: hidden;word-break:keep-all;line-height: "+e.font_size+"'>"+h.txt+"</span><span style='width:0px;overflow: hidden;word-break:keep-all;text-align:center;line-height:"+e.font_size+";white-space:nowrap;position: absolute;z-index: 1;color:"+e.singing_color+"'>"+h.txt+"</span></div>"}i.innerHTML=l}if(1==r.curLine){var u=$(i).children("div")[r.lines.length-1];u=$(u);{u.find("span")[1].style.opacity=0}}if(r.curLine-2>=0){var u=$(i).children("div")[r.curLine-2];u=$(u);{u.find("span")[1].style.opacity=0}}var p=$(i).children("div")[r.curLine-1],m=$(p).find("span"),f=m[0],g=m[1],v=f.offsetLeft,y=f.offsetTop;g.style.opacity=1,g.style.left=v+"px",g.style.top=y+"px";var b,_;r.lines[r.curLine]?(b=f.offsetWidth,_=b*(1e3*a.getTime()-r.lines[r.curLine-1].time)/(r.lines[r.curLine].time-r.lines[r.curLine-1].time),g.style.width=_+"px",$(g).animate({width:b},(r.lines[r.curLine].time-1e3*a.getTime())/2)):(b=f.offsetWidth,$(g).animate({width:b},2e3)),console.log("******************************************************************************"),$(i).animate({top:d-y},200)}}}window.LrcScrollAnimation=t}(),function(){function t(t,e){var i=document.createElement("div"),n=document.createElement("div"),s=i.style,r=n.style;s.width="100%",s.position="absolute",s.textAlign="center",s.top=0,r.width="100%",r.position="absolute",r.textAlign="center";var a;t.appendChild(i),t.appendChild(n);var o=parseInt(e.font_size),l=t.clientHeight;return console.log(l-o),r.top=l-o+"px",function(t,e,s,r){r?a=null:(a!=e.lines&&(a=e.lines),i.innerHTML=a[e.curLine-1].txt,n.innerHTML=a[e.curLine].txt,i.className="clipLeftLrc",n.className="clipLeftLrc",console.log("当前行="+e.curLine+"："+a[e.curLine-1].txt))}}window.LrcSliderLeftAnimation=t}(),dms.AnimateSprite.createObject=function(t,e){var i=new dms.AnimateSprite;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.AnimateSprite.prototype.resetAttribute=function(){dms.ImageSprite.prototype.resetAttribute.call(this);var t=this.userData;this.imageRect=t.image_rect},function(t){t.ParseAnimation=function(e,i,n){var s=(e.contentElement,["blurALittle"]);if(-1==s.indexOf(i)){i+="";var r;if(0==i.indexOf("[")&&i.indexOf("]")==i.length-1){var a=t.toJSON(i);r=[],"undefined"!=n&&n&&(r=t.toJSON(n)),e._animationNames=a,e._animationVals=r,e.playCSSAnimation(0)}else"undefined"!=n&&n&&(r=t.toJSON(n)),e._animationNames=[i],e._animationVals=[r||{}],e.playCSSAnimation(0)}}}(dms),dms.Audio.createObject=function(t,e){var i=new dms.Audio;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Audio.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);var t=this;if(this.userData){var e=this.userData,i=this.contentElement;i.style.width="62px",i.style.height="62px",i.style.borderRadius="100%",i.style.border="2px solid #fff";var n=e.item_val,s=e.data_for;s&&(n=this.userProperties.item_val),i.style.background='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaAgMAAADK7ZTuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAAD///8AAABzxoNxAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAARSURBVAjXYwhlYGAIZRiUJABDnxFF8v/L5gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNi0wMS0yMFQxNDo0MTo0NCswODowMLxKhIoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTYtMDEtMjBUMTQ6NDE6NDQrMDg6MDDNFzw2AAAAAElFTkSuQmCC") no-repeat center rgba(0,0,0,.5)';var r=this._playAudio.style;this._playAudio.setAttribute("src",n),this._playAudio.setAttribute("preload","preload"),this._playAudio.setAttribute("play-status","play-normal"),r.width="100%",r.height="100%",r.position="absolute",r.zIndex="2";var a=e.music_autoplay;this.endScript=e.animate_end_act,a&&(dms.isIOS()?t._playAudio.addEventListener("loadstart",function(){t.changePlayStatus(),t._playAudio.play()}):t._playAudio.addEventListener("canplaythrough",function(){a&&(t.changePlayStatus(),t._playAudio.play())}))}},dms.Button.createObject=function(t,e){var i=new dms.Button;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Button.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);if(this.userData){var t=this.userData,e=this.contentElement,i=t.font_size,n=t.item_color,s=~~t.item_width||0,r=~~t.item_height||0,a=e.style,o=t.item_val,l=t.font_family;a.fontSize=i;var c=t.item_cntype;2==c?a.background="url('"+o+"') no-repeat center":e.innerHTML=o;var h="mid"==t.font_halign?"center":t.font_halign,d=h||"center";a.textAlign=d;var u=t.font_style,p=t.text_decoration;u&&(a.fontStyle=u),p&&(a.textDecoration=p),s&&(a.width=s+"px"),r&&(a.height=r+"px"),a.fontFamily=dms.CloundFont.loadFont(o,l),a.lineHeight=r+"px",a.letterSpacing=t.font_dist+"px",a.textShadow=t.font_frame?"0px 0px "+t.frame_pixes+"px "+t.frame_color:"none",a.whiteSpace=0===s?"pre":"pre-wrap",a.fontWeight=t.font_weight||"";var m=t.bg_color,n=t.item_color;m&&(a.backgroundColor=m),n&&(a.color=n)}},dms.Clip.createObject=function(t,e){var i=new dms.Clip;return i.userData=t,ROSetItemId.call(i,t,e),this._clipPopupView=null,i},dms.Clip.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);if(this.userData){var t=this.userData,e=t.data_for,i="";e&&(i=this.userProperties.item_val);{this.contentElement}this._clipPopupView||(this._clipPopupView=new dms.ClipPopupView(this.parent.element,t,i))}},dms.DateCountdown.createObject=function(t,e){var i=new dms.DateCountdown;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.DateCountdown.prototype.resetAttribute=function(){dms.Text.prototype.resetAttribute.call(this);if(this.userData){var t=this.userData,e=this.contentElement,i=e.style;i.overflowY="hidden",this.endScript=t.animate_end_act;var n=(this.stage||this.parent.stage,t.item_val),s=(t.auto_play,t.data_for);if(s){var r=this.userProperties.item_type;n=7==r||8==r?this.userProperties.item_val_sub:this.userProperties.item_val}var a=new Date(n),o=a.getTime();o=o?a.getTime():14509728e5,this.timestamp=Math.floor((o-(new Date).getTime())/1e3),e.innerHTML=this.returnFormattedToDate2(o),this.startDate()}},dms.Disorderly.createObject=function(t,e){var i=new dms.Disorderly;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Disorderly.prototype.resetAttribute=function(){if(dms.RenderObject.prototype.resetAttribute.call(this),this.userData){var t=this.userData,e=this._text,i=this.element,n=t.font_size,s=t.item_color,r=~~t.item_width||0,a=~~t.item_height||0,o=t.item_val_sub||"0",l=(t.item_type,e.element.style),c=t.item_val,h=t.font_family,d=parseInt(n);e.fontSize=n;for(var u=c.split(/(?:\r\n|\r|\n)/),p="",m=0;m<u.length;m++)p+=this.disorderlyTxt(u[m],o)+"\n";p=p.replace(/\n/g,"<br/>"),e.htmlText=p;var f="mid"==t.font_halign?"center":t.font_halign,g=f||"left";e.textAlign=g;var v=t.font_style,y=t.text_decoration;v&&(l.fontStyle=v),y&&(l.textDecoration=y);var b=t.bg_color;if(b&&(l.backgroundColor=b),r&&(e.textWidth=t.item_width-1),a&&(e.textHeight=t.item_height),h&&(e.fontFamily=dms.CloundFont.loadFont(c,h)),dms.isJsonObject(s)){var _=dms.toJSON(s);e.textColor=_.colors[0]}else e.textColor=s;0!=r&&0!=a&&(e.element.style.overflow="hidden",e.element.style.overflowY="auto");var A=t.line_height;0!=A&&(u.length>=1&&0==a?l.lineHeight=A+d+"px":0!=r?0!=a&&a>A+d?l.lineHeight=A+d+"px":0==a&&(l.lineHeight=A+d+"px"):l.lineHeight=n),l.display="inline-block",l.wordBreak="break-all",l.verticalAlign=t.font_valight||"middle",l.letterSpacing=t.font_dist+"px",l.textShadow=t.font_frame?"0px 0px "+t.frame_pixes+"px "+t.frame_color:"none",l.whiteSpace=0===r?"pre":"pre-wrap",l.fontWeight=t.font_weight||"";{var w=t.global_halign,x=(t.global_valign,this.dmsStage),T=0;i.offsetHeight}w&&(T=e.offsetWidth,i.style.left=x.width/2-T/2+"px")}},dms.ImageSprite.createObject=function(t,e){var i=new dms.ImageSprite;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.ImageSprite.prototype.resetAttribute=function(){if(dms.RenderObject.prototype.resetAttribute.call(this),this.userData){var t=this.userData,e=this,i=t.data_for,n=t.item_type,s=t.item_val,r=~~t.item_width,a=~~t.item_height;if("15"==n){var o=JSON.parse(s);s="http://api.map.baidu.com/staticimage/v2?ak=VzFAGGC7tDTFzqKKIsTI7GRV&copyright=1&center="+o.lng+","+o.lat+"&zoom="+o.zoom+"&markers="+o.lng+","+o.lat+"&width="+r+"&height="+a}if("40"==n&&(s=s.split("|")[0]),i){s=this.userProperties.item_val;var l=this.userProperties;r=~~l.item_width,a=~~l.item_height,this.left=l.item_left,this.top=l.item_top;var c=l.rotate_angle;this.setRotate(0,0,c);var h=l.x_scale,d=l.y_scale;this.setScale(h,d)}var u=t.item_cntype,p="";if(2==u)p=s;else if(3==u)if(t.__key_id){var m=s;p=fmacapi.tpl_res_img_url(t.__key_id,u,m)}else p=s;""==p&&t.base64ImageData&&(p=t.base64ImageData),this.imageRect=t.image_rect,dms.addImageToLoad(e,e.dmsStage);var f="w/"+Math.ceil(1*r)+"/h/"+Math.ceil(1*a);p.indexOf("data:")<0&&(p=p.indexOf("w/")>=0?p.replace(/(w\/)([0-9]+)(\/h\/)([0-9]+)/g,f):p.indexOf("imageView")>=0?p+"/"+f:p+"?imageView2/2/"+f),e.image=p,e.setContentWidth(r),e.setContentHeight(a),t.group_id>0}},dms.InfiniteChallenge.createObject=function(t,e){var i=new dms.InfiniteChallenge;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.InfiniteChallenge.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);var t=this;if(this.userData){var e=this.userData,i=e.item_val,n=e.item_val_sub||"",s=e.item_href||"请在此处输入密码",r=e.item_width,a=e.item_height,o=e.font_size,l=e.item_color,c=e.item_border,h=e.bd_color||"#000",d=e.bd_style||"solid",u=e.animate_end_act,p=this.contentElement,m=p.style;m.width=r+"px",m.height=a+"px";var f=this._challengeTxt.style;this._challengeTxt.placeholder=s,f.width=r+"px",f.fontSize=o,f.lineHeight=a+"px",f.color=l,f.height=a+"px",f.border="none",f.textAlign="center",f.background="transparent",f.outline="none",f.resize="none";var g=this._challengeBtn.style;this._challengeBtn.innerHTML=n,g.width=r/3+"px",g.height=a+"px",g.fontSize=o,g.color=l,g.textAlign="center",g.lineHeight=a+"px",g.margin="0 auto",g.marginTop=.8*a+"px",g.display="block",g.boxSizing="border-box",g.borderLeft=c+"px "+d+" "+h;var v=e.data_for,y="123";y=v?this.userProperties.item_val:i}$(this._challengeBtn).on(dms.getEventName(),function(e){e.stopPropagation(),e.preventDefault(),t._checkOK(y,u)})},dms.InnerBrowse.createObject=function(t,e){var i=new dms.InnerBrowse;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.InnerBrowse.prototype.resetAttribute=function(){dms.Text.prototype.resetAttribute.call(this);var t=this;if(this.userData){var e=this.userData,i=this.contentElement,n=i.style;i.innerHTML=e.item_val_sub,n.width=e.item_width+"px",n.height=e.item_height+"px",n.lineHeight=e.item_height+"px",this.onClick=function(e){e.stopPropagation(),e.preventDefault(),t._showIframeView()}}},dms.InputText.createObject=function(t,e){var i=new dms.InputText;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.InputText.prototype.resetAttribute=function(){if(dms.Text.prototype.resetAttribute.call(this),this.userData){var t=this.userData,e=this._text.element,i=t.item_val;e.innerHTML="",i&&(e.placeholder=i),e.setAttribute("data-input","user-input"),e.setAttribute("data-objectId",t.objectId),e.style.verticalAlign="middle",e.style.boxSizing="border-box";var n=t.bg_color;n||(e.style.backgroundColor="transparent");var s=t.item_height||0;e.style.lineHeight=s+"px",e.style.paddingLeft="10px",e.style.outline="none",e.style.resize="none"}},dms.Label.createObject=function(t,e){var i=new dms.Label;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Label.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);if(this.userData){var t=this.userData,e=this.contentElement,i=e.style;i.width=t.item_width+"px",i.height=t.item_height+"px",i.lineHeight=t.item_height+"px",new dms.LabelCreator(e,t)}},dms.LongPress.createObject=function(t,e){var i=new dms.LongPress;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.LongPress.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this),this.timeOutEvent=0;var t=this;if(this.userData){var e=this.userData,i=this.contentElement,n=e.item_color,s=e.font_size,r=(e.item_val,e.item_border),a=e.bd_radius;i.style.width=e.item_width+"px",i.style.height=e.item_height+"px",n&&(i.style.color=n),s&&(i.style.fontSize=s),i.style.userSelect="none",i.style.WebkitUserSelect="none",$(i.parentNode).addClass("noDownLoad"),$(i).attr("data-type","me-fingerprint");var o=document.createElement("div"),l=o.style;l.position="absolute",l.zIndex="5",l.left="0",l.top="0",l.width=e.item_width/6+"px",l.height=e.item_height/6+"px",a&&(l.borderBottomRightRadius=a),l.border="0",l.borderTop=r+"px solid "+n,l.borderLeft=r+"px solid "+n,i.appendChild(o);var c=document.createElement("div"),h=c.style;h.position="absolute",h.zIndex="5",h.top="0",h.right="0",h.width=e.item_width/6+"px",h.height=e.item_height/6+"px",h.border="0",a&&(h.borderBottomRightRadius=a),h.borderTop=r+"px solid "+n,h.borderRight=r+"px solid "+n,i.appendChild(c);
var d=document.createElement("div"),u=d.style;u.position="absolute",u.zIndex="5",u.left="0",u.bottom="0",u.width=e.item_width/6+"px",u.height=e.item_height/6+"px",a&&(u.borderBottomRightRadius=a),u.border="0",u.borderBottom=r+"px solid "+n,u.borderLeft=r+"px solid "+n,i.appendChild(d);var p=document.createElement("div"),m=p.style;m.position="absolute",m.zIndex="5",m.bottom="0",m.right="0",m.width=e.item_width/6+"px",m.height=e.item_height/6+"px",a&&(m.borderBottomRightRadius=a),m.border="0",m.borderBottom=r+"px solid "+n,m.borderRight=r+"px solid "+n,i.appendChild(p);var f=n.substring(3,n.lastIndexOf(")"));this.popupDiv||(this.popupDiv=document.createElement("div")),this.popupDiv.className="noDownLoad fingerprint-move",this.popupDiv.style.width=e.item_width-30+"px",this.popupDiv.style.height="1px",this.popupDiv.style.position="absolute",this.popupDiv.style.zIndex="6",this.popupDiv.style.top="97%",this.popupDiv.style.left="15px",this.popupDiv.style.boxShadow="0px 2px 4px "+("rgba"+f+", .35)"),this.popupDiv.style.WebkitBoxShadow="0px 2px 4px "+("rgba"+f+", .35)"),this.popupDiv.style.background="-webkit-linear-gradient(left, "+("rgba"+f+", 0)")+", "+n+" 50%, "+("rgba"+f+", 0)")+")",i.appendChild(this.popupDiv);var g=document.createElement("div");g.className="noDownLoad";var v=g.style;v.position="absolute",v.zIndex="7",v.left="0",v.top="0",v.width=e.item_width+"px",v.height=e.item_height+"px",v.border="0",i.appendChild(g);var y=e.item_href}$(this.parent.element).find("img").css("pointer-events","none");var b=dms.isPC()?!1:!0,_=b?"touchstart":"mousedown",A=b?"touchmove":"mousemove",w=b?"touchend":"mouseup";this.addEventListener(_,function(e){return e.preventDefault(),e.stopPropagation(),t.goTouchStart(y),!1}),this.addEventListener(A,function(e){return e.preventDefault(),e.stopPropagation(),t.goTouchMove(),!1}),this.addEventListener(w,function(e){return e.preventDefault(),e.stopPropagation(),t.goTouchEnd(),!1})},dms.MailText.createObject=function(t,e){var i=new dms.MailText;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.MailText.prototype.resetAttribute=function(){if(dms.Text.prototype.resetAttribute.call(this),this.userData){var t=this.userData,e=this._text.element;e.href="Mailto:"+t.item_val,e.style.textDecoration="none",e.style.border="none",e.style.outline="none"}},dms.Map.createObject=function(t,e){var i=new dms.Map;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Map.prototype.resetAttribute=function(){dms.ImageSprite.prototype.resetAttribute.call(this);var t=this;if(this.userData){{var e=this.userData;e.item_val,~~e.item_width,~~e.item_height}this.onClick=function(e){e.stopPropagation(),e.preventDefault(),t._showMapIframeView()}}},dms.MultiFrame.createObject=function(t,e){var i,n,s=t.group_id,r=e.__currentPageObjects,a=[];for(n=r.length-1;n>=0;n--)i=r[n],i.group_id==s&&i!=t&&t.item_type!=i.item_type&&a.push(i);a=a.sort(function(t,e){var i=parseInt(t.item_layer),n=parseInt(e.item_layer);return i-n});var o=t.item_width,l=t.item_height,c=new dms.MultiFrame;c.userData=t,ROSetItemId.call(c,t,e);var h=e.__currentStage;if(e.__currentStage=new dms.Stage,e.__currentStage.pageLoadManager=h.pageLoadManager,e.__currentStage.pageIndex=h.pageIndex,e.__currentStage.width=o,e.__currentStage.height=l,a.length>0){var d=null;for(n=0;n<a.length;n++){var u=a[n];d=e._createDisplayObject(u),d&&c.addChildAt(d,n)}}return e.__currentStage=h,c},dms.MultiFrame.prototype.resetAttribute=function(){if(dms.RenderObject.prototype.resetAttribute.call(this),this.userData){{var t=this.userData,e=t.item_width,i=t.item_height;t.item_border,t.item_color,t.item_val,t.item_left,t.item_top}this.width=e,this.height=i}for(var n=this.children,s=0;s<n.length;s++)n[s].resetAttribute()},dms.MultiSelect.createObject=function(t,e){var i=new dms.MultiSelect;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.MultiSelect.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);if(this.userData){var t=this.userData,e=this.contentElement;if(e.style.width=t.item_width+"px",e.style.height=t.item_height+"px",this._checkboxCreator)return;this._checkboxCreator=new dms.CheckboxCreator(this.contentElement,this.userData)}},dms.PanoramicPhoto.createObject=function(t,e){var i=new dms.PanoramicPhoto;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.PanoramicPhoto.prototype.resetAttribute=function(){if(dms.ImageSprite.prototype.resetAttribute.call(this),this.userData){var t=this,e=this.userData,i=this.contentElement;t.reLoadIndex=0,t.reLoadEdNum=0,i.style.width=e.item_width+"px",i.style.height=e.item_height+"px",t.minLeft=0,t.maxLeft=t.minLeft+e.item_width,t.showIndex=0,t.startPosX=0,t.manuallyStart=0,t.lastNum=0,t.lastToLeft=0,t.spinningSpeed=20,t.moveTime=0,t.endTime=0,t.bgArr=[],t.addEvent(),e.item_val&&(t.bgArr=e.item_val.split("|"),i.setAttribute("src",t.bgArr[0]),t.loadImg())}},dms.Password.createObject=function(t,e){var i=new dms.Password;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Password.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);var t=this;if(this.userData){var e=this.userData,i=e.item_val,n=e.item_val_sub||"",s=e.item_href||"请在此处输入密码",r=e.item_width,a=e.item_height,o=e.font_size,l=e.item_color,c=e.item_border,h=e.bd_color||"#000",d=e.bd_style||"solid",u=e.animate_end_act,p=this.contentElement,m=p.style;m.width=r+"px",m.height=a+"px";var f=this._passwordTxt.style;this._passwordTxt.placeholder=s,f.width=r+"px",f.fontSize=o,f.lineHeight=a+"px",f.color=l,f.height=a+"px",f.border="none",f.textAlign="center",f.background="transparent",f.outline="none",f.resize="none";var g=this._passwordBtn.style;this._passwordBtn.innerHTML=n,g.width=r/3+"px",g.height=a+"px",g.fontSize=o,g.color=l,g.textAlign="center",g.lineHeight=a+"px",g.margin="0 auto",g.marginTop=.8*a+"px",g.display="block",g.boxSizing="border-box",g.borderLeft=c+"px "+d+" "+h;var v=e.data_for,y=e.ext_attr;if(this.errorCount=3,y&&(this.errorCount=Number(y)),this.passwordInfor&&(this.tplId=this.passwordInfor.tplId,this.tplType=this.passwordInfor.tplType,this.invalidDetail=this.passwordInfor.invalidDetail),this.historicalErrorCount=0,t.invalidDetail&&dms.isJsonObject(t.invalidDetail)){var b=JSON.parse(t.invalidDetail);b.ext_attr_31&&(this.historicalErrorCount=Number(b.ext_attr_31))}var _="123";_=v?this.userProperties.item_val:i}$(this._passwordBtn).on(dms.getEventName(),function(e){e.stopPropagation(),e.preventDefault(),t._checkOK(_,u)})},dms.PhoneText.createObject=function(t,e){var i=new dms.PhoneText;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.PhoneText.prototype.resetAttribute=function(){if(dms.Text.prototype.resetAttribute.call(this),this.userData){var t=this.userData,e=this._text.element,i=e.style,n=t.item_val_sub||"",s=t.item_height,r=t.item_border,a=t.bg_color;e.href="tel:"+t.item_val,i.textDecoration="none",e.innerHTML=n,$(e).attr("data-type","me-dialing"),n||$(e).attr("data-type","me-dialing-cancel-content"),i.outline="none",i.lineHeight=s-2*r+"px",i.overflow="hidden",i.textIndent="-5px",a&&(i.backgroundColor=a)}},dms.Photos.createObject=function(t,e){var i=new dms.Photos;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Photos.prototype.resetAttribute=function(){if(dms.RenderObject.prototype.resetAttribute.call(this),this.userData){var t=this.userData,e=this.contentElement;this.contentElement.id="photos-container"+dms.getNewID(),$(this.element).addClass("pro-wrapper"),e.style.width=t.item_width+"px",e.style.height=t.item_height+"px",e.parentNode.style.width=t.item_width+"px",e.parentNode.style.height=t.item_height+"px",this.element.style.width=t.item_width+"px",this.element.style.height=t.item_height+"px",e.style.overflow="hidden",e.style.padding="0",this.uid=dms.getNewID()+"",e.setAttribute("data-type","me-photo-swipe"),e.setAttribute("data-uid",this.uid),this.initSwipe()}},dms.PicFrame.createObject=function(t,e){var i=new dms.PicFrame;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.PicFrame.prototype.resetAttribute=function(){if(dms.ImageSprite.prototype.resetAttribute.call(this),this.userData){{var t=this,e=this.userData,i=e.item_width,n=e.item_height,s=this.dmsStage||{width:0,height:0};this.contentElement.style}this.element.style.pointerEvents="none",0==i&&(i=s.width),0==n&&(n=s.height),t.width=i,t.height=n,t.left=0,t.top=0}},dms.Radio.createObject=function(t,e){var i=new dms.Radio;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Radio.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);if(this.userData){var t=this.userData,e=this.contentElement;if(e.style.width=t.item_width+"px",e.style.height=t.item_height+"px",this._radioCreator)return;this._radioCreator=new dms.RadioCreator(this.contentElement,this.userData)}},dms.RedEnvelopes.createObject=function(t,e){var i=new dms.RedEnvelopes;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.RedEnvelopes.prototype.resetAttribute=function(){dms.ImageSprite.prototype.resetAttribute.call(this);var t=this;if(this.userData){var e=this.userData,i=this.contentElement,n=(i.style,e.item_href),s=e.item_val_sub;if(!n)return;if(window.app&&window.app.VERSION)return;this.onClick=function(e){e.stopPropagation(),e.preventDefault();var i=t.redEnvelopesInfo;i.fmawr=fmawr||"0",i.envelopesId=s||"",window.localStorage.tpl_red_envelopes_info=JSON.stringify(i),window.app&&window.app.VERSION?window.open(n,"_blank"):window.location.href=n}}},dms.Reward.createObject=function(t,e){var i=new dms.Reward;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Reward.prototype.resetAttribute=function(){dms.Text.prototype.resetAttribute.call(this);var t=this;if(this.userData){var e=this.userData,i=this.contentElement,n=i.style;n.width=e.item_width+"px",n.height=e.item_height+"px",n.lineHeight=e.item_height+"px";var s=e.item_href;if(!s)return;this.onClick=function(e){e.stopPropagation(),e.preventDefault();var i=t.rewardInfor;i.fmawr=fmawr||"0",window.localStorage.tpl_award_info=JSON.stringify(i),window.location.href=s};var r=navigator.userAgent.toLowerCase();r.indexOf("micromessenger")<0&&(this.element.style.display="none")}},dms.SVG.createObject=function(t,e){var i=new dms.SVG;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.SVG.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);if(this.userData){var t=this.userData,e=this.contentElement,i=e.style;i.width=t.item_width+"px",i.height=t.item_height+"px";var n=t.item_val;e.innerHTML=n;var s=t.item_val_sub;s=dms.toJSON(s);var r=0;s.delay&&(r=s.delay);var a=1;s.duration&&(a=s.duration);var o="1";s.infinite&&(o=s.infinite);var l=0;s.a1&&(l=parseInt(s.a1));var c=0;s.a2&&(c=parseInt(s.a2));var h=0;s.b1&&(h=parseInt(s.b1));var d=0;s.b2&&(d=parseInt(s.b2));var u=e.querySelector("path"),p=u.getTotalLength(),m=l/100*p,f=c/100*p,g=h/100*p,v=d/100*p;u.style.transform="matrix(1, 0, 0, 1, 0, 0)",u.style.strokeDashoffset=m,u.style.strokeDasharray=g-f+" , "+p;var y=[];y.push("@-webkit-keyframes dash { to {stroke-dashoffset: -"+g+";stroke-dasharray: "+(v-g)+" , "+p+";}}@keyframes dash { to {stroke-dashoffset: -"+g+";stroke-dasharray: "+(v-g)+" , "+p+";}}");var b=document.createElement("style");b.type="text/css",b.id="svg-animation-keyframes",b.innerHTML=y.join(""),document.head.appendChild(b),u.style.animation="dash "+a+"s linear "+r+"s "+o+" forwards",u.style.WebkitAnimation="dash "+a+"s linear "+r+"s "+o+" forwards"}},dms.Scratch.createObject=function(t,e){var i=new dms.Scratch;return i.userData=t,ROSetItemId.call(i,t,e),this._scratchPopupView=null,i},dms.Scratch.prototype.resetAttribute=function(){if(dms.RenderObject.prototype.resetAttribute.call(this),this.userData){var t=this.userData,e=this._text,i=this.element,n=t.font_size,s=t.item_color,r=~~t.item_width||0,a=~~t.item_height||0,o=(t.item_type,e.element.style),l=t.item_val_sub,c=t.font_family,h=parseInt(n);e.fontSize=n;var d=l.split(/(?:\r\n|\r|\n)/);l=l.replace(/\n/g,"<br/>"),e.htmlText=l;var u="mid"==t.font_halign?"center":t.font_halign,p=u||"left";e.textAlign=p;var m=t.font_style,f=t.text_decoration;m&&(o.fontStyle=m),f&&(o.textDecoration=f);var g=t.bg_color;if(g&&(o.backgroundColor=g),r&&(e.textWidth=t.item_width-1),a&&(e.textHeight=t.item_height),c&&(e.fontFamily=dms.CloundFont.loadFont(l,c)),dms.isJsonObject(s)){var v=dms.toJSON(s);e.textColor=v.colors[0]}else e.textColor=s;0!=r&&0!=a&&(e.element.style.overflow="hidden",e.element.style.overflowY="auto");var y=t.line_height;0!=y&&(d.length>=1&&0==a?o.lineHeight=y+h+"px":0!=r?0!=a&&a>=y+h?o.lineHeight=y+h+"px":0==a&&(o.lineHeight=y+h+"px"):o.lineHeight=n),o.display="inline-block",o.wordBreak="break-all",o.verticalAlign=t.font_valight||"middle",o.letterSpacing=t.font_dist+"px",o.textShadow=t.font_frame?"0px 0px "+t.frame_pixes+"px "+t.frame_color:"none",o.whiteSpace=0===r?"pre":"pre-wrap",o.fontWeight=t.font_weight||"";{var b=t.global_halign,_=(t.global_valign,this.dmsStage),A=0;i.offsetHeight}b&&(A=e.offsetWidth,i.style.left=_.width/2-A/2+"px"),this._scratchPopupView||(this._scratchPopupView=new dms.ClipPopupView(this.parent.element,t))}},dms.Shake.createObject=function(t,e){var i=new dms.Shake;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Shake.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);if(this.userData){{var t=this.userData,e=this.contentElement,i=t.item_color,n=t.font_size;t.item_val,t.auto_play}e.style.width=t.item_width+"px",e.style.height=t.item_height+"px",i&&(e.style.color=i),n&&(e.style.fontSize=n),$(e).addClass("me-yaoyiyao yaoYiYao");{t.item_href}this.endScript=t.animate_end_act,this.startShake()}},dms.TextInText.createObject=function(t,e){var i,n,s=t.group_id,r=e.__currentPageObjects,a=null;for(n=r.length-1;n>=0;n--)if(i=r[n],i.group_id==s&&i!=t&&t.item_type!=i.item_type){a=i;break}var o=new dms.TextInText;if(ROSetItemId.call(o,t,e),o._backText.userData=t,a){var l=e._createDisplayObject(a);l&&o.addFrontText(l)}return o},dms.TextInText.prototype.resetAttribute=function(){this._backText.resetAttribute(),this._frontText.resetAttribute(),this.resetClip()},dms.Text.createObject=function(t,e){var i=new dms.Text;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Text.prototype.resetAttribute=function(){if(dms.RenderObject.prototype.resetAttribute.call(this),this.userData){var t=this.userData,e=this._text,i=this.element,n=t.font_size,s=t.item_color,r=~~t.item_width||0,a=~~t.item_height||0,o=t.item_type,l=e.element.style,c=t.data_for,h=t.item_val;c&&(h=this.userProperties.item_val);var d=t.font_family,u=parseInt(n);if(e.fontSize=n,dms.isIOS()){var p=$(window).width();(320==p||640==p)&&(u-=4,e.fontSize=u+"px")}var m=h.split(/(?:\r\n|\r|\n)/);h=h.replace(/\n/g,"<br/>"),e.htmlText=h;var f="mid"==t.font_halign?"center":t.font_halign,g=f||"left";e.textAlign=g;var v=t.font_style,y=t.text_decoration;v&&(l.fontStyle=v),y&&(l.textDecoration=y);var b=t.bg_color;if(b&&(l.backgroundColor=b),d&&(e.fontFamily=dms.CloundFont.loadFont(h,d)),dms.isJsonObject(s)){var _=dms.toJSON(s);e.textColor=_.colors[0]}else e.textColor=s;var A=t.writing_mode,w=t.item_scroll;0!=r&&0!=a?(l.overflow="hidden","2"==o&&!A&&w?(l.width=t.item_width+"px",e.textHeight=t.item_height):(r&&(e.textWidth=t.item_width),a&&(e.textHeight=t.item_height))):(r&&(e.textWidth=t.item_width),a&&(e.textHeight=t.item_height));var x=t.line_height;0!=x&&(m.length>=1&&0==a?l.lineHeight=x+u+"px":0!=r?0!=a&&a>x+u?l.lineHeight=x+u+"px":0==a&&(l.lineHeight=x+u+"px"):l.lineHeight=n),A&&(l.writingMode=A,l.WebkitWritingMode=A),l.display="inline-block",l.wordBreak="break-all",l.verticalAlign=t.font_valight||"middle",l.letterSpacing=t.font_dist+"px",l.textShadow=t.font_frame?"0px 0px "+t.frame_pixes+"px "+t.frame_color:"none",l.whiteSpace=0===r?"pre":"pre-wrap",l.fontWeight=t.font_weight||"";{var T=t.global_halign,S=(t.global_valign,this.dmsStage),E=0;i.offsetHeight}T&&(E=e.offsetWidth,i.style.left=S.width/2-E/2+"px")}},dms.Timer.createObject=function(t,e){var i=new dms.Timer;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Timer.prototype.resetAttribute=function(){dms.Text.prototype.resetAttribute.call(this);if(this.userData){var t=this.userData,e=this.contentElement,i=e.style;i.overflowY="hidden",this.endScript=t.animate_end_act;var n=(this.stage||this.parent.stage,t.item_val),s=t.auto_play,r=t.data_for;if(r){var a=this.userProperties.item_type;n=7==a||8==a?this.userProperties.item_val_sub:this.userProperties.item_val}var o=Number(n);this.initTimerTime=o,this.timerTime=o,e.innerHTML=this.returnFormattedToSeconds(this.timerTime),s&&this.startTimer()}},dms.Video.createObject=function(t,e){var i=new dms.Video;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Video.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);var t=this;if(this.userData){var e=this.userData,i=e.data_for;i&&(this.userData.item_href=this.userProperties.item_href,this.userData.item_val=this.userProperties.item_val);var n=this.contentElement;n.style.width=e.item_width+"px",n.style.height=e.item_height+"px";var s=this.userData.item_val,r=e.bg_color,a=this.userData.item_href,o="100% auto";if(!a)return;if(a.indexOf("iframe")>-1){if(s){var l=new Image;l.src=s,l.onload=function(){var t=l.width,e=l.height;o=t>e?"100% auto":"auto 100%",n.style.backgroundImage='url("'+s+'")',n.style.backgroundPosition="center",n.style.backgroundSize=o,n.style.backgroundRepeat="no-repeat"}}var c=this._playButton.style;c.width="88px",c.height="88px",c.position="absolute",c.top="calc(50% - 44px)",c.left="calc(50% - 44px)",c.top="-webkit-calc(50% - 44px)",c.left="-webkit-calc(50% - 44px)",c.zIndex="2",c.margin="0 auto",c.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACBCAMAAADQfiliAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACkVBMVEUAAAD////////////5+fns7Ozs7Ozv7+/09PT4+Pj////////////5+fns7Oz+/v7g4OC4uLiRkZFwcHBWVlZDQ0MtLS0gICATExMQEBD////7+/vt7e39/f3j4+Ojo6NlZWU0NDQJCQkAAAD29vby8vL29vavr69iYmIaGhr////9/f3w8PD29vampqZNTU0HBwf////y8vL6+vrOzs5jY2MLCwv////x8fH8/PyoqKgzMzP////x8fH7+/uYmJgeHh709PSenp78/Pz29vbExMQuLi7x8fHu7u78/Pz5+fmfn5/////v7+9LS0v////09PS7u7sXFxf8/Pz5+fmBgYECAgL19fX19fVMTEz////x8fHp6ekwMDDx8fHY2NgbGxv////y8vLOzs7JyckPDw8XFxdvb2+VlZWZmZmBgYE3Nzdqamrk5OTs7Oy6uro0NDRaWlrr6+vp6emhoaEcHBzW1tbg4OCOjo5/f3/Gxsbj4+OLi4sJCQk4ODhlZWXV1dXZ2dltbW0xMTHExMQGBgaCgoLg4ODKyspOTk67u7sVFRWcnJzn5+e1tbUuLi6ysrKgoKAZGRlKSkrJycnh4eGFhYUHBwfX19dpaWmHh4fGxsZISEgrKysxMTG3t7ebm5tPT0/Y2NjU1NRkZGRERESjo6Ourq4pKSk1NTXm5uaZmZkSEhJTU1POzs7e3t59fX1ycnLa2trS0tJfX18NDQ2Pj4/BwcE/Pz8fHx+mpqbq6uqsrKwkJCQ6Ojq8vLzm5uaTk5MQEBBZWVnNzc3d3d15eXkEBAR4eHjb29vQ0NAODg6RkZG+vr47Ozurq6upqak/Pz+/v79eXl6enp7d3d0eHh6/v7+rq6uXl5cAAACejrBqAAAA2nRSTlMACR0sO05ZYmhrbgUeOFZuamtubm5ubm5ubhU2Wm5qbW5ubm49ZWxsbm4GLl9tbW5uDkNsa25uEk1tbW4PTG1ubj5tKGlsblVsKmttB2xuE2NtbiZsbm44bW4CSWxuUmxuBFVsbW5zipeZkHqJu8CmeoS/vpx0tLmVj6u6k3B7h7O1iXmrb5C6roCmc5q+pHijm3N/rbqScLSIkqx/eHqlmoG2soZ+naF3er2YcoKvuI6LtrKFcZWpfXWevqB2e6i8lnKDsLeOb423sXKWqHyfnnyohZu4damgmBCGal4AAAABYktHRACIBR1IAAAACXBIWXMAAAsSAAALEgHS3X78AAAFkElEQVR42s2c92MURRTHN/3S2yW5S09eer/US7v03tuRnpCAKOLSxAbYQlNEAUVQsaBYEDt2BLFGxV5Q/xt37hLJJXe3s7OzzHx/yf0we+9zs7Ozb16JIJDIw9PL28fXT+cfgOSv8/P18fby9CD6LsUKDAoO0YWGhUdE6qOiYwxGo9EQEx2lj4wIDwvVhQQHBWprPjYuPiExKTklFZwpNSU5KTEhPi5WM/Np6RmZWdngXtlZmRnpaRpA5OTm5RcUFgGOigoL8vNyc6jaNxWXlJaVY5m3q7ystKTYRM1+hbmyqlqBebuqqyrNFVTs19Ra6uoV20eqr7PU1qi2n9NgaSSzb2NotDSoXA9NzS2txPaRWluam1TYN7W161XZR9K3txEvyY7OLqNqAABjV2cHkf1uc08vBftIvT3mbuUAff0Dg5QAAAYH+vuUAgwNj1ipAQBYR4aHlAGsGx2jaB9pbHSdAvvjE5NTlAEApiYnxrEBpmdmqQMAzM5MYyKsn5s3aAAAYJifW481A3MbNmoCALBxwxzGLIxPz2sFICHMY9yIiRltboFdhpkJ2cdwUotFeF2zkzIP5dAo/cfQUVOjbremvmHaG9FajQ272aC7+0c0BwAY6Xf9mjIP0HwXuJJ1wOwKoKOH3tvQnQZ7XPgLpk5a/oCcejude01tXTcIAKCrzRlAUzsNlwxPxnYn7mtOs3qnFF/65rVOfEPLDQQAaGlYDVBjUXcuUKpWy+rTVG0jxmU3bbr5ls230kForHUEqLBgHM223CYibd1Gg6De4nisNdfJX7N9h2jXztt3UUCoc9gZTZUYU3CHKN551933IIbde/aqn4TKldtScZX8FbukH3+v9Pe++xHDAw+qfoVUFa/YC0owAhQLorjP9mH/gYOI4dBDKgmqS67vCbmlGBdsE8WHlz4efuQIYnh0QR1Cae7/BHllyggAHjtqW5LHjqshKMtbBojNxwlSORAAPP4EYjjx5ElygvL85aBfWgHO+FUE0vZwCjGceoocoSBtiSC9kIgATj59AjE8c5qUoDB96SZkYAUq1xIAHD+2EzEcfZaMoCjDfhviMrGGOyMAeO55hHDkhcNECJlxNoL4LBUEAGcOIYaDB/YTEGTFI4DABLlgtXsCsG56ETG8dFY5QXYCSgYEJeKNdkkAsHfPbsSw72XFCIlBEkFwkmoC6aXxClqSO159TSFBUrBEEJJMgQDg3FY0Da+ff0MRQXKIRKBLoUIA8OZbiOHtd5QsyRSdlLQKTcUbLEsA1nffQwwX3scnSA31EDzDMAfLEwB88KHNkfvoY2yEME/BK5wiAcAnn15ES/KzS5jfGu4leEdQJQC4/DmahitffIn1rRHegk8kZQKAr75GDN98u4gxNtJH8MU9rOETwOJ33yOGH7bLD9X7Cn5R9AkArv54BTH89LPcwCg/QRetBQHApV/Qkrz4q4wfF60T/GO0IQD47Xfb7uAeIcZfCMANYComAPjjgoTwp9shhgAhADduQUAAi+dF8S+3I4waE8A1aRKYEuDNAfN1oOGz8Dfes8B+P9B2T7wsN1DaE9m/F9i/G9n7B9r4SP8o8JGo+olXSfxE9r4y+/MC5TPTvwRnJirnxmtqzo3sz87s4weUYiibyWMo6uJICzTiSOxjaezjiSpjqltI7a+IqRLFlU/TjCuzj61zkF8gy7GcUWffIceiKM90Vos8Ewe5Nvb5RmU513MU7K/JubLPO3OQe2dff8BBDQb7OhQOanE4qEdiX5PFQV0aB7V57OsTOajR5KBOlYNaXQ7qldnXbHNQt85B7T4H/QsC+x4OgYM+Fg56eTjoZxLY93QJHPS1Cex7+wQO+hsF9j2eSKz7XJFY9/oise53tolxz/cSBNu+d7sY9/4vi+b/P/gPvWFgn17yT0wAAAAASUVORK5CYII=') center no-repeat",c.backgroundSize="cover";var h=this._playButtonAnimation.style;h.width="100px",h.height="100px",h.position="absolute",h.top="calc(50% - 50px)",h.left="calc(50% - 50px)",h.top="-webkit-calc(50% - 50px)",h.left="-webkit-calc(50% - 50px)",h.zIndex="1",h.margin="0 auto",h.background="rgba(31, 29, 27, 0.4)",h.WebkitAnimationName="player-button",h.WebkitAnimationDuration="2.6s",h.WebkitAnimationIterationCount="infinite",h.WebkitAnimationTimingFunction="linear",h.borderRadius="100%",this.contentElement.appendChild(this._playButton),this.contentElement.appendChild(this._playButtonAnimation),this.onClick=function(e){e.stopPropagation(),e.preventDefault(),t._showVideoContent()}}else if(s){var l=new Image;l.src=s,l.onload=function(){var e=l.width,i=l.height;o=e>i?"100% auto":"auto 100%",n.style.backgroundImage='url("'+s+'")',n.style.backgroundPosition="center",n.style.backgroundSize=o,n.style.backgroundRepeat="no-repeat",t._videoPlayer||(t._videoPlayer=new dms.VideoPlayer(t.contentElement,t.userData,o))}}else{if(t._videoPlayer)return;t._videoPlayer=new dms.VideoPlayer(t.contentElement,t.userData,o)}r&&(n.style.backgroundColor=r)}},dms.Vote.createObject=function(t,e){var i=new dms.Vote;return i.userData=t,ROSetItemId.call(i,t,e),i},dms.Vote.prototype.resetAttribute=function(){dms.RenderObject.prototype.resetAttribute.call(this);if(this.__isVote=!0,this.userData){var t=this.userData,e=this.contentElement,i=t.item_color,n=t.font_size,s=t.item_val;if(e.style.width=t.item_width+"px",e.style.height=t.item_height+"px",e.style.color=i,e.style.fontSize=n,this.voteInfor)var r=this.voteInfor.voteNum;e.innerHTML=r,$(e).attr("data-vote",s)}var a=this.stage||this.parent.stage;this.onClick=function(t){if(t.preventDefault(),t.stopPropagation(),this.__isVote){var e=parseInt(this.contentElement.innerHTML)+1;this.contentElement.innerHTML=e;var i=this.voteInfor.pageId;i&&dms.model.addPagesVote(i,function(t){console.log(t)},function(t){console.log(t)})}else new dms.MsgBox(a[0],"您已经投过票了");this.__isVote=!1}},dms.WaterMark.createObject=function(t,e){var i=new dms.WaterMark;return i.userData=t,i.userProperties={},ROSetItemId.call(i,t,e),i},dms.WaterMark.prototype.resetAttribute=function(){dms.ImageSprite.prototype.resetAttribute.call(this),this.userData};